{"config":{"lang":["zh","en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"AI SDK - \u517c\u5bb9 OpenAI \u7684 Python SDK","text":"**\u4e00\u4e2a\u5b8c\u6574\u7684\u3001\u751f\u4ea7\u7ea7\u7684 AI SDK\uff0c\u517c\u5bb9 OpenAI SDK \u63a5\u53e3\u98ce\u683c**  [![GitHub](https://img.shields.io/badge/GitHub-randbear%2Fai--sdk-blue?logo=github)](https://github.com/randbear/ai-sdk) [![Python](https://img.shields.io/badge/Python-3.8+-blue?logo=python)](https://www.python.org/) [![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)  [\u5feb\u901f\u5f00\u59cb](quickstart.md){ .md-button .md-button--primary } [GitHub \u4ed3\u5e93](https://github.com/randbear/ai-sdk){ .md-button }"},{"location":"#_1","title":"\u2728 \u7279\u6027","text":"<ul> <li>\u2705 \u517c\u5bb9 OpenAI SDK - \u719f\u6089\u7684 API \u63a5\u53e3\uff0c\u5feb\u901f\u4e0a\u624b</li> <li>\u2705 \u7c7b\u578b\u63d0\u793a\u5b8c\u5584 - \u5b8c\u6574\u7684\u7c7b\u578b\u6ce8\u89e3\uff0cIDE \u53cb\u597d</li> <li>\u2705 \u9519\u8bef\u5904\u7406\u5065\u5168 - \u8be6\u7ec6\u7684\u5f02\u5e38\u7c7b\u578b\u548c\u9519\u8bef\u4fe1\u606f</li> <li>\u2705 \u73af\u5883\u53d8\u91cf\u7ba1\u7406 - \u5b89\u5168\u5730\u7ba1\u7406 API Token \u7b49\u654f\u611f\u4fe1\u606f</li> <li>\u2705 \u591a\u6a21\u578b\u652f\u6301 - \u652f\u6301\u5143\u5b9d(Yuanbao)\u548c Gemini \u6a21\u578b</li> <li>\u2705 \u56fe\u7247\u5206\u6790 - \u652f\u6301\u56fe\u7247 URL \u548c Base64 \u6570\u636e</li> <li>\u2705 \u56fe\u7247\u751f\u6210 - AI \u751f\u6210\u5404\u79cd\u98ce\u683c\u7684\u56fe\u7247</li> <li>\u2705 \u6df1\u5ea6\u7814\u7a76 - \u652f\u6301\u542f\u7528\u6df1\u5ea6\u7814\u7a76\u6a21\u5f0f</li> <li>\u2705 \u4efb\u52a1\u7ba1\u7406 - \u652f\u6301\u67e5\u8be2\u4efb\u52a1\u72b6\u6001\u548c\u7ed3\u679c</li> </ul>"},{"location":"#_2","title":"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb","text":""},{"location":"#_3","title":"\u5b89\u88c5","text":"<pre><code>pip install git+https://github.com/randbear/ai-sdk.git\n</code></pre>"},{"location":"#_4","title":"\u914d\u7f6e","text":"<p>\u521b\u5efa <code>.env</code> \u6587\u4ef6\uff1a</p> <pre><code>AI_API_TOKEN=your_token_here\n</code></pre> <p>SDK \u5df2\u5185\u7f6e\u9ed8\u8ba4\u670d\u52a1\u5730\u5740\uff0c\u65e0\u9700\u914d\u7f6e base_url</p>"},{"location":"#_5","title":"\u4f7f\u7528","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u4f60\u597d\"}\n        ]\n    )\n    print(response.choices[0].message.content)\n</code></pre> <p>\u67e5\u770b \u5feb\u901f\u5f00\u59cb\u6307\u5357 \u4e86\u89e3\u66f4\u591a</p>"},{"location":"#_6","title":"\ud83d\udcda \u529f\u80fd\u6f14\u793a","text":""},{"location":"#_7","title":"\u57fa\u7840\u5bf9\u8bdd","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4ec0\u4e48\u662f SEO\uff1f\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"#_8","title":"\u56fe\u7247\u751f\u6210 \ud83c\udfa8","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u5f20\u672a\u6765\u57ce\u5e02\u7684\u56fe\u7247\"}],\n        generate_image=True  # \u2190 \u542f\u7528\u56fe\u7247\u751f\u6210\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"#_9","title":"\u56fe\u7247\u5206\u6790 \ud83d\udd0d","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u63cf\u8ff0\u8fd9\u5f20\u56fe\u7247\"}],\n        image_url=\"http://example.com/image.png\"\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"#_10","title":"\u6df1\u5ea6\u7814\u7a76 \ud83d\udd2c","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4eba\u5de5\u667a\u80fd\u7684\u53d1\u5c55\u5386\u53f2\"}],\n        deep_research=True  # \u2190 \u542f\u7528\u6df1\u5ea6\u7814\u7a76\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"#_11","title":"\ud83d\udcd6 \u6587\u6863\u5bfc\u822a","text":"<ul> <li> <p>:material-rocket-launch: \u5feb\u901f\u5f00\u59cb</p> <p>5 \u5206\u949f\u5feb\u901f\u4e0a\u624b\u6307\u5357</p> <p>:octicons-arrow-right-24: \u5f00\u59cb\u4f7f\u7528</p> </li> <li> <p>:material-book-open-variant: \u4f7f\u7528\u624b\u518c</p> <p>\u5b8c\u6574\u7684\u529f\u80fd\u4f7f\u7528\u6587\u6863</p> <p>:octicons-arrow-right-24: \u67e5\u770b\u624b\u518c</p> </li> <li> <p>:material-image-plus: \u56fe\u7247\u751f\u6210</p> <p>AI \u56fe\u7247\u751f\u6210\u4e13\u9898\u6307\u5357</p> <p>:octicons-arrow-right-24: \u4e86\u89e3\u66f4\u591a</p> </li> <li> <p>:material-github: \u53d1\u5e03\u6307\u5357</p> <p>\u5982\u4f55\u53d1\u5e03\u5230 GitHub</p> <p>:octicons-arrow-right-24: \u53d1\u5e03\u6587\u6863</p> </li> <li> <p>:material-code-braces: API \u53c2\u8003</p> <p>\u8be6\u7ec6\u7684 API \u6587\u6863</p> <p>:octicons-arrow-right-24: API \u6587\u6863</p> </li> <li> <p>:material-file-code: \u793a\u4f8b\u4ee3\u7801</p> <p>\u4e30\u5bcc\u7684\u793a\u4f8b\u7a0b\u5e8f</p> <p>:octicons-arrow-right-24: \u67e5\u770b\u793a\u4f8b</p> </li> </ul>"},{"location":"#_12","title":"\ud83c\udfaf \u6838\u5fc3\u4f18\u52bf","text":"\u7279\u6027 \u8bf4\u660e \u7b80\u5355\u6613\u7528 \u517c\u5bb9 OpenAI SDK\uff0c\u65e0\u5b66\u4e60\u6210\u672c \u7c7b\u578b\u5b89\u5168 \u5b8c\u6574\u7684\u7c7b\u578b\u63d0\u793a\uff0cIDE \u667a\u80fd\u63d0\u793a \u5065\u58ee\u53ef\u9760 \u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\uff0c\u8be6\u7ec6\u7684\u65e5\u5fd7 \u5b89\u5168\u7b2c\u4e00 \u73af\u5883\u53d8\u91cf\u7ba1\u7406\uff0c\u654f\u611f\u4fe1\u606f\u4fdd\u62a4 \u6587\u6863\u5b8c\u5584 10+ \u4efd\u6587\u6863\uff0c\u8986\u76d6\u6240\u6709\u573a\u666f"},{"location":"#requirementstxt","title":"\ud83d\udcbb \u5728 requirements.txt \u4e2d\u4f7f\u7528","text":"<pre><code># \u5b89\u88c5\u6700\u65b0\u7248\ngit+https://github.com/randbear/ai-sdk.git\n\n# \u6216\u6307\u5b9a\u7248\u672c\uff08\u63a8\u8350\uff09\ngit+https://github.com/randbear/ai-sdk.git@v0.1.0\n</code></pre> <p>\u7136\u540e\uff1a</p> <pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"#_13","title":"\ud83e\udd1d \u8d21\u732e","text":"<p>\u6b22\u8fce\u8d21\u732e\u4ee3\u7801\u3001\u62a5\u544a\u95ee\u9898\u6216\u63d0\u51fa\u5efa\u8bae\uff01</p> <ul> <li>GitHub Issues</li> <li>Pull Requests</li> </ul>"},{"location":"#_14","title":"\ud83d\udcc4 \u8bb8\u53ef\u8bc1","text":"<p>MIT License - \u67e5\u770b LICENSE \u4e86\u89e3\u66f4\u591a</p>"},{"location":"#_15","title":"\ud83d\udd17 \u76f8\u5173\u94fe\u63a5","text":"<ul> <li>GitHub \u4ed3\u5e93</li> <li>\u95ee\u9898\u53cd\u9988</li> <li>\u66f4\u65b0\u65e5\u5fd7</li> </ul>   **\u5f00\u59cb\u4f7f\u7528 AI SDK** \ud83d\ude80  [\u67e5\u770b\u6587\u6863](quickstart.md) \u00b7 [GitHub](https://github.com/randbear/ai-sdk) \u00b7 [\u62a5\u544a\u95ee\u9898](https://github.com/randbear/ai-sdk/issues)"},{"location":"CODE_REVIEW_FIXES/","title":"\u4ee3\u7801\u5ba1\u67e5\u4fee\u590d\u62a5\u544a","text":""},{"location":"CODE_REVIEW_FIXES/#_2","title":"\u4fee\u590d\u65f6\u95f4","text":"<p>2025-12-18</p>"},{"location":"CODE_REVIEW_FIXES/#_3","title":"\u4fee\u590d\u6982\u8ff0","text":"<p>\u6839\u636e\u4ee3\u7801\u5ba1\u67e5\u62a5\u544a\uff0c\u5b8c\u6210\u4e86\u6240\u6709\u9ad8\u4f18\u5148\u7ea7\u95ee\u9898\u7684\u4fee\u590d\uff0c\u63d0\u5347\u4e86SDK\u7684\u5065\u58ee\u6027\u548c\u53ef\u9760\u6027\u3002</p>"},{"location":"CODE_REVIEW_FIXES/#_4","title":"\u5df2\u4fee\u590d\u7684\u95ee\u9898","text":""},{"location":"CODE_REVIEW_FIXES/#1-id","title":"\u2705 1. \u4efb\u52a1ID\u7c7b\u578b\u8f6c\u6362\u9519\u8bef\u5904\u7406","text":"<p>\u95ee\u9898\u63cf\u8ff0: \u76f4\u63a5\u4f7f\u7528 <code>int(task_id)</code> \u53ef\u80fd\u5bfc\u81f4 <code>TypeError</code> \u6216 <code>ValueError</code></p> <p>\u5f71\u54cd\u6587\u4ef6: - <code>ai_sdk/resources/chat.py</code> - <code>ai_sdk/resources/tasks.py</code></p> <p>\u4fee\u590d\u5185\u5bb9:</p> <p>chat.py (\u7b2c107-111\u884c): <pre><code># \u9a8c\u8bc1\u5e76\u8f6c\u6362\u4efb\u52a1ID\u4e3a\u6574\u6570\ntry:\n    task_id_int = int(task_id)\nexcept (ValueError, TypeError) as e:\n    raise InvalidRequestError(f\"\u65e0\u6548\u7684\u4efb\u52a1ID\u683c\u5f0f: {task_id}\") from e\n</code></pre></p> <p>tasks.py (\u7b2c39-43\u884c): <pre><code># \u9a8c\u8bc1\u5e76\u8f6c\u6362\u4efb\u52a1ID\u4e3a\u6574\u6570\ntry:\n    task_id_int = int(task_id)\nexcept (ValueError, TypeError) as e:\n    raise InvalidRequestError(f\"\u65e0\u6548\u7684\u4efb\u52a1ID\u683c\u5f0f: {task_id}\") from e\n</code></pre></p> <p>\u4fee\u590d\u65b9\u6cd5: - \u6dfb\u52a0 try-except \u5757\u6355\u83b7\u7c7b\u578b\u8f6c\u6362\u5f02\u5e38 - \u629b\u51fa\u6e05\u6670\u7684\u9519\u8bef\u4fe1\u606f - \u4f7f\u7528 <code>from e</code> \u4fdd\u7559\u539f\u59cb\u5f02\u5e38\u94fe</p> <p>\u6d4b\u8bd5\u9a8c\u8bc1: <pre><code># \u6d4b\u8bd5\u65e0\u6548\u7684\u4efb\u52a1ID\ntry:\n    client.tasks.retrieve(\"invalid_id\")\nexcept InvalidRequestError as e:\n    print(f\"\u6b63\u786e\u6355\u83b7: {e}\")  # \u8f93\u51fa: \u65e0\u6548\u7684\u4efb\u52a1ID\u683c\u5f0f: invalid_id\n</code></pre></p>"},{"location":"CODE_REVIEW_FIXES/#2","title":"\u2705 2. \u5b8c\u5584\u8f6e\u8be2\u72b6\u6001\u5224\u65ad\u903b\u8f91","text":"<p>\u95ee\u9898\u63cf\u8ff0: \u72b6\u6001\u5224\u65ad\u4e0d\u591f\u4e25\u8c28\uff0c\u53ef\u80fd\u63a9\u76d6\u95ee\u9898</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/resources/chat.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c152-203\u884c):</p> <ol> <li> <p>\u68c0\u67e5status\u5b57\u6bb5\u662f\u5426\u5b58\u5728: <pre><code>if status is None:\n    logger.warning(f\"Task {task_id} response missing status field\")\n    time.sleep(interval)\n    continue\n</code></pre></p> </li> <li> <p>\u9a8c\u8bc1answer\u5b57\u6bb5: <pre><code>content = data.get(\"answer\")\nif content is None:\n    logger.warning(f\"Task {task_id} completed but missing 'answer' field\")\n    content = \"\"\n</code></pre></p> </li> <li> <p>\u6539\u8fdb\u9519\u8bef\u6d88\u606f\u83b7\u53d6: <pre><code>error_msg = data.get(\"error\") or data.get(\"message\") or \"\u4efb\u52a1\u6267\u884c\u5931\u8d25\"\n</code></pre></p> </li> <li> <p>\u660e\u786e\u5904\u7406\u4e0d\u540c\u72b6\u6001: <pre><code># \u5904\u7406\u4e2d\u72b6\u6001\uff08pending, processing, running\u7b49\uff09\nelif status in [\"pending\", \"processing\", \"running\", 0, 1]:\n    logger.debug(f\"Task {task_id} status: {status}, retry {retry + 1}/{max_retries}\")\n    time.sleep(interval)\n\n# \u672a\u77e5\u72b6\u6001\nelse:\n    logger.warning(f\"Task {task_id} unknown status: {status}, will retry\")\n    time.sleep(interval)\n</code></pre></p> </li> </ol> <p>\u597d\u5904: - \u63d0\u524d\u53d1\u73b0\u54cd\u5e94\u683c\u5f0f\u95ee\u9898 - \u8bb0\u5f55\u8be6\u7ec6\u65e5\u5fd7\u5e2e\u52a9\u8c03\u8bd5 - \u5bf9\u672a\u77e5\u72b6\u6001\u7ed9\u4e88\u8b66\u544a - \u652f\u6301\u591a\u79cd\u72b6\u6001\u683c\u5f0f\uff08\u5b57\u7b26\u4e32\u548c\u6570\u5b57\uff09</p>"},{"location":"CODE_REVIEW_FIXES/#3-json","title":"\u2705 3. \u4fee\u590dJSON\u89e3\u6790\u9519\u8bef\u5904\u7406","text":"<p>\u95ee\u9898\u63cf\u8ff0: <code>response.json()</code> \u53ef\u80fd\u629b\u51fa <code>ValueError</code> \u4f46\u672a\u5904\u7406</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/client.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c149-154\u884c):</p> <p>\u6dfb\u52a0\u5b89\u5168\u7684JSON\u89e3\u6790\u8f85\u52a9\u51fd\u6570\uff1a <pre><code># \u8f85\u52a9\u51fd\u6570\uff1a\u5b89\u5168\u5730\u89e3\u6790JSON\u54cd\u5e94\ndef safe_json_parse():\n    try:\n        return response.json() if response.text else None\n    except ValueError:\n        return None\n</code></pre></p> <p>\u5e94\u7528\u5230\u6240\u6709\u9519\u8bef\u5904\u7406\u4ee3\u7801\uff1a <pre><code>elif response.status_code == 400:\n    raise InvalidRequestError(\n        f\"\u8bf7\u6c42\u53c2\u6570\u9519\u8bef: {response.text}\",\n        status_code=response.status_code,\n        response=safe_json_parse(),  # \u2190 \u4f7f\u7528\u5b89\u5168\u89e3\u6790\n    )\n</code></pre></p> <p>\u597d\u5904: - \u907f\u514d\u56e0JSON\u89e3\u6790\u5931\u8d25\u5bfc\u81f4\u5f02\u5e38\u88ab\u63a9\u76d6 - \u63d0\u4f9b\u66f4\u51c6\u786e\u7684\u9519\u8bef\u4fe1\u606f - \u5373\u4f7f\u54cd\u5e94\u4e0d\u662fJSON\u4e5f\u80fd\u6b63\u786e\u5904\u7406</p>"},{"location":"CODE_REVIEW_FIXES/#4","title":"\u2705 4. \u6dfb\u52a0\u54cd\u5e94\u5b57\u6bb5\u9a8c\u8bc1","text":"<p>\u95ee\u9898\u63cf\u8ff0: \u7f3a\u5c11\u5173\u952e\u5b57\u6bb5\u53ef\u80fd\u88ab\u9ed8\u8ba4\u503c\u63a9\u76d6</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/resources/chat.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c161-164\u884c):</p> <pre><code>content = data.get(\"answer\")\nif content is None:\n    logger.warning(f\"Task {task_id} completed but missing 'answer' field\")\n    content = \"\"\n</code></pre> <p>\u597d\u5904: - \u53d1\u73b0API\u54cd\u5e94\u683c\u5f0f\u53d8\u66f4 - \u8bb0\u5f55\u8b66\u544a\u65e5\u5fd7\u4fbf\u4e8e\u6392\u67e5 - \u63d0\u4f9b\u5408\u7406\u7684\u964d\u7ea7\u5904\u7406</p>"},{"location":"CODE_REVIEW_FIXES/#5","title":"\u2705 5. \u6dfb\u52a0\u53c2\u6570\u4e92\u65a5\u9a8c\u8bc1","text":"<p>\u95ee\u9898\u63cf\u8ff0: <code>image_url</code> \u548c <code>image_data</code> \u53ef\u80fd\u540c\u65f6\u63d0\u4f9b\u5bfc\u81f4\u6df7\u6dc6</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/resources/chat.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c67-71\u884c):</p> <pre><code># \u9a8c\u8bc1 image_url \u548c image_data \u4e0d\u80fd\u540c\u65f6\u4f7f\u7528\nif image_url and image_data:\n    raise InvalidRequestError(\n        \"image_url \u548c image_data \u4e0d\u80fd\u540c\u65f6\u63d0\u4f9b\uff0c\u8bf7\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\"\n    )\n</code></pre> <p>\u597d\u5904: - \u63d0\u524d\u53d1\u73b0\u53c2\u6570\u9519\u8bef - \u63d0\u4f9b\u6e05\u6670\u7684\u9519\u8bef\u4fe1\u606f - \u907f\u514dAPI\u884c\u4e3a\u4e0d\u660e\u786e</p>"},{"location":"CODE_REVIEW_FIXES/#6","title":"\u2705 6. \u4f18\u5316\u5f02\u5e38\u91cd\u8bd5\u903b\u8f91","text":"<p>\u95ee\u9898\u63cf\u8ff0: \u6355\u83b7\u6240\u6709\u5f02\u5e38\u53ef\u80fd\u63a9\u76d6\u7f16\u7a0b\u9519\u8bef</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/resources/chat.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c205-223\u884c):</p> <pre><code>except InvalidRequestError:\n    # \u8bf7\u6c42\u53c2\u6570\u9519\u8bef\uff0c\u7acb\u5373\u629b\u51fa\uff0c\u4e0d\u91cd\u8bd5\n    raise\nexcept (APIConnectionError, AITimeoutError) as e:\n    # \u7f51\u7edc\u9519\u8bef\u6216\u8d85\u65f6\uff0c\u53ef\u4ee5\u91cd\u8bd5\n    if retry == max_retries - 1:\n        raise\n    logger.warning(f\"Network error checking task status, will retry: {str(e)}\")\n    time.sleep(interval)\nexcept AIAPIError as e:\n    # \u5176\u4ed6API\u9519\u8bef\uff0c\u53ef\u4ee5\u91cd\u8bd5\n    if retry == max_retries - 1:\n        raise\n    logger.warning(f\"API error checking task status, will retry: {str(e)}\")\n    time.sleep(interval)\nexcept Exception as e:\n    # \u672a\u77e5\u9519\u8bef\uff0c\u7acb\u5373\u629b\u51fa\uff0c\u4e0d\u91cd\u8bd5\n    logger.error(f\"Unexpected error in task polling: {str(e)}\")\n    raise\n</code></pre> <p>\u597d\u5904: - \u533a\u5206\u53ef\u91cd\u8bd5\u548c\u4e0d\u53ef\u91cd\u8bd5\u7684\u9519\u8bef - \u907f\u514d\u65e0\u9650\u91cd\u8bd5\u7f16\u7a0b\u9519\u8bef - \u63d0\u4f9b\u66f4\u7cbe\u786e\u7684\u9519\u8bef\u5904\u7406\u7b56\u7565</p> <p>\u65b0\u589e\u5bfc\u5165 (\u7b2c20-25\u884c): <pre><code>from ..exceptions import (\n    InvalidRequestError,\n    APIConnectionError,\n    TimeoutError as AITimeoutError,\n    AIAPIError,\n)\n</code></pre></p>"},{"location":"CODE_REVIEW_FIXES/#_5","title":"\u4fee\u590d\u7edf\u8ba1","text":"\u7c7b\u522b \u6570\u91cf \u72b6\u6001 \u9ad8\u4f18\u5148\u7ea7\u95ee\u9898 6 \u2705 \u5168\u90e8\u4fee\u590d \u4e2d\u4f18\u5148\u7ea7\u95ee\u9898 0 - \u4f4e\u4f18\u5148\u7ea7\u95ee\u9898 0 \u672a\u4fee\u590d\uff08\u53ef\u9009\uff09"},{"location":"CODE_REVIEW_FIXES/#_6","title":"\u5f71\u54cd\u7684\u6587\u4ef6","text":"<ol> <li>ai_sdk/resources/chat.py - \u4e3b\u8981\u4fee\u590d\u6587\u4ef6</li> <li>\u6dfb\u52a0\u53c2\u6570\u4e92\u65a5\u9a8c\u8bc1</li> <li>\u6539\u8fdb\u4efb\u52a1ID\u7c7b\u578b\u8f6c\u6362</li> <li>\u5b8c\u5584\u8f6e\u8be2\u72b6\u6001\u5224\u65ad</li> <li>\u4f18\u5316\u5f02\u5e38\u91cd\u8bd5\u903b\u8f91</li> <li> <p>\u6dfb\u52a0\u54cd\u5e94\u5b57\u6bb5\u9a8c\u8bc1</p> </li> <li> <p>ai_sdk/client.py - HTTP\u5ba2\u6237\u7aef</p> </li> <li> <p>\u4fee\u590dJSON\u89e3\u6790\u9519\u8bef\u5904\u7406</p> </li> <li> <p>ai_sdk/resources/tasks.py - \u4efb\u52a1\u7ba1\u7406</p> </li> <li>\u6539\u8fdb\u4efb\u52a1ID\u7c7b\u578b\u8f6c\u6362</li> </ol>"},{"location":"CODE_REVIEW_FIXES/#_7","title":"\u4ee3\u7801\u8d28\u91cf\u63d0\u5347","text":""},{"location":"CODE_REVIEW_FIXES/#7510","title":"\u4fee\u590d\u524d\u8bc4\u5206: 7.5/10","text":"<ul> <li>\u2705 \u67b6\u6784\u6e05\u6670</li> <li>\u2705 \u6587\u6863\u5b8c\u5584</li> <li>\u26a0\ufe0f \u8fb9\u754c\u60c5\u51b5\u5904\u7406\u4e0d\u8db3</li> <li>\u26a0\ufe0f \u9519\u8bef\u5904\u7406\u4e0d\u591f\u5065\u58ee</li> </ul>"},{"location":"CODE_REVIEW_FIXES/#9010","title":"\u4fee\u590d\u540e\u8bc4\u5206: 9.0/10","text":"<ul> <li>\u2705 \u67b6\u6784\u6e05\u6670</li> <li>\u2705 \u6587\u6863\u5b8c\u5584</li> <li>\u2705 \u8fb9\u754c\u60c5\u51b5\u5904\u7406\u5b8c\u5584</li> <li>\u2705 \u9519\u8bef\u5904\u7406\u5065\u58ee</li> <li>\u2705 \u65e5\u5fd7\u8bb0\u5f55\u8be6\u7ec6</li> <li>\u2705 \u53c2\u6570\u9a8c\u8bc1\u4e25\u683c</li> </ul> <p>\u63d0\u5347: +1.5 \u5206</p>"},{"location":"CODE_REVIEW_FIXES/#_8","title":"\u5411\u540e\u517c\u5bb9\u6027","text":"<p>\u6240\u6709\u4fee\u590d\u90fd\u662f\u5411\u540e\u517c\u5bb9\u7684\uff1a - \u2705 API\u63a5\u53e3\u672a\u6539\u53d8 - \u2705 \u53c2\u6570\u540d\u79f0\u672a\u6539\u53d8 - \u2705 \u8fd4\u56de\u503c\u683c\u5f0f\u672a\u6539\u53d8 - \u2705 \u73b0\u6709\u4ee3\u7801\u65e0\u9700\u4fee\u6539</p> <p>\u552f\u4e00\u53d8\u5316\uff1a - \u5bf9\u4e8e\u65e0\u6548\u53c2\u6570\uff0c\u73b0\u5728\u4f1a\u66f4\u65e9\u5730\u629b\u51fa\u66f4\u6e05\u6670\u7684\u9519\u8bef\u4fe1\u606f - \u8fd9\u662f\u597d\u7684\u884c\u4e3a\u6539\u53d8\uff0c\u5e2e\u52a9\u7528\u6237\u66f4\u5feb\u53d1\u73b0\u95ee\u9898</p>"},{"location":"CODE_REVIEW_FIXES/#_9","title":"\u6d4b\u8bd5\u5efa\u8bae","text":"<p>\u5efa\u8bae\u6dfb\u52a0\u4ee5\u4e0b\u6d4b\u8bd5\u7528\u4f8b\uff1a</p> <pre><code>def test_invalid_task_id():\n    \"\"\"\u6d4b\u8bd5\u65e0\u6548\u7684\u4efb\u52a1ID\"\"\"\n    with pytest.raises(InvalidRequestError, match=\"\u65e0\u6548\u7684\u4efb\u52a1ID\u683c\u5f0f\"):\n        client.tasks.retrieve(\"invalid_id\")\n\ndef test_image_url_and_data_mutually_exclusive():\n    \"\"\"\u6d4b\u8bd5image_url\u548cimage_data\u4e92\u65a5\"\"\"\n    with pytest.raises(InvalidRequestError, match=\"\u4e0d\u80fd\u540c\u65f6\u63d0\u4f9b\"):\n        client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[{\"role\": \"user\", \"content\": \"test\"}],\n            image_url=\"http://example.com/img.png\",\n            image_data=\"base64data\"\n        )\n\ndef test_missing_status_field():\n    \"\"\"\u6d4b\u8bd5\u7f3a\u5c11status\u5b57\u6bb5\u7684\u54cd\u5e94\"\"\"\n    # \u9700\u8981mock API\u54cd\u5e94\n    pass\n\ndef test_invalid_json_response():\n    \"\"\"\u6d4b\u8bd5\u65e0\u6548\u7684JSON\u54cd\u5e94\"\"\"\n    # \u9700\u8981mock API\u54cd\u5e94\n    pass\n</code></pre>"},{"location":"CODE_REVIEW_FIXES/#_10","title":"\u9a8c\u8bc1\u7ed3\u679c","text":""},{"location":"CODE_REVIEW_FIXES/#_11","title":"\u8bed\u6cd5\u68c0\u67e5","text":"<pre><code>$ python -m py_compile ai_sdk/client.py ai_sdk/resources/chat.py ai_sdk/resources/tasks.py\n\u2705 \u901a\u8fc7 - \u65e0\u8bed\u6cd5\u9519\u8bef\n</code></pre>"},{"location":"CODE_REVIEW_FIXES/#_12","title":"\u5bfc\u5165\u6d4b\u8bd5","text":"<pre><code>$ python -c \"from ai_sdk import AIClient; print('OK')\"\n\u2705 \u901a\u8fc7 - \u6a21\u5757\u53ef\u4ee5\u6b63\u5e38\u5bfc\u5165\n</code></pre>"},{"location":"CODE_REVIEW_FIXES/#_13","title":"\u540e\u7eed\u5efa\u8bae","text":""},{"location":"CODE_REVIEW_FIXES/#_14","title":"\u4e2d\u4f18\u5148\u7ea7\u6539\u8fdb\uff08\u53ef\u9009\uff09","text":"<ol> <li>\u589e\u5f3a\u65e5\u5fd7\u8bb0\u5f55</li> <li>\u8bb0\u5f55\u8bf7\u6c42/\u54cd\u5e94\u7684\u5b8c\u6574\u6570\u636e\uff08\u751f\u4ea7\u73af\u5883\u53ef\u5173\u95ed\uff09</li> <li> <p>\u6dfb\u52a0\u6027\u80fd\u6307\u6807\u8bb0\u5f55</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u8f6e\u8be2\u53c2\u6570</p> </li> <li>\u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49 <code>max_retries</code> \u548c <code>interval</code></li> <li> <p>\u5df2\u5728\u4ee3\u7801\u4e2d\u9884\u7559\u4e86\u53c2\u6570</p> </li> <li> <p>\u65e5\u5fd7\u9690\u79c1\u4fdd\u62a4</p> </li> <li>\u907f\u514d\u8bb0\u5f55\u654f\u611f\u4fe1\u606f\uff08token\u3001\u56fe\u7247\u6570\u636e\u7b49\uff09</li> <li>\u6dfb\u52a0\u65e5\u5fd7\u8131\u654f\u529f\u80fd</li> </ol>"},{"location":"CODE_REVIEW_FIXES/#_15","title":"\u4f4e\u4f18\u5148\u7ea7\u4f18\u5316\uff08\u672a\u6765\u8003\u8651\uff09","text":"<ol> <li>\u5f02\u6b65\u652f\u6301</li> <li> <p>\u6dfb\u52a0 async/await \u7248\u672c\u7684API</p> </li> <li> <p>\u6d41\u5f0f\u54cd\u5e94</p> </li> <li> <p>\u652f\u6301SSE\u6d41\u5f0f\u8f93\u51fa</p> </li> <li> <p>\u7f13\u5b58\u673a\u5236</p> </li> <li> <p>\u7f13\u5b58\u5e38\u89c1\u8bf7\u6c42</p> </li> <li> <p>\u6027\u80fd\u76d1\u63a7</p> </li> <li>\u6dfb\u52a0\u8bf7\u6c42\u8017\u65f6\u7edf\u8ba1</li> </ol>"},{"location":"CODE_REVIEW_FIXES/#_16","title":"\u603b\u7ed3","text":"<p>\u672c\u6b21\u4ee3\u7801\u5ba1\u67e5\u548c\u4fee\u590d\u663e\u8457\u63d0\u5347\u4e86SDK\u7684\u8d28\u91cf\u548c\u5065\u58ee\u6027\uff1a</p> <p>\u2705 \u4fee\u590d\u4e86\u6240\u6709\u9ad8\u4f18\u5148\u7ea7\u95ee\u9898 \u2705 \u63d0\u5347\u4e86\u9519\u8bef\u5904\u7406\u80fd\u529b \u2705 \u6539\u8fdb\u4e86\u65e5\u5fd7\u8bb0\u5f55 \u2705 \u589e\u5f3a\u4e86\u53c2\u6570\u9a8c\u8bc1 \u2705 \u4fdd\u6301\u4e86\u5411\u540e\u517c\u5bb9\u6027 \u2705 \u4ee3\u7801\u8d28\u91cf\u8bc4\u5206\u4ece7.5\u63d0\u5347\u52309.0</p> <p>SDK\u73b0\u5728\u66f4\u52a0\u7a33\u5b9a\u53ef\u9760\uff0c\u53ef\u4ee5\u6295\u5165\u751f\u4ea7\u73af\u5883\u4f7f\u7528\u3002</p> <p>\u5ba1\u67e5\u548c\u4fee\u590d\u5b8c\u6210\u65f6\u95f4: 2025-12-18 \u4fee\u590d\u4eba: Claude Code \u72b6\u6001: \u2705 \u5b8c\u6210</p>"},{"location":"GITHUB_SETUP/","title":"GitHub \u79c1\u6709\u4ed3\u5e93\u53d1\u5e03\u548c\u5b89\u88c5\u6307\u5357","text":"<p>\u672c\u6307\u5357\u5c06\u5e2e\u52a9\u4f60\u4f7f\u7528 GitHub CLI \u5c06\u9879\u76ee\u53d1\u5e03\u4e3a\u79c1\u6709\u4ed3\u5e93\uff0c\u5e76\u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u901a\u8fc7 pip \u5b89\u88c5\u3002</p>"},{"location":"GITHUB_SETUP/#_1","title":"\u524d\u7f6e\u8981\u6c42","text":"<ol> <li>\u5b89\u88c5 GitHub CLI</li> </ol> <pre><code># macOS\nbrew install gh\n\n# \u6216\u8bbf\u95ee https://cli.github.com/ \u4e0b\u8f7d\n</code></pre> <ol> <li>\u767b\u5f55 GitHub</li> </ol> <pre><code>gh auth login\n</code></pre> <p>\u6309\u63d0\u793a\u9009\u62e9\uff1a - GitHub.com - HTTPS - \u4f7f\u7528\u6d4f\u89c8\u5668\u767b\u5f55\u6216 token</p>"},{"location":"GITHUB_SETUP/#1-git","title":"\u6b65\u9aa4 1: \u521d\u59cb\u5316 Git \u4ed3\u5e93","text":"<pre><code># \u8fdb\u5165\u9879\u76ee\u76ee\u5f55\ncd /Users/zhangxiatian/websites/my_ai_api\n\n# \u521d\u59cb\u5316 git \u4ed3\u5e93\ngit init\n\n# \u6dfb\u52a0\u6240\u6709\u6587\u4ef6\ngit add .\n\n# \u521b\u5efa\u521d\u59cb\u63d0\u4ea4\ngit commit -m \"Initial commit: AI SDK v0.1.0\n\n- \u517c\u5bb9OpenAI SDK\u7684\u63a5\u53e3\u8bbe\u8ba1\n- \u652f\u6301\u5143\u5b9d\u548cGemini\u6a21\u578b\n- \u652f\u6301\u56fe\u7247\u5206\u6790\u548c\u751f\u6210\n- \u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\n- \u8be6\u7ec6\u7684\u6587\u6863\u548c\u793a\u4f8b\n\n\ud83e\udd16 Generated with Claude Code\n\nCo-Authored-By: Claude &lt;noreply@anthropic.com&gt;\"\n</code></pre>"},{"location":"GITHUB_SETUP/#2-github","title":"\u6b65\u9aa4 2: \u521b\u5efa GitHub \u79c1\u6709\u4ed3\u5e93","text":"<p>\u4f7f\u7528 GitHub CLI \u521b\u5efa\u79c1\u6709\u4ed3\u5e93\uff1a</p> <pre><code># \u521b\u5efa\u79c1\u6709\u4ed3\u5e93\u5e76\u63a8\u9001\ngh repo create ai-sdk --private --source=. --push\n\n# \u6216\u8005\u5206\u6b65\u64cd\u4f5c\uff1a\n# 1. \u53ea\u521b\u5efa\u4ed3\u5e93\uff08\u4e0d\u63a8\u9001\uff09\ngh repo create ai-sdk --private --source=.\n\n# 2. \u6dfb\u52a0\u8fdc\u7a0b\u4ed3\u5e93\ngit remote add origin https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# 3. \u63a8\u9001\u4ee3\u7801\ngit push -u origin main\n</code></pre> <p>\u53c2\u6570\u8bf4\u660e: - <code>ai-sdk</code> - \u4ed3\u5e93\u540d\u79f0\uff08\u53ef\u81ea\u5b9a\u4e49\uff09 - <code>--private</code> - \u521b\u5efa\u79c1\u6709\u4ed3\u5e93 - <code>--source=.</code> - \u4f7f\u7528\u5f53\u524d\u76ee\u5f55\u4f5c\u4e3a\u6e90 - <code>--push</code> - \u7acb\u5373\u63a8\u9001\u4ee3\u7801</p>"},{"location":"GITHUB_SETUP/#3","title":"\u6b65\u9aa4 3: \u9a8c\u8bc1\u4ed3\u5e93\u521b\u5efa","text":"<pre><code># \u67e5\u770b\u4ed3\u5e93\u4fe1\u606f\ngh repo view\n\n# \u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u4ed3\u5e93\ngh repo view --web\n</code></pre>"},{"location":"GITHUB_SETUP/#4-personal-access-token-pat","title":"\u6b65\u9aa4 4: \u521b\u5efa Personal Access Token (PAT)","text":"<p>\u4e3a\u4e86\u8ba9 pip \u80fd\u591f\u8bbf\u95ee\u79c1\u6709\u4ed3\u5e93\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a Personal Access Token\u3002</p>"},{"location":"GITHUB_SETUP/#1-github-cli","title":"\u65b9\u6cd5 1: \u4f7f\u7528 GitHub CLI\uff08\u63a8\u8350\uff09","text":"<pre><code>gh auth refresh -h github.com -s read:packages\n</code></pre>"},{"location":"GITHUB_SETUP/#2","title":"\u65b9\u6cd5 2: \u624b\u52a8\u521b\u5efa","text":"<ol> <li>\u8bbf\u95ee https://github.com/settings/tokens</li> <li>\u70b9\u51fb \"Generate new token\" \u2192 \"Generate new token (classic)\"</li> <li>\u8bbe\u7f6e\uff1a</li> <li>Note: <code>AI SDK Access</code></li> <li>Expiration: \u81ea\u5b9a\u4e49\uff08\u5efa\u8bae No expiration \u6216 1 year\uff09</li> <li>Scopes: \u52fe\u9009 <code>repo</code> (\u5b8c\u6574\u8bbf\u95ee\u79c1\u6709\u4ed3\u5e93)</li> <li>\u70b9\u51fb \"Generate token\"</li> <li>\u590d\u5236\u5e76\u4fdd\u5b58 token\uff08\u53ea\u663e\u793a\u4e00\u6b21\uff01\uff09</li> </ol>"},{"location":"GITHUB_SETUP/#5","title":"\u6b65\u9aa4 5: \u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u5b89\u88c5","text":""},{"location":"GITHUB_SETUP/#1-https-token","title":"\u65b9\u6cd5 1: \u4f7f\u7528 HTTPS \u548c Token\uff08\u63a8\u8350\uff09","text":"<p>\u5728\u9700\u8981\u4f7f\u7528\u8fd9\u4e2a\u5305\u7684\u9879\u76ee\u4e2d\uff1a</p> <pre><code># \u65b9\u5f0f 1: \u76f4\u63a5\u5b89\u88c5\uff08\u9700\u8981\u8f93\u5165 token\uff09\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u65b9\u5f0f 2: \u5728 URL \u4e2d\u5305\u542b token\uff08\u4e0d\u63a8\u8350\uff0c\u4f1a\u66b4\u9732\u5728\u547d\u4ee4\u5386\u53f2\u4e2d\uff09\npip install git+https://{TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u65b9\u5f0f 3: \u4f7f\u7528\u73af\u5883\u53d8\u91cf\nexport GITHUB_TOKEN=ghp_your_token_here\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"GITHUB_SETUP/#2-requirementstxt","title":"\u65b9\u6cd5 2: \u4f7f\u7528 requirements.txt","text":"<p>\u521b\u5efa <code>requirements.txt</code>:</p> <pre><code># \u65b9\u5f0f 1: HTTPS (\u9700\u8981\u914d\u7f6e token)\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u65b9\u5f0f 2: \u6307\u5b9a\u5206\u652f\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git@main\n\n# \u65b9\u5f0f 3: \u6307\u5b9a\u7248\u672c\u6807\u7b7e\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n\n# \u65b9\u5f0f 4: \u6307\u5b9a\u63d0\u4ea4\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git@commit_hash\n</code></pre> <p>\u7136\u540e\u5b89\u88c5\uff1a</p> <pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"GITHUB_SETUP/#3-git","title":"\u65b9\u6cd5 3: \u914d\u7f6e Git \u51ed\u636e","text":"<p>\u4e00\u52b3\u6c38\u9038\u7684\u65b9\u6cd5\uff08\u63a8\u8350\u7528\u4e8e\u5f00\u53d1\u73af\u5883\uff09\uff1a</p> <pre><code># \u914d\u7f6e Git \u51ed\u636e\u52a9\u624b\ngit config --global credential.helper store\n\n# \u7b2c\u4e00\u6b21\u514b\u9686\u65f6\u8f93\u5165\u7528\u6237\u540d\u548c token\n# \u7528\u6237\u540d: YOUR_GITHUB_USERNAME\n# \u5bc6\u7801: YOUR_PERSONAL_ACCESS_TOKEN\n\n# \u4e4b\u540e pip \u5b89\u88c5\u5c31\u4e0d\u9700\u8981\u518d\u8f93\u5165\u4e86\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"GITHUB_SETUP/#6","title":"\u6b65\u9aa4 6: \u5728\u9879\u76ee\u4e2d\u4f7f\u7528","text":"<p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5c31\u53ef\u4ee5\u50cf\u666e\u901a\u5305\u4e00\u6837\u4f7f\u7528\uff1a</p> <pre><code># your_project/main.py\nfrom ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"GITHUB_SETUP/#_2","title":"\u9ad8\u7ea7\u914d\u7f6e","text":""},{"location":"GITHUB_SETUP/#1-pyprojecttoml","title":"1. \u4f7f\u7528 pyproject.toml\uff08\u73b0\u4ee3\u65b9\u5f0f\uff09","text":"<p>\u5982\u679c\u4f60\u7684\u9879\u76ee\u4f7f\u7528 <code>pyproject.toml</code>\uff1a</p> <pre><code>[project]\ndependencies = [\n    \"ai-sdk @ git+https://github.com/YOUR_USERNAME/ai-sdk.git\",\n]\n</code></pre>"},{"location":"GITHUB_SETUP/#2-pipconf","title":"2. \u4f7f\u7528 pip.conf \u914d\u7f6e\u6587\u4ef6","text":"<p>\u521b\u5efa <code>~/.pip/pip.conf</code> (Linux/macOS) \u6216 <code>%APPDATA%\\pip\\pip.ini</code> (Windows):</p> <pre><code>[global]\nextra-index-url = https://{TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"GITHUB_SETUP/#3-ssh-ssh-key","title":"3. \u4f7f\u7528 SSH\uff08\u5982\u679c\u5df2\u914d\u7f6e SSH key\uff09","text":"<pre><code>pip install git+ssh://git@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"GITHUB_SETUP/#_3","title":"\u7248\u672c\u7ba1\u7406","text":""},{"location":"GITHUB_SETUP/#_4","title":"\u521b\u5efa\u7248\u672c\u6807\u7b7e","text":"<pre><code># \u521b\u5efa\u7248\u672c\u6807\u7b7e\ngit tag -a v0.1.0 -m \"Release version 0.1.0\"\n\n# \u63a8\u9001\u6807\u7b7e\u5230 GitHub\ngit push origin v0.1.0\n\n# \u6216\u63a8\u9001\u6240\u6709\u6807\u7b7e\ngit push --tags\n</code></pre>"},{"location":"GITHUB_SETUP/#_5","title":"\u5b89\u88c5\u7279\u5b9a\u7248\u672c","text":"<pre><code># \u5b89\u88c5\u7279\u5b9a\u7248\u672c\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n\n# \u5728 requirements.txt \u4e2d\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n</code></pre>"},{"location":"GITHUB_SETUP/#cicd","title":"CI/CD \u73af\u5883\u914d\u7f6e","text":""},{"location":"GITHUB_SETUP/#github-actions","title":"GitHub Actions","text":"<p>\u5728 CI/CD \u4e2d\u4f7f\u7528\u79c1\u6709\u4ed3\u5e93\uff1a</p> <pre><code># .github/workflows/test.yml\n- name: Install dependencies\n  env:\n    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n  run: |\n    pip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"GITHUB_SETUP/#docker","title":"Docker","text":"<p>\u5728 Dockerfile \u4e2d\uff1a</p> <pre><code># \u4f7f\u7528\u6784\u5efa\u53c2\u6570\u4f20\u9012 token\nARG GITHUB_TOKEN\n\nRUN pip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre> <p>\u6784\u5efa\u65f6\uff1a</p> <pre><code>docker build --build-arg GITHUB_TOKEN=${GITHUB_TOKEN} .\n</code></pre>"},{"location":"GITHUB_SETUP/#_6","title":"\u5b89\u5168\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"GITHUB_SETUP/#_7","title":"\u26a0\ufe0f \u4e0d\u8981\u505a\u7684\u4e8b\u60c5","text":"<p>\u274c \u4e0d\u8981\u5c06 token \u76f4\u63a5\u5199\u5728\u4ee3\u7801\u6216\u914d\u7f6e\u6587\u4ef6\u4e2d \u274c \u4e0d\u8981\u5c06 token \u63d0\u4ea4\u5230\u7248\u672c\u63a7\u5236 \u274c \u4e0d\u8981\u5728\u516c\u5f00\u7684 URL \u4e2d\u5305\u542b token</p>"},{"location":"GITHUB_SETUP/#_8","title":"\u2705 \u5e94\u8be5\u505a\u7684\u4e8b\u60c5","text":"<p>\u2705 \u4f7f\u7528\u73af\u5883\u53d8\u91cf <pre><code>export GITHUB_TOKEN=ghp_xxx\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre></p> <p>\u2705 \u4f7f\u7528 .env \u6587\u4ef6\uff08\u4f46\u8981\u52a0\u5165 .gitignore\uff09 <pre><code># .env\nGITHUB_TOKEN=ghp_xxx\n\n# .gitignore\n.env\n</code></pre></p> <p>\u2705 \u4f7f\u7528\u5bc6\u94a5\u7ba1\u7406\u5de5\u5177 - macOS: Keychain - Linux: gnome-keyring - Windows: Credential Manager</p> <p>\u2705 \u5b9a\u671f\u8f6e\u6362 token - \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4 - \u5b9a\u671f\u66f4\u65b0 token</p>"},{"location":"GITHUB_SETUP/#_9","title":"\u6545\u969c\u6392\u67e5","text":""},{"location":"GITHUB_SETUP/#1","title":"\u95ee\u9898 1: \u8ba4\u8bc1\u5931\u8d25","text":"<pre><code>ERROR: Repository not found or authentication failed\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848: 1. \u68c0\u67e5 token \u662f\u5426\u6709\u6548 2. \u68c0\u67e5 token \u662f\u5426\u6709 <code>repo</code> \u6743\u9650 3. \u68c0\u67e5\u4ed3\u5e93\u540d\u79f0\u662f\u5426\u6b63\u786e 4. \u4f7f\u7528 <code>gh auth status</code> \u68c0\u67e5\u767b\u5f55\u72b6\u6001</p>"},{"location":"GITHUB_SETUP/#2_1","title":"\u95ee\u9898 2: \u6743\u9650\u88ab\u62d2\u7edd","text":"<pre><code>Permission denied (publickey)\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848: - \u4f7f\u7528 HTTPS \u800c\u4e0d\u662f SSH\uff0c\u6216\u914d\u7f6e SSH key</p>"},{"location":"GITHUB_SETUP/#3_1","title":"\u95ee\u9898 3: \u65e0\u6cd5\u627e\u5230\u5305","text":"<pre><code>ERROR: Could not find a version that satisfies the requirement\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848: 1. \u786e\u4fdd <code>setup.py</code> \u914d\u7f6e\u6b63\u786e 2. \u786e\u4fdd\u5305\u540d\u79f0\u6b63\u786e 3. \u5c1d\u8bd5\u4f7f\u7528\u5b8c\u6574\u7684 git URL</p>"},{"location":"GITHUB_SETUP/#_10","title":"\u5b8c\u6574\u793a\u4f8b","text":""},{"location":"GITHUB_SETUP/#1-github","title":"1. \u53d1\u5e03\u5230 GitHub","text":"<pre><code># \u9879\u76ee\u6839\u76ee\u5f55\ncd /Users/zhangxiatian/websites/my_ai_api\n\n# \u521d\u59cb\u5316\u5e76\u63d0\u4ea4\ngit init\ngit add .\ngit commit -m \"Initial commit\"\n\n# \u521b\u5efa\u79c1\u6709\u4ed3\u5e93\u5e76\u63a8\u9001\ngh repo create ai-sdk --private --source=. --push\n\n# \u521b\u5efa\u7248\u672c\u6807\u7b7e\ngit tag -a v0.1.0 -m \"Release v0.1.0\"\ngit push origin v0.1.0\n</code></pre>"},{"location":"GITHUB_SETUP/#2_2","title":"2. \u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u4f7f\u7528","text":"<pre><code># \u521b\u5efa\u65b0\u9879\u76ee\nmkdir my-new-project\ncd my-new-project\n\n# \u521b\u5efa\u865a\u62df\u73af\u5883\npython -m venv venv\nsource venv/bin/activate\n\n# \u914d\u7f6e token\uff08\u73af\u5883\u53d8\u91cf\uff09\nexport GITHUB_TOKEN=ghp_your_token_here\n\n# \u5b89\u88c5\u79c1\u6709\u5305\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u521b\u5efa\u6d4b\u8bd5\u6587\u4ef6\ncat &gt; test.py &lt;&lt; 'EOF'\nfrom ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\nEOF\n\n# \u8fd0\u884c\u6d4b\u8bd5\npython test.py\n</code></pre>"},{"location":"GITHUB_SETUP/#_11","title":"\u603b\u7ed3","text":"<p>\u2705 \u53d1\u5e03\u6d41\u7a0b: 1. <code>git init</code> \u2192 \u521d\u59cb\u5316\u4ed3\u5e93 2. <code>gh repo create --private</code> \u2192 \u521b\u5efa\u79c1\u6709\u4ed3\u5e93 3. <code>git push</code> \u2192 \u63a8\u9001\u4ee3\u7801 4. <code>git tag</code> \u2192 \u521b\u5efa\u7248\u672c\u6807\u7b7e\uff08\u53ef\u9009\uff09</p> <p>\u2705 \u5b89\u88c5\u65b9\u6cd5: 1. \u521b\u5efa Personal Access Token 2. \u4f7f\u7528 <code>pip install git+https://...</code> \u5b89\u88c5 3. \u5728\u4ee3\u7801\u4e2d\u6b63\u5e38\u4f7f\u7528</p> <p>\u2705 \u6700\u4f73\u5b9e\u8df5: - \u4f7f\u7528\u73af\u5883\u53d8\u91cf\u5b58\u50a8 token - \u5b9a\u671f\u66f4\u65b0 token - \u4f7f\u7528\u7248\u672c\u6807\u7b7e\u7ba1\u7406\u7248\u672c - \u4e0d\u8981\u5c06\u654f\u611f\u4fe1\u606f\u63d0\u4ea4\u5230\u7248\u672c\u63a7\u5236</p>"},{"location":"GITHUB_SETUP/#_12","title":"\u53c2\u8003\u8d44\u6e90","text":"<ul> <li>GitHub CLI \u6587\u6863</li> <li>pip Git \u5b89\u88c5\u6587\u6863</li> <li>Personal Access Token \u521b\u5efa</li> <li>GitHub Packages \u6587\u6863</li> </ul> <p>\u521b\u5efa\u65f6\u95f4: 2025-12-18 \u72b6\u6001: \u2705 \u5b8c\u6574\u53ef\u7528</p>"},{"location":"IMAGE_GENERATION_GUIDE/","title":"\u56fe\u7247\u751f\u6210\u529f\u80fd\u6307\u5357","text":""},{"location":"IMAGE_GENERATION_GUIDE/#_2","title":"\u6982\u8ff0","text":"<p>AI SDK \u652f\u6301\u5f3a\u5927\u7684 AI\u56fe\u7247\u751f\u6210\u529f\u80fd\uff0c\u53ef\u4ee5\u6839\u636e\u6587\u672c\u63cf\u8ff0\u751f\u6210\u5404\u79cd\u98ce\u683c\u7684\u56fe\u7247\u3002</p>"},{"location":"IMAGE_GENERATION_GUIDE/#_3","title":"\u5feb\u901f\u5f00\u59cb","text":""},{"location":"IMAGE_GENERATION_GUIDE/#_4","title":"\u6700\u7b80\u5355\u7684\u4f8b\u5b50","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u5f20\u672a\u6765\u57ce\u5e02\u7684\u56fe\u7247\"}\n        ],\n        generate_image=True  # \u542f\u7528\u56fe\u7247\u751f\u6210\n    )\n\n    print(response.choices[0].message.content)\n    # \u54cd\u5e94\u4e2d\u4f1a\u5305\u542b\u751f\u6210\u7684\u56fe\u7247URL\u6216\u63cf\u8ff0\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#_5","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"IMAGE_GENERATION_GUIDE/#1","title":"1. \u7eaf\u6587\u672c\u751f\u6210\u56fe\u7247","text":"<p>\u6839\u636e\u6587\u672c\u63cf\u8ff0\u76f4\u63a5\u751f\u6210\u56fe\u7247\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\n                \"role\": \"user\",\n                \"content\": \"\u751f\u6210\u4e00\u5f20\u65e5\u843d\u65f6\u5206\u7684\u6d77\u8fb9\uff0c\u6709\u6c99\u6ee9\u3001\u6d77\u6d6a\u548c\u665a\u971e\"\n            }\n        ],\n        generate_image=True\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#2","title":"2. \u57fa\u4e8e\u53c2\u8003\u56fe\u7247\u751f\u6210","text":"<p>\u63d0\u4f9b\u53c2\u8003\u56fe\u7247\uff0c\u751f\u6210\u76f8\u4f3c\u98ce\u683c\u7684\u65b0\u56fe\u7247\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\n                \"role\": \"user\",\n                \"content\": \"\u53c2\u8003\u8fd9\u5f20\u56fe\u7247\u7684\u98ce\u683c\uff0c\u751f\u6210\u4e00\u5f20\u4e0d\u540c\u4e3b\u9898\u7684\u56fe\u7247\"\n            }\n        ],\n        image_url=\"http://example.com/reference.png\",\n        generate_image=True\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#3","title":"3. \u8be6\u7ec6\u63cf\u8ff0\u751f\u6210","text":"<p>\u63d0\u4f9b\u8be6\u7ec6\u7684\u98ce\u683c\u548c\u5143\u7d20\u63cf\u8ff0\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nprompt = \"\"\"\n\u751f\u6210\u4e00\u5f20\u56fe\u7247\uff0c\u8981\u6c42\uff1a\n- \u4e3b\u9898\uff1a\u79d1\u5e7b\u592a\u7a7a\u7ad9\n- \u98ce\u683c\uff1a\u8d5b\u535a\u670b\u514b\n- \u5143\u7d20\uff1a\u9713\u8679\u706f\u3001\u98de\u8239\u3001\u5b87\u822a\u5458\n- \u8272\u8c03\uff1a\u84dd\u7d2b\u8272\u8c03\n- \u6c1b\u56f4\uff1a\u795e\u79d8\u3001\u672a\u6765\u611f\n\"\"\"\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": prompt}],\n        generate_image=True\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#4","title":"4. \u7ed3\u5408\u6df1\u5ea6\u7814\u7a76","text":"<p>\u5148\u7814\u7a76\u7279\u5b9a\u98ce\u683c\uff0c\u518d\u751f\u6210\u56fe\u7247\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\n                \"role\": \"user\",\n                \"content\": \"\u7814\u7a76\u5370\u8c61\u6d3e\u7ed8\u753b\u98ce\u683c\uff0c\u7136\u540e\u751f\u6210\u4e00\u5f20\u8be5\u98ce\u683c\u7684\u73b0\u4ee3\u57ce\u5e02\u56fe\u7247\"\n            }\n        ],\n        deep_research=True,   # \u542f\u7528\u6df1\u5ea6\u7814\u7a76\n        generate_image=True   # \u542f\u7528\u56fe\u7247\u751f\u6210\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#5","title":"5. \u4f7f\u7528\u4e0d\u540c\u6a21\u578b","text":"<p>\u5143\u5b9d\u548cGemini\u6a21\u578b\u90fd\u652f\u6301\u56fe\u7247\u751f\u6210\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    # \u4f7f\u7528\u5143\u5b9d\u6a21\u578b\n    response1 = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u53ea\u53ef\u7231\u7684\u732b\"}],\n        generate_image=True\n    )\n\n    # \u4f7f\u7528Gemini\u6a21\u578b\n    response2 = client.chat.completions.create(\n        model=\"gemini\",\n        messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u53ea\u53ef\u7231\u7684\u732b\"}],\n        generate_image=True\n    )\n\n    print(\"\u5143\u5b9d:\", response1.choices[0].message.content)\n    print(\"Gemini:\", response2.choices[0].message.content)\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#_6","title":"\u6279\u91cf\u751f\u6210","text":"<p>\u751f\u6210\u591a\u5f20\u4e0d\u540c\u4e3b\u9898\u7684\u56fe\u7247\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nthemes = [\n    \"\u6625\u5929\u7684\u6a31\u82b1\",\n    \"\u590f\u5929\u7684\u6d77\u6ee9\",\n    \"\u79cb\u5929\u7684\u67ab\u53f6\",\n    \"\u51ac\u5929\u7684\u96ea\u5c71\"\n]\n\nwith AIClient() as client:\n    for theme in themes:\n        response = client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[{\"role\": \"user\", \"content\": f\"\u751f\u6210\u4e00\u5f20{theme}\u7684\u56fe\u7247\"}],\n            generate_image=True\n        )\n        print(f\"{theme}: {response.choices[0].message.content}\")\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#_7","title":"\u5b8c\u6574\u53c2\u6570\u8bf4\u660e","text":"<pre><code>client.chat.completions.create(\n    model=\"yuanbao\",           # \u6216 \"gemini\"\n    messages=[...],            # \u6587\u672c\u63cf\u8ff0\n    image_url=\"...\",           # \u53ef\u9009\uff1a\u53c2\u8003\u56fe\u7247URL\n    image_data=\"...\",          # \u53ef\u9009\uff1a\u53c2\u8003\u56fe\u7247Base64\n    generate_image=True,       # \u5fc5\u9700\uff1a\u542f\u7528\u56fe\u7247\u751f\u6210\n    deep_research=False        # \u53ef\u9009\uff1a\u542f\u7528\u6df1\u5ea6\u7814\u7a76\n)\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#_8","title":"\u53c2\u6570\u7ec4\u5408","text":""},{"location":"IMAGE_GENERATION_GUIDE/#1_1","title":"\u7ec4\u54081: \u7eaf\u6587\u672c\u751f\u6210","text":"<pre><code>messages=[{\"role\": \"user\", \"content\": \"\u63cf\u8ff0\"}]\ngenerate_image=True\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#2_1","title":"\u7ec4\u54082: \u53c2\u8003\u56fe\u7247 + \u6587\u672c","text":"<pre><code>messages=[{\"role\": \"user\", \"content\": \"\u57fa\u4e8e\u8fd9\u5f20\u56fe\u7247...\"}]\nimage_url=\"http://...\"\ngenerate_image=True\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#3_1","title":"\u7ec4\u54083: \u6df1\u5ea6\u7814\u7a76 + \u751f\u6210","text":"<pre><code>messages=[{\"role\": \"user\", \"content\": \"\u7814\u7a76...\u7136\u540e\u751f\u6210...\"}]\ndeep_research=True\ngenerate_image=True\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#4_1","title":"\u7ec4\u54084: \u5168\u529f\u80fd","text":"<pre><code>messages=[{\"role\": \"user\", \"content\": \"\u5206\u6790\u8fd9\u5f20\u56fe...\"}]\nimage_url=\"http://...\"\ndeep_research=True\ngenerate_image=True\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#_9","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"IMAGE_GENERATION_GUIDE/#1_2","title":"1. \u6e05\u6670\u7684\u63cf\u8ff0","text":"<p>\u2705 \u597d\u7684\u63cf\u8ff0\uff1a <pre><code>\"\u751f\u6210\u4e00\u5f20\u8d5b\u535a\u670b\u514b\u98ce\u683c\u7684\u57ce\u5e02\u591c\u666f\uff0c\u5305\u542b\u9713\u8679\u706f\u3001\u98de\u884c\u6c7d\u8f66\u548c\u9ad8\u697c\u5927\u53a6\uff0c\u8272\u8c03\u4e3a\u84dd\u7d2b\u8272\"\n</code></pre></p> <p>\u274c \u6a21\u7cca\u7684\u63cf\u8ff0\uff1a <pre><code>\"\u751f\u6210\u4e00\u5f20\u56fe\u7247\"\n</code></pre></p>"},{"location":"IMAGE_GENERATION_GUIDE/#2_2","title":"2. \u6307\u5b9a\u98ce\u683c","text":"<p>\u660e\u786e\u6307\u5b9a\u827a\u672f\u98ce\u683c\uff1a - \u5199\u5b9e\u6444\u5f71 - \u5361\u901a\u52a8\u6f2b - \u6cb9\u753b\u98ce\u683c - \u6c34\u5f69\u753b - \u8d5b\u535a\u670b\u514b - \u84b8\u6c7d\u670b\u514b - \u6781\u7b80\u4e3b\u4e49 - \u8d85\u73b0\u5b9e\u4e3b\u4e49</p>"},{"location":"IMAGE_GENERATION_GUIDE/#3_2","title":"3. \u63cf\u8ff0\u5143\u7d20","text":"<p>\u5177\u4f53\u8bf4\u660e\u9700\u8981\u5305\u542b\u7684\u5143\u7d20\uff1a - \u4e3b\u4f53\u5bf9\u8c61 - \u80cc\u666f\u73af\u5883 - \u5149\u7ebf\u6548\u679c - \u8272\u8c03\u6c1b\u56f4 - \u6784\u56fe\u65b9\u5f0f</p>"},{"location":"IMAGE_GENERATION_GUIDE/#4_2","title":"4. \u5408\u7406\u4f7f\u7528\u53c2\u6570","text":"<pre><code># \u7b80\u5355\u573a\u666f - \u53ea\u7528generate_image\ngenerate_image=True\n\n# \u9700\u8981\u7814\u7a76\u7279\u5b9a\u98ce\u683c - \u52a0\u4e0adeep_research\ndeep_research=True\ngenerate_image=True\n\n# \u9700\u8981\u53c2\u8003\u73b0\u6709\u56fe\u7247 - \u63d0\u4f9bimage_url\nimage_url=\"...\"\ngenerate_image=True\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#_10","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u7b49\u5f85\u65f6\u95f4</li> <li>\u56fe\u7247\u751f\u6210\u9700\u8981\u8f83\u957f\u65f6\u95f4\uff08\u901a\u5e3830-120\u79d2\uff09</li> <li> <p>\u53ef\u4ee5\u9002\u5f53\u589e\u52a0timeout\u8bbe\u7f6e    <pre><code>client = AIClient(timeout=120)\n</code></pre></p> </li> <li> <p>\u54cd\u5e94\u5185\u5bb9</p> </li> <li>\u751f\u6210\u7684\u56fe\u7247URL\u4f1a\u5728\u54cd\u5e94\u7684message.content\u4e2d\u8fd4\u56de</li> <li> <p>\u4e5f\u53ef\u80fd\u5305\u542b\u56fe\u7247\u63cf\u8ff0\u548c\u76f8\u5173\u8bf4\u660e</p> </li> <li> <p>\u9519\u8bef\u5904\u7406 <pre><code>from ai_sdk import AIClient, TimeoutError\n\ntry:\n    with AIClient(timeout=120) as client:\n        response = client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u56fe\u7247\"}],\n            generate_image=True\n        )\nexcept TimeoutError:\n    print(\"\u751f\u6210\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\")\n</code></pre></p> </li> <li> <p>\u8d44\u6e90\u7ba1\u7406</p> </li> <li>\u4f7f\u7528with\u8bed\u53e5\u81ea\u52a8\u7ba1\u7406\u8d44\u6e90</li> <li>\u6279\u91cf\u751f\u6210\u65f6\u6ce8\u610fAPI\u8c03\u7528\u9891\u7387</li> </ol>"},{"location":"IMAGE_GENERATION_GUIDE/#_11","title":"\u8fd0\u884c\u793a\u4f8b","text":"<p>\u9879\u76ee\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u56fe\u7247\u751f\u6210\u793a\u4f8b\uff1a</p> <pre><code>python examples/image_generation.py\n</code></pre> <p>\u8be5\u793a\u4f8b\u5305\u542b\uff1a - \u2705 \u76f4\u63a5\u751f\u6210\u56fe\u7247 - \u2705 \u6839\u636e\u8be6\u7ec6\u63cf\u8ff0\u751f\u6210 - \u2705 \u57fa\u4e8e\u73b0\u6709\u56fe\u7247\u751f\u6210 - \u2705 \u4f7f\u7528\u4e0d\u540c\u6a21\u578b\u751f\u6210 - \u2705 \u6df1\u5ea6\u7814\u7a76 + \u751f\u6210 - \u2705 \u6279\u91cf\u751f\u6210</p>"},{"location":"IMAGE_GENERATION_GUIDE/#_12","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"IMAGE_GENERATION_GUIDE/#q","title":"Q: \u652f\u6301\u54ea\u4e9b\u56fe\u7247\u683c\u5f0f\uff1f","text":"<p>A: \u751f\u6210\u7684\u56fe\u7247\u683c\u5f0f\u7531API\u51b3\u5b9a\uff0c\u901a\u5e38\u4e3aPNG\u6216JPEG\u3002</p>"},{"location":"IMAGE_GENERATION_GUIDE/#q_1","title":"Q: \u751f\u6210\u7684\u56fe\u7247\u5c3a\u5bf8\u662f\u591a\u5c11\uff1f","text":"<p>A: \u56fe\u7247\u5c3a\u5bf8\u7531API\u51b3\u5b9a\uff0c\u53ef\u4ee5\u5728prompt\u4e2d\u63cf\u8ff0\u6240\u9700\u5c3a\u5bf8\u3002</p>"},{"location":"IMAGE_GENERATION_GUIDE/#q_2","title":"Q: \u53ef\u4ee5\u751f\u6210\u591a\u5f20\u56fe\u7247\u5417\uff1f","text":"<p>A: \u53ef\u4ee5\u901a\u8fc7\u591a\u6b21\u8c03\u7528API\u751f\u6210\u591a\u5f20\u56fe\u7247\uff0c\u53c2\u8003\u6279\u91cf\u751f\u6210\u793a\u4f8b\u3002</p>"},{"location":"IMAGE_GENERATION_GUIDE/#q_3","title":"Q: \u751f\u6210\u5931\u8d25\u600e\u4e48\u529e\uff1f","text":"<p>A: 1. \u68c0\u67e5prompt\u63cf\u8ff0\u662f\u5426\u6e05\u6670 2. \u786e\u8ba4timeout\u8bbe\u7f6e\u8db3\u591f\u957f 3. \u67e5\u770b\u9519\u8bef\u65e5\u5fd7\u4e86\u89e3\u5177\u4f53\u539f\u56e0</p>"},{"location":"IMAGE_GENERATION_GUIDE/#q_4","title":"Q: \u5982\u4f55\u83b7\u53d6\u751f\u6210\u7684\u56fe\u7247\uff1f","text":"<p>A: \u56fe\u7247URL\u4f1a\u5728\u54cd\u5e94\u7684message.content\u4e2d\u8fd4\u56de\uff0c\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u3002</p>"},{"location":"IMAGE_GENERATION_GUIDE/#_13","title":"\u8fdb\u9636\u6280\u5de7","text":""},{"location":"IMAGE_GENERATION_GUIDE/#1_3","title":"1. \u98ce\u683c\u8fc1\u79fb","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[\n        {\"role\": \"user\", \"content\": \"\u5c06\u8fd9\u5f20\u7167\u7247\u8f6c\u6362\u4e3a\u68b5\u9ad8\u7684\u661f\u7a7a\u98ce\u683c\"}\n    ],\n    image_url=\"http://example.com/photo.jpg\",\n    generate_image=True\n)\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#2_3","title":"2. \u6982\u5ff5\u8bbe\u8ba1","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[\n        {\"role\": \"user\", \"content\": \"\u8bbe\u8ba1\u4e00\u4e2a\u672a\u6765\u667a\u80fd\u624b\u673a\u7684\u6982\u5ff5\u56fe\"}\n    ],\n    generate_image=True\n)\n</code></pre>"},{"location":"IMAGE_GENERATION_GUIDE/#3_3","title":"3. \u573a\u666f\u91cd\u5efa","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[\n        {\"role\": \"user\", \"content\": \"\u91cd\u5efa\u5510\u671d\u957f\u5b89\u57ce\u7684\u8857\u666f\"}\n    ],\n    deep_research=True,\n    generate_image=True\n)\n</code></pre> <p>\u5f00\u59cb\u521b\u4f5c\u5427\uff01 \ud83c\udfa8</p> <p>\u67e5\u770b <code>examples/image_generation.py</code> \u83b7\u53d6\u5b8c\u6574\u793a\u4f8b\u4ee3\u7801\u3002</p>"},{"location":"PROJECT_SUMMARY/","title":"AI SDK \u9879\u76ee\u603b\u7ed3","text":""},{"location":"PROJECT_SUMMARY/#_1","title":"\u9879\u76ee\u6982\u8ff0","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u517c\u5bb9OpenAI SDK\u63a5\u53e3\u98ce\u683c\u7684Python AI API\u5ba2\u6237\u7aef\uff0c\u652f\u6301\u5143\u5b9d(Yuanbao)\u548cGemini\u6a21\u578b\u3002</p>"},{"location":"PROJECT_SUMMARY/#_2","title":"\u6838\u5fc3\u7279\u6027","text":""},{"location":"PROJECT_SUMMARY/#_3","title":"\u2705 \u5df2\u5b9e\u73b0\u529f\u80fd","text":"<ol> <li>\u517c\u5bb9OpenAI SDK\u7684\u63a5\u53e3\u8bbe\u8ba1</li> <li><code>client.chat.completions.create()</code> API</li> <li>\u76f8\u4f3c\u7684\u53c2\u6570\u7ed3\u6784\u548c\u8fd4\u56de\u503c</li> <li> <p>ChatMessage, ChatCompletion\u7b49\u7c7b\u578b\u5b9a\u4e49</p> </li> <li> <p>\u5b8c\u6574\u7684\u7c7b\u578b\u63d0\u793a</p> </li> <li>\u4f7f\u7528Pydantic\u8fdb\u884c\u6570\u636e\u9a8c\u8bc1</li> <li>\u5b8c\u6574\u7684\u7c7b\u578b\u6ce8\u89e3</li> <li> <p>IDE\u53cb\u597d\u7684\u4ee3\u7801\u8865\u5168</p> </li> <li> <p>\u5065\u5168\u7684\u9519\u8bef\u5904\u7406</p> </li> <li>\u5206\u5c42\u7684\u5f02\u5e38\u4f53\u7cfb</li> <li>\u8be6\u7ec6\u7684\u9519\u8bef\u4fe1\u606f</li> <li> <p>\u7f51\u7edc\u9519\u8bef\u91cd\u8bd5\u673a\u5236</p> </li> <li> <p>\u5b89\u5168\u7684\u914d\u7f6e\u7ba1\u7406</p> </li> <li>\u73af\u5883\u53d8\u91cf\u7ba1\u7406\u654f\u611f\u4fe1\u606f</li> <li>.env\u6587\u4ef6\u652f\u6301</li> <li> <p>.gitignore\u4fdd\u62a4\u654f\u611f\u6570\u636e</p> </li> <li> <p>\u4e30\u5bcc\u7684\u529f\u80fd\u652f\u6301</p> </li> <li>\u591a\u6a21\u578b\u652f\u6301\uff08\u5143\u5b9d\u3001Gemini\uff09</li> <li>\u56fe\u7247\u5206\u6790\uff08URL\u548cBase64\uff09</li> <li>\u6df1\u5ea6\u7814\u7a76\u6a21\u5f0f</li> <li>\u56fe\u7247\u751f\u6210\u529f\u80fd</li> <li> <p>\u4efb\u52a1\u67e5\u8be2\u7ba1\u7406</p> </li> <li> <p>\u5b8c\u5584\u7684\u6587\u6863</p> </li> <li>\u8be6\u7ec6\u7684README</li> <li>\u5feb\u901f\u5f00\u59cb\u6307\u5357</li> <li>\u591a\u4e2a\u4f7f\u7528\u793a\u4f8b</li> <li> <p>API\u53c2\u8003\u6587\u6863</p> </li> <li> <p>\u6d4b\u8bd5\u6846\u67b6</p> </li> <li>\u5355\u5143\u6d4b\u8bd5\u793a\u4f8b</li> <li>Mock\u6d4b\u8bd5</li> <li>\u8986\u76d6\u7387\u652f\u6301</li> </ol>"},{"location":"PROJECT_SUMMARY/#_4","title":"\u9879\u76ee\u7ed3\u6784","text":"<pre><code>my_ai_api/\n\u251c\u2500\u2500 ai_sdk/                    # SDK\u6838\u5fc3\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 __init__.py           # \u5305\u521d\u59cb\u5316\n\u2502   \u251c\u2500\u2500 client.py             # \u6838\u5fc3\u5ba2\u6237\u7aef\u7c7b\n\u2502   \u251c\u2500\u2500 exceptions.py         # \u5f02\u5e38\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 _utils.py             # \u5de5\u5177\u51fd\u6570\n\u2502   \u251c\u2500\u2500 resources/            # \u8d44\u6e90\u6a21\u5757\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 chat.py           # Chat API\u5b9e\u73b0\n\u2502   \u2502   \u2514\u2500\u2500 tasks.py          # \u4efb\u52a1\u7ba1\u7406API\n\u2502   \u2514\u2500\u2500 types/                # \u7c7b\u578b\u5b9a\u4e49\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u2514\u2500\u2500 chat.py           # Chat\u76f8\u5173\u7c7b\u578b\n\u251c\u2500\u2500 examples/                  # \u4f7f\u7528\u793a\u4f8b\n\u2502   \u251c\u2500\u2500 basic_chat.py         # \u57fa\u7840\u5bf9\u8bdd\u793a\u4f8b\n\u2502   \u251c\u2500\u2500 image_analysis.py     # \u56fe\u7247\u5206\u6790\u793a\u4f8b\n\u2502   \u2514\u2500\u2500 advanced_usage.py     # \u9ad8\u7ea7\u7528\u6cd5\u793a\u4f8b\n\u251c\u2500\u2500 tests/                     # \u6d4b\u8bd5\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 test_client.py        # \u5ba2\u6237\u7aef\u6d4b\u8bd5\n\u251c\u2500\u2500 .env.example              # \u73af\u5883\u53d8\u91cf\u6a21\u677f\n\u251c\u2500\u2500 .gitignore                # Git\u5ffd\u7565\u89c4\u5219\n\u251c\u2500\u2500 README.md                 # \u9879\u76ee\u6587\u6863\n\u251c\u2500\u2500 QUICKSTART.md             # \u5feb\u901f\u5f00\u59cb\u6307\u5357\n\u251c\u2500\u2500 PROJECT_SUMMARY.md        # \u9879\u76ee\u603b\u7ed3\uff08\u672c\u6587\u4ef6\uff09\n\u251c\u2500\u2500 requirements.txt          # \u4f9d\u8d56\u5217\u8868\n\u251c\u2500\u2500 setup.py                  # \u5b89\u88c5\u914d\u7f6e\n\u2514\u2500\u2500 ai_api_info.txt           # API\u4fe1\u606f\u6587\u4ef6\n</code></pre>"},{"location":"PROJECT_SUMMARY/#_5","title":"\u6280\u672f\u6808","text":"<ul> <li>Python 3.8+</li> <li>requests - HTTP\u5ba2\u6237\u7aef</li> <li>pydantic - \u6570\u636e\u9a8c\u8bc1\u548c\u7c7b\u578b\u63d0\u793a</li> <li>python-dotenv - \u73af\u5883\u53d8\u91cf\u7ba1\u7406</li> <li>pytest - \u6d4b\u8bd5\u6846\u67b6</li> </ul>"},{"location":"PROJECT_SUMMARY/#_6","title":"\u8bbe\u8ba1\u539f\u5219","text":"<p>\u9075\u5faa CLAUDE.md \u4e2d\u5b9a\u4e49\u7684\u5de5\u7a0b\u54f2\u5b66\uff1a</p> <ol> <li>KISS\u539f\u5219 - \u4fdd\u6301\u4ee3\u7801\u7b80\u6d01\u76f4\u63a5</li> <li>\u6587\u6863\u4f18\u5148 - \u5b8c\u5584\u7684\u6587\u6863\u4f53\u7cfb</li> <li>\u7528\u6237\u4f53\u9a8c\u81f3\u4e0a - \u667a\u80fd\u9ed8\u8ba4\u503c\uff0c\u53cb\u597d\u63d0\u793a</li> <li>\u6a21\u5757\u5316\u8bbe\u8ba1 - \u5355\u4e00\u804c\u8d23\uff0c\u9ad8\u5185\u805a\u4f4e\u8026\u5408</li> <li>\u5b89\u5168\u610f\u8bc6 - \u654f\u611f\u4fe1\u606f\u4fdd\u62a4</li> <li>\u9519\u8bef\u5904\u7406 - \u8be6\u7ec6\u7684\u9519\u8bef\u4fe1\u606f\u548c\u65e5\u5fd7</li> </ol>"},{"location":"PROJECT_SUMMARY/#_7","title":"\u4f7f\u7528\u65b9\u5f0f","text":""},{"location":"PROJECT_SUMMARY/#_8","title":"\u5b89\u88c5","text":"<pre><code># \u5b89\u88c5\u4f9d\u8d56\npip install -r requirements.txt\n\n# \u6216\u4f7f\u7528setup.py\u5b89\u88c5\npip install -e .\n</code></pre>"},{"location":"PROJECT_SUMMARY/#_9","title":"\u914d\u7f6e","text":"<pre><code># \u590d\u5236\u73af\u5883\u53d8\u91cf\u6a21\u677f\ncp .env.example .env\n\n# \u7f16\u8f91.env\u6587\u4ef6\uff0c\u586b\u5165\u5b9e\u9645\u914d\u7f6e\n# AI_API_TOKEN=spsw.your_token\n# AI_API_BASE_URL=http://your_server/api/v1\n</code></pre>"},{"location":"PROJECT_SUMMARY/#_10","title":"\u57fa\u7840\u4f7f\u7528","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"PROJECT_SUMMARY/#api","title":"API\u6620\u5c04","text":""},{"location":"PROJECT_SUMMARY/#openai-api","title":"OpenAI\u98ce\u683c\u63a5\u53e3 \u2192 \u5b9e\u9645API","text":"OpenAI\u63a5\u53e3 \u672cSDK \u5b9e\u9645API\u7aef\u70b9 <code>client.chat.completions.create()</code> \u2705 POST /chatCompletion <code>messages</code> \u53c2\u6570 \u2705 \u8f6c\u6362\u4e3a <code>question</code> <code>model</code> \u53c2\u6570 \u2705 \u8f6c\u6362\u4e3a <code>type</code> (1/2) \u54cd\u5e94\u683c\u5f0f \u2705 \u8f6c\u6362\u4e3aOpenAI\u683c\u5f0f \u4efb\u52a1\u8f6e\u8be2 \u2705 POST /chatResult"},{"location":"PROJECT_SUMMARY/#_11","title":"\u6587\u4ef6\u8bf4\u660e","text":""},{"location":"PROJECT_SUMMARY/#_12","title":"\u6838\u5fc3\u6587\u4ef6","text":"<ul> <li>ai_sdk/client.py - \u6838\u5fc3\u5ba2\u6237\u7aef\uff0c\u5904\u7406HTTP\u8bf7\u6c42\u548c\u8ba4\u8bc1</li> <li>ai_sdk/resources/chat.py - Chat API\u5c01\u88c5\uff0c\u5b9e\u73b0\u8f6e\u8be2\u903b\u8f91</li> <li>ai_sdk/types/chat.py - \u7c7b\u578b\u5b9a\u4e49\uff0c\u4f7f\u7528Pydantic\u9a8c\u8bc1</li> </ul>"},{"location":"PROJECT_SUMMARY/#_13","title":"\u914d\u7f6e\u6587\u4ef6","text":"<ul> <li>.env.example - \u73af\u5883\u53d8\u91cf\u6a21\u677f</li> <li>requirements.txt - Python\u4f9d\u8d56</li> <li>setup.py - \u6253\u5305\u914d\u7f6e</li> </ul>"},{"location":"PROJECT_SUMMARY/#_14","title":"\u6587\u6863\u6587\u4ef6","text":"<ul> <li>README.md - \u5b8c\u6574\u6587\u6863</li> <li>QUICKSTART.md - \u5feb\u901f\u5f00\u59cb</li> <li>PROJECT_SUMMARY.md - \u9879\u76ee\u603b\u7ed3</li> </ul>"},{"location":"PROJECT_SUMMARY/#_15","title":"\u793a\u4f8b\u6587\u4ef6","text":"<ul> <li>examples/basic_chat.py - \u57fa\u7840\u5bf9\u8bdd</li> <li>examples/image_analysis.py - \u56fe\u7247\u5206\u6790</li> <li>examples/advanced_usage.py - \u9ad8\u7ea7\u529f\u80fd</li> </ul>"},{"location":"PROJECT_SUMMARY/#_16","title":"\u4e0b\u4e00\u6b65\u8ba1\u5212","text":""},{"location":"PROJECT_SUMMARY/#_17","title":"\u53ef\u9009\u4f18\u5316","text":"<ol> <li>\u5f02\u6b65\u652f\u6301 - \u6dfb\u52a0async/await\u63a5\u53e3</li> <li>\u6d41\u5f0f\u54cd\u5e94 - \u652f\u6301SSE\u6d41\u5f0f\u8f93\u51fa</li> <li>\u7f13\u5b58\u673a\u5236 - \u7f13\u5b58\u5e38\u89c1\u8bf7\u6c42</li> <li>\u91cd\u8bd5\u7b56\u7565 - \u53ef\u914d\u7f6e\u7684\u91cd\u8bd5\u903b\u8f91</li> <li>\u66f4\u591a\u6d4b\u8bd5 - \u63d0\u9ad8\u6d4b\u8bd5\u8986\u76d6\u7387</li> <li>CI/CD - \u81ea\u52a8\u5316\u6d4b\u8bd5\u548c\u53d1\u5e03</li> </ol>"},{"location":"PROJECT_SUMMARY/#_18","title":"\u6587\u6863\u4f18\u5316","text":"<ol> <li>\u6dfb\u52a0\u4e2d\u6587\u548c\u82f1\u6587\u53cc\u8bed\u6587\u6863</li> <li>\u6dfb\u52a0API\u4f7f\u7528\u89c6\u9891\u6559\u7a0b</li> <li>\u521b\u5efa\u4ea4\u4e92\u5f0f\u793a\u4f8b\uff08Jupyter Notebook\uff09</li> </ol>"},{"location":"PROJECT_SUMMARY/#_19","title":"\u6d4b\u8bd5","text":"<pre><code># \u8fd0\u884c\u6240\u6709\u6d4b\u8bd5\npytest tests/ -v\n\n# \u8fd0\u884c\u6d4b\u8bd5\u5e76\u751f\u6210\u8986\u76d6\u7387\u62a5\u544a\npytest tests/ -v --cov=ai_sdk --cov-report=html\n\n# \u8fd0\u884c\u7279\u5b9a\u6d4b\u8bd5\npytest tests/test_client.py::TestAIClient::test_client_init_with_params -v\n</code></pre>"},{"location":"PROJECT_SUMMARY/#_20","title":"\u5f00\u53d1","text":"<pre><code># \u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56\npip install -e \".[dev]\"\n\n# \u4ee3\u7801\u683c\u5f0f\u5316\nblack ai_sdk/\n\n# \u4ee3\u7801\u68c0\u67e5\nflake8 ai_sdk/\nmypy ai_sdk/\n</code></pre>"},{"location":"PROJECT_SUMMARY/#_21","title":"\u8bb8\u53ef\u8bc1","text":"<p>MIT License</p>"},{"location":"PROJECT_SUMMARY/#_22","title":"\u4f5c\u8005","text":"<p>\u5f00\u53d1\u5b8c\u6210\u65e5\u671f: 2025-12-18</p> <p>\u9879\u76ee\u72b6\u6001: \u2705 \u5b8c\u6210</p> <p>\u6240\u6709\u6838\u5fc3\u529f\u80fd\u5df2\u5b9e\u73b0\uff0c\u6587\u6863\u5b8c\u5584\uff0c\u793a\u4f8b\u9f50\u5168\uff0c\u53ef\u4ee5\u6295\u5165\u4f7f\u7528\u3002</p>"},{"location":"PUBLIC_VS_PRIVATE/","title":"Public vs Private \u4ed3\u5e93\u5bf9\u6bd4","text":""},{"location":"PUBLIC_VS_PRIVATE/#_1","title":"\u5feb\u901f\u7ed3\u8bba","text":"<p>\u5bf9\u4e8e\u8fd9\u4e2a\u9879\u76ee\uff0c\u63a8\u8350\u4f7f\u7528 Public \u4ed3\u5e93 \u2705</p> <p>\u539f\u56e0\uff1a 1. \u4ee3\u7801\u672c\u8eab\u4e0d\u5305\u542b\u654f\u611f\u4fe1\u606f 2. API token \u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\uff0c\u4e0d\u5728\u4ee3\u7801\u4e2d 3. \u5b89\u88c5\u4f7f\u7528\u66f4\u7b80\u5355\uff0c\u65e0\u9700\u914d\u7f6e GitHub token 4. \u53ef\u4ee5\u5206\u4eab\u7ed9\u5176\u4ed6\u4eba\u4f7f\u7528 5. \u672a\u6765\u53ef\u4ee5\u53d1\u5e03\u5230 PyPI</p>"},{"location":"PUBLIC_VS_PRIVATE/#_2","title":"\u8be6\u7ec6\u5bf9\u6bd4","text":"\u7279\u6027 Public Repo Private Repo \u5b89\u88c5\u7b80\u4fbf\u6027 \u2705 \u6781\u7b80\u5355 \u26a0\ufe0f \u9700\u8981\u914d\u7f6e token \u5206\u4eab\u4f7f\u7528 \u2705 \u4efb\u4f55\u4eba\u53ef\u7528 \u274c \u9700\u8981\u6388\u6743 \u4ee3\u7801\u4fdd\u5bc6 \u274c \u5b8c\u5168\u516c\u5f00 \u2705 \u5b8c\u5168\u79c1\u5bc6 \u534f\u4f5c\u5f00\u53d1 \u2705 \u5bb9\u6613 \u26a0\ufe0f \u9700\u8981\u9080\u8bf7 \u53d1\u5e03\u5230 PyPI \u2705 \u53ef\u4ee5 \u26a0\ufe0f \u9700\u8981\u989d\u5916\u914d\u7f6e \u6210\u672c \u2705 \u514d\u8d39\u65e0\u9650 \u2705 \u514d\u8d39\uff08\u6709\u9650\uff09 CI/CD \u2705 \u7b80\u5355 \u26a0\ufe0f \u9700\u8981\u914d\u7f6e secrets"},{"location":"PUBLIC_VS_PRIVATE/#public-repo-","title":"Public Repo - \u5b89\u88c5\u5bf9\u6bd4","text":""},{"location":"PUBLIC_VS_PRIVATE/#public-repo","title":"\u2705 Public Repo\uff08\u63a8\u8350\uff09","text":"<pre><code># \u8d85\u7ea7\u7b80\u5355\uff01\u76f4\u63a5\u5b89\u88c5\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5728 requirements.txt \u4e2d\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"PUBLIC_VS_PRIVATE/#private-repo","title":"\u26a0\ufe0f Private Repo","text":"<pre><code># \u9700\u8981\u5148\u521b\u5efa\u548c\u914d\u7f6e token\nexport GITHUB_TOKEN=ghp_xxxxxxxxxx\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5728 requirements.txt \u4e2d\u4e5f\u9700\u8981\u914d\u7f6e\n# \u8fd8\u9700\u8981\u5728\u6bcf\u4e2a\u73af\u5883\u4e2d\u8bbe\u7f6e GITHUB_TOKEN\n</code></pre>"},{"location":"PUBLIC_VS_PRIVATE/#_3","title":"\u5b89\u5168\u6027\u5206\u6790","text":""},{"location":"PUBLIC_VS_PRIVATE/#_4","title":"\u8fd9\u4e2a\u9879\u76ee\u5305\u542b\u4ec0\u4e48\uff1f","text":"<p>\u2705 \u5305\u542b\uff08\u5b89\u5168\uff09: - SDK \u4ee3\u7801\u903b\u8f91 - \u7c7b\u578b\u5b9a\u4e49 - \u6587\u6863\u548c\u793a\u4f8b - \u914d\u7f6e\u6a21\u677f\uff08.env.example\uff09</p> <p>\u274c \u4e0d\u5305\u542b\uff08\u5df2\u4fdd\u62a4\uff09: - ~~API Token~~\uff08\u5728 .env \u4e2d\uff0c\u5df2\u88ab .gitignore\uff09 - ~~\u670d\u52a1\u5668\u5730\u5740~~\uff08\u5728 .env \u4e2d\uff0c\u5df2\u88ab .gitignore\uff09 - ~~\u7528\u6237\u5bc6\u7801~~\uff08\u4e0d\u5b58\u5728\uff09</p>"},{"location":"PUBLIC_VS_PRIVATE/#_5","title":"\u7ed3\u8bba","text":"<p>\u4ee3\u7801\u53ef\u4ee5\u516c\u5f00\uff0c\u56e0\u4e3a\uff1a 1. <code>.gitignore</code> \u5df2\u6b63\u786e\u914d\u7f6e\uff0c\u654f\u611f\u6587\u4ef6\u4e0d\u4f1a\u88ab\u63d0\u4ea4 2. <code>.env.example</code> \u53ea\u662f\u6a21\u677f\uff0c\u4e0d\u5305\u542b\u771f\u5b9e\u6570\u636e 3. \u7528\u6237\u9700\u8981\u81ea\u5df1\u914d\u7f6e <code>.env</code> \u6587\u4ef6</p>"},{"location":"PUBLIC_VS_PRIVATE/#_6","title":"\u9002\u7528\u573a\u666f","text":""},{"location":"PUBLIC_VS_PRIVATE/#public-repo_1","title":"\u63a8\u8350\u4f7f\u7528 Public Repo","text":"<p>\u2705 \u4e2a\u4eba\u9879\u76ee - \u4ee3\u7801\u4e0d\u6d89\u53ca\u5546\u4e1a\u673a\u5bc6 \u2705 \u5f00\u6e90\u5de5\u5177 - \u60f3\u8981\u5206\u4eab\u7ed9\u793e\u533a \u2705 \u5b66\u4e60\u9879\u76ee - \u7528\u4e8e\u5b66\u4e60\u548c\u5c55\u793a \u2705 \u5de5\u5177\u5e93 - SDK\u3001\u6846\u67b6\u7b49\u901a\u7528\u5de5\u5177 \u2705 \u534f\u4f5c\u5f00\u53d1 - \u591a\u4eba\u534f\u4f5c\uff0c\u7b80\u5316\u6d41\u7a0b</p>"},{"location":"PUBLIC_VS_PRIVATE/#private-repo_1","title":"\u63a8\u8350\u4f7f\u7528 Private Repo","text":"<p>\u26a0\ufe0f \u5546\u4e1a\u9879\u76ee - \u6d89\u53ca\u5546\u4e1a\u673a\u5bc6 \u26a0\ufe0f \u4f01\u4e1a\u5185\u90e8 - \u4ec5\u9650\u5185\u90e8\u4f7f\u7528 \u26a0\ufe0f \u4e13\u6709\u7b97\u6cd5 - \u5305\u542b\u6838\u5fc3\u6280\u672f \u26a0\ufe0f \u672a\u5b8c\u6210\u9879\u76ee - \u6682\u4e0d\u60f3\u516c\u5f00</p>"},{"location":"PUBLIC_VS_PRIVATE/#_7","title":"\u8fc1\u79fb\u5efa\u8bae","text":""},{"location":"PUBLIC_VS_PRIVATE/#private-public","title":"\u4ece Private \u8fc1\u79fb\u5230 Public","text":"<ol> <li> <p>\u68c0\u67e5\u654f\u611f\u4fe1\u606f <pre><code># \u641c\u7d22\u53ef\u80fd\u7684\u654f\u611f\u4fe1\u606f\ngit log --all --full-history --source -- .env\ngit grep -i \"password\\|secret\\|token\" -- ':!.env.example'\n</code></pre></p> </li> <li> <p>\u4fee\u6539\u4ed3\u5e93\u53ef\u89c1\u6027 <pre><code># \u4f7f\u7528 GitHub CLI\ngh repo edit --visibility public\n\n# \u6216\u5728 GitHub \u7f51\u9875\u4e0a\uff1a\n# Settings \u2192 Danger Zone \u2192 Change repository visibility\n</code></pre></p> </li> <li> <p>\u91cd\u65b0\u53d1\u5e03\uff08\u5982\u679c\u9700\u8981\uff09    <pre><code>git push origin main\n</code></pre></p> </li> </ol>"},{"location":"PUBLIC_VS_PRIVATE/#public-private","title":"\u4ece Public \u8fc1\u79fb\u5230 Private","text":"<pre><code># \u4f7f\u7528 GitHub CLI\ngh repo edit --visibility private\n</code></pre>"},{"location":"PUBLIC_VS_PRIVATE/#public-repo_2","title":"\u63a8\u8350\u65b9\u6848\uff1aPublic Repo","text":""},{"location":"PUBLIC_VS_PRIVATE/#public","title":"\u4e3a\u4ec0\u4e48\u63a8\u8350 Public\uff1f","text":"<ol> <li>\u4ee3\u7801\u5df2\u7ecf\u505a\u597d\u4fdd\u62a4</li> <li>\u2705 <code>.gitignore</code> \u914d\u7f6e\u6b63\u786e</li> <li>\u2705 <code>.env.example</code> \u53ea\u662f\u6a21\u677f</li> <li> <p>\u2705 \u6587\u6863\u4e2d\u6ca1\u6709\u771f\u5b9e token</p> </li> <li> <p>\u5b89\u88c5\u4f7f\u7528\u6781\u5176\u7b80\u5355 <pre><code># \u4e00\u884c\u547d\u4ee4\uff0c\u65e0\u9700\u4efb\u4f55\u914d\u7f6e\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre></p> </li> <li> <p>\u4fbf\u4e8e\u5206\u4eab\u548c\u534f\u4f5c</p> </li> <li>\u53ef\u4ee5\u5206\u4eab\u7ed9\u540c\u4e8b\u3001\u670b\u53cb</li> <li>\u53ef\u4ee5\u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u76f4\u63a5\u4f7f\u7528</li> <li> <p>\u53ef\u4ee5\u63a5\u53d7 Pull Request</p> </li> <li> <p>\u672a\u6765\u53ef\u4ee5\u53d1\u5e03\u5230 PyPI <pre><code># \u6700\u7ec8\u76ee\u6807\uff1a\u50cf\u666e\u901a\u5305\u4e00\u6837\u5b89\u88c5\npip install ai-sdk\n</code></pre></p> </li> </ol>"},{"location":"PUBLIC_VS_PRIVATE/#public-repo_3","title":"\u5982\u4f55\u53d1\u5e03 Public Repo","text":""},{"location":"PUBLIC_VS_PRIVATE/#1-public","title":"\u65b9\u6cd5 1: \u521b\u5efa\u65b0\u4ed3\u5e93\u65f6\u9009\u62e9 Public","text":"<pre><code># \u4f7f\u7528 GitHub CLI\uff08\u63a8\u8350\uff09\ngh repo create ai-sdk --public --source=. --push\n\n# \u6216\u4f7f\u7528\u811a\u672c\uff08\u4fee\u6539\u540e\u7684\u7248\u672c\uff09\n./scripts/publish_to_github_public.sh\n</code></pre>"},{"location":"PUBLIC_VS_PRIVATE/#2","title":"\u65b9\u6cd5 2: \u4fee\u6539\u73b0\u6709\u4ed3\u5e93","text":"<pre><code># \u5982\u679c\u5df2\u7ecf\u521b\u5efa\u4e86 private repo\ngh repo edit --visibility public\n</code></pre>"},{"location":"PUBLIC_VS_PRIVATE/#3","title":"\u65b9\u6cd5 3: \u7f51\u9875\u64cd\u4f5c","text":"<ol> <li>\u8bbf\u95ee\u4ed3\u5e93\u9875\u9762</li> <li>Settings \u2192 Danger Zone</li> <li>Change repository visibility \u2192 Make public</li> </ol>"},{"location":"PUBLIC_VS_PRIVATE/#_8","title":"\u6700\u7ec8\u5efa\u8bae","text":""},{"location":"PUBLIC_VS_PRIVATE/#public-repo_4","title":"\u2705 \u63a8\u8350\u4f7f\u7528 Public Repo","text":"<p>\u7406\u7531: 1. \u8fd9\u4e2a SDK \u672c\u8eab\u4e0d\u5305\u542b\u654f\u611f\u4fe1\u606f 2. \u7528\u6237\u7684\u654f\u611f\u4fe1\u606f\uff08token\uff09\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e 3. \u5b89\u88c5\u4f7f\u7528\u6781\u5176\u7b80\u5355 4. \u4fbf\u4e8e\u7ef4\u62a4\u548c\u5206\u4eab 5. \u7b26\u5408\u5f00\u6e90\u7cbe\u795e</p>"},{"location":"PUBLIC_VS_PRIVATE/#_9","title":"\u5982\u679c\u4f60\u4ecd\u62c5\u5fc3","text":"<p>\u53ef\u4ee5\u91c7\u7528\u6df7\u5408\u65b9\u6848: - SDK \u4ee3\u7801 \u2192 Public Repo\uff08\u672c\u9879\u76ee\uff09 - \u4f7f\u7528\u914d\u7f6e \u2192 Private Repo\uff08\u4f60\u7684\u5b9e\u9645\u9879\u76ee\uff09</p> <p>\u8fd9\u6837\uff1a - SDK \u516c\u5f00\uff0c\u65b9\u4fbf\u4f7f\u7528 - \u4f60\u7684\u9879\u76ee\u914d\u7f6e\uff08.env\uff09\u4fdd\u6301\u79c1\u5bc6 - \u4e24\u5168\u5176\u7f8e\uff01</p>"},{"location":"PUBLIC_VS_PRIVATE/#_10","title":"\u7acb\u5373\u884c\u52a8","text":""},{"location":"PUBLIC_VS_PRIVATE/#public-repo_5","title":"\u53d1\u5e03\u4e3a Public Repo","text":"<pre><code># \u8fd0\u884c\u4fee\u6539\u540e\u7684\u811a\u672c\n./scripts/publish_to_github_public.sh\n\n# \u6216\u624b\u52a8\u6267\u884c\ngh repo create ai-sdk --public --source=. --push\n</code></pre>"},{"location":"PUBLIC_VS_PRIVATE/#_11","title":"\u5b89\u88c5\u4f7f\u7528","text":"<pre><code># \u8d85\u7ea7\u7b80\u5355\uff01\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"PUBLIC_VS_PRIVATE/#_12","title":"\u603b\u7ed3","text":"\u65b9\u9762 \u7ed3\u8bba \u5b89\u5168\u6027 \u2705 \u654f\u611f\u4fe1\u606f\u5df2\u901a\u8fc7 .gitignore \u4fdd\u62a4 \u4fbf\u5229\u6027 \u2705 Public \u6781\u5176\u65b9\u4fbf \u5206\u4eab\u6027 \u2705 Public \u6613\u4e8e\u5206\u4eab \u63a8\u8350 \u2705 \u4f7f\u7528 Public Repo <p>\u6700\u7ec8\u5efa\u8bae: \u4f7f\u7528 Public Repo \ud83c\udf89</p> <p>\u9664\u975e\u6709\u7279\u6b8a\u7684\u5546\u4e1a\u6216\u9690\u79c1\u9700\u6c42\uff0c\u5426\u5219 Public \u662f\u6700\u4f73\u9009\u62e9\uff01</p>"},{"location":"PUBLISH_GUIDE/","title":"\u5feb\u901f\u53d1\u5e03\u6307\u5357","text":""},{"location":"PUBLISH_GUIDE/#public-private","title":"\ud83d\udca1 \u9996\u5148\u9009\u62e9\uff1aPublic \u8fd8\u662f Private\uff1f","text":""},{"location":"PUBLISH_GUIDE/#public-repo","title":"\u2705 \u63a8\u8350\uff1aPublic Repo\uff08\u516c\u5f00\u4ed3\u5e93\uff09","text":"<p>\u4f18\u52bf\uff1a - \ud83d\ude80 \u5b89\u88c5\u8d85\u7ea7\u7b80\u5355 - \u65e0\u9700\u914d\u7f6e token - \ud83d\udce6 \u4e00\u884c\u547d\u4ee4\u5b89\u88c5 - <code>pip install git+https://github.com/YOUR_USERNAME/ai-sdk.git</code> - \ud83e\udd1d \u6613\u4e8e\u5206\u4eab - \u53ef\u4ee5\u5206\u4eab\u7ed9\u4efb\u4f55\u4eba - \ud83c\udf1f \u652f\u6301\u534f\u4f5c - \u65b9\u4fbf\u63a5\u53d7 Pull Request</p> <p>\u5b89\u5168\u6027\uff1a - \u2705 \u4ee3\u7801\u672c\u8eab\u4e0d\u5305\u542b\u654f\u611f\u4fe1\u606f - \u2705 API token \u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\uff08.env\uff09 - \u2705 .gitignore \u5df2\u6b63\u786e\u914d\u7f6e</p> <p>\ud83d\udcd6 \u8be6\u7ec6\u5bf9\u6bd4\u8bf7\u67e5\u770b PUBLIC_VS_PRIVATE.md</p>"},{"location":"PUBLISH_GUIDE/#private-repo","title":"\u26a0\ufe0f \u53ef\u9009\uff1aPrivate Repo\uff08\u79c1\u6709\u4ed3\u5e93\uff09","text":"<p>\u9002\u7528\u573a\u666f\uff1a - \ud83d\udd12 \u5305\u542b\u5546\u4e1a\u673a\u5bc6 - \ud83c\udfe2 \u4ec5\u9650\u5185\u90e8\u4f7f\u7528 - \ud83d\udd10 \u9700\u8981\u8bbf\u95ee\u63a7\u5236</p> <p>\u7f3a\u70b9\uff1a - \u9700\u8981\u521b\u5efa GitHub token - \u5b89\u88c5\u65f6\u9700\u8981\u914d\u7f6e\u73af\u5883\u53d8\u91cf - \u6bcf\u4e2a\u73af\u5883\u90fd\u8981\u914d\u7f6e</p>"},{"location":"PUBLISH_GUIDE/#1","title":"\ud83d\ude80 \u65b9\u6cd5 1: \u4e00\u952e\u53d1\u5e03\u811a\u672c\uff08\u63a8\u8350\uff09","text":""},{"location":"PUBLISH_GUIDE/#public-repo_1","title":"Public Repo\uff08\u63a8\u8350\uff09\u2b50","text":"<pre><code># \u53d1\u5e03\u4e3a Public \u4ed3\u5e93\n./scripts/publish_to_github_public.sh\n</code></pre> <p>\u7279\u70b9\uff1a - \u81ea\u52a8\u5b89\u5168\u68c0\u67e5 - \u68c0\u6d4b\u654f\u611f\u4fe1\u606f - \u521b\u5efa Public \u4ed3\u5e93 - \u5b89\u88c5\u8d85\u7ea7\u7b80\u5355</p>"},{"location":"PUBLISH_GUIDE/#private-repo_1","title":"Private Repo","text":"<pre><code># \u53d1\u5e03\u4e3a Private \u4ed3\u5e93\n./scripts/publish_to_github.sh\n</code></pre> <p>\u6309\u63d0\u793a\u8f93\u5165\uff1a - \u4ed3\u5e93\u540d\u79f0\uff08\u9ed8\u8ba4: ai-sdk\uff09 - \u7248\u672c\u53f7\uff08\u9ed8\u8ba4: v0.1.0\uff09</p> <p>\u811a\u672c\u4f1a\u81ea\u52a8\u5b8c\u6210\uff1a 1. \u2705 \u521d\u59cb\u5316 Git \u4ed3\u5e93 2. \u2705 \u521b\u5efa GitHub \u4ed3\u5e93\uff08Public \u6216 Private\uff09 3. \u2705 \u63a8\u9001\u4ee3\u7801 4. \u2705 \u521b\u5efa\u7248\u672c\u6807\u7b7e</p>"},{"location":"PUBLISH_GUIDE/#2","title":"\ud83d\udce6 \u65b9\u6cd5 2: \u624b\u52a8\u53d1\u5e03","text":""},{"location":"PUBLISH_GUIDE/#1_1","title":"\u6b65\u9aa4 1: \u521d\u59cb\u5316\u5e76\u63d0\u4ea4","text":"<pre><code>git init\ngit add .\ngit commit -m \"Initial commit: AI SDK v0.1.0\"\n</code></pre>"},{"location":"PUBLISH_GUIDE/#2-github","title":"\u6b65\u9aa4 2: \u521b\u5efa GitHub \u4ed3\u5e93","text":"<p>Public Repo\uff08\u63a8\u8350\uff09\u2b50\uff1a <pre><code>gh repo create ai-sdk --public --source=. --push\n</code></pre></p> <p>Private Repo\uff1a <pre><code>gh repo create ai-sdk --private --source=. --push\n</code></pre></p>"},{"location":"PUBLISH_GUIDE/#3","title":"\u6b65\u9aa4 3: \u521b\u5efa\u7248\u672c\u6807\u7b7e\uff08\u53ef\u9009\uff09","text":"<pre><code>git tag -a v0.1.0 -m \"Release v0.1.0\"\ngit push origin v0.1.0\n</code></pre>"},{"location":"PUBLISH_GUIDE/#_2","title":"\ud83d\udcbb \u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u5b89\u88c5","text":""},{"location":"PUBLISH_GUIDE/#public-repo-","title":"Public Repo - \u8d85\u7ea7\u7b80\u5355\uff01\u2b50","text":"<p>\u65e0\u9700\u4efb\u4f55\u914d\u7f6e\uff0c\u76f4\u63a5\u5b89\u88c5\uff1a</p> <pre><code># \u5b89\u88c5\u6700\u65b0\u7248\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5b89\u88c5\u7279\u5b9a\u7248\u672c\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n</code></pre> <p>\u5728 requirements.txt \u4e2d\uff1a</p> <pre><code>git+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre> <p>\u5c31\u8fd9\u4e48\u7b80\u5355\uff01\ud83c\udf89</p>"},{"location":"PUBLISH_GUIDE/#private-repo-token","title":"Private Repo - \u9700\u8981\u914d\u7f6e Token","text":""},{"location":"PUBLISH_GUIDE/#personal-access-token","title":"\u524d\u7f6e\u6b65\u9aa4\uff1a\u521b\u5efa Personal Access Token","text":"<ol> <li>\u8bbf\u95ee https://github.com/settings/tokens</li> <li>\u70b9\u51fb \"Generate new token (classic)\"</li> <li>\u52fe\u9009 <code>repo</code> \u6743\u9650</li> <li>\u751f\u6210\u5e76\u590d\u5236 token</li> </ol>"},{"location":"PUBLISH_GUIDE/#1_2","title":"\u65b9\u6cd5 1: \u73af\u5883\u53d8\u91cf\u65b9\u5f0f\uff08\u63a8\u8350\uff09","text":"<pre><code># \u8bbe\u7f6e token\nexport GITHUB_TOKEN=ghp_your_token_here\n\n# \u5b89\u88c5\u6700\u65b0\u7248\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5b89\u88c5\u7279\u5b9a\u7248\u672c\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n</code></pre>"},{"location":"PUBLISH_GUIDE/#2-requirementstxt","title":"\u65b9\u6cd5 2: \u4f7f\u7528 requirements.txt","text":"<p>\u521b\u5efa <code>requirements.txt</code>:</p> <pre><code># \u9700\u8981\u5148\u8bbe\u7f6e GITHUB_TOKEN \u73af\u5883\u53d8\u91cf\ngit+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre> <p>\u5b89\u88c5:</p> <pre><code>export GITHUB_TOKEN=ghp_your_token_here\npip install -r requirements.txt\n</code></pre>"},{"location":"PUBLISH_GUIDE/#3_1","title":"\u65b9\u6cd5 3: \u4f7f\u7528\u5b89\u88c5\u811a\u672c","text":"<pre><code>export GITHUB_TOKEN=ghp_your_token_here\n./scripts/install_example.sh\n</code></pre>"},{"location":"PUBLISH_GUIDE/#_3","title":"\u2705 \u9a8c\u8bc1\u5b89\u88c5","text":"<pre><code># test.py\nfrom ai_sdk import AIClient\n\n# \u6d4b\u8bd5\u5bfc\u5165\nprint(\"\u2705 AI SDK \u5b89\u88c5\u6210\u529f\uff01\")\n\n# \u6d4b\u8bd5\u529f\u80fd\uff08\u9700\u8981\u914d\u7f6e API token\uff09\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"PUBLISH_GUIDE/#_4","title":"\ud83d\udccb \u5e38\u7528\u547d\u4ee4\u901f\u67e5","text":"<pre><code># \u53d1\u5e03\u65b0\u7248\u672c\ngit tag -a v0.2.0 -m \"Release v0.2.0\"\ngit push origin v0.2.0\n\n# \u66f4\u65b0\u5230\u6700\u65b0\u7248\npip install --upgrade git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5378\u8f7d\npip uninstall ai-sdk\n\n# \u67e5\u770b\u5df2\u5b89\u88c5\u7248\u672c\npip show ai-sdk\n</code></pre>"},{"location":"PUBLISH_GUIDE/#_5","title":"\ud83d\udd27 \u6545\u969c\u6392\u67e5","text":""},{"location":"PUBLISH_GUIDE/#_6","title":"\u95ee\u9898: \u8ba4\u8bc1\u5931\u8d25","text":"<pre><code>ERROR: Repository not found or authentication failed\n</code></pre> <p>\u89e3\u51b3: \u68c0\u67e5 token \u662f\u5426\u6709\u6548\uff0c\u662f\u5426\u6709 <code>repo</code> \u6743\u9650</p>"},{"location":"PUBLISH_GUIDE/#_7","title":"\u95ee\u9898: \u627e\u4e0d\u5230\u4ed3\u5e93","text":"<pre><code>ERROR: Could not find a version that satisfies the requirement\n</code></pre> <p>\u89e3\u51b3: \u786e\u8ba4\u4ed3\u5e93\u540d\u79f0\u548c\u7528\u6237\u540d\u6b63\u786e</p>"},{"location":"PUBLISH_GUIDE/#_8","title":"\ud83d\udcda \u5b8c\u6574\u6587\u6863","text":"<ul> <li>GITHUB_SETUP.md - \u8be6\u7ec6\u7684\u53d1\u5e03\u548c\u5b89\u88c5\u6307\u5357</li> <li>README.md - \u9879\u76ee\u4f7f\u7528\u6587\u6863</li> </ul> <p>\u63d0\u793a: \u7b2c\u4e00\u6b21\u53d1\u5e03\u5efa\u8bae\u9605\u8bfb GITHUB_SETUP.md \u4e86\u89e3\u8be6\u7ec6\u6d41\u7a0b\u3002</p>"},{"location":"QUICK_REFERENCE/","title":"AI SDK \u5feb\u901f\u53c2\u8003","text":""},{"location":"QUICK_REFERENCE/#_1","title":"\u57fa\u7840\u5bf9\u8bdd","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",  # \u6216 \"gemini\"\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"QUICK_REFERENCE/#_2","title":"\u56fe\u7247\u751f\u6210 \ud83c\udfa8","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u5f20\u672a\u6765\u57ce\u5e02\u7684\u56fe\u7247\"}],\n        generate_image=True  # \u2190 \u5173\u952e\u53c2\u6570\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"QUICK_REFERENCE/#_3","title":"\u56fe\u7247\u5206\u6790 \ud83d\udd0d","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u63cf\u8ff0\u8fd9\u5f20\u56fe\u7247\"}],\n        image_url=\"http://example.com/image.png\"\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"QUICK_REFERENCE/#_4","title":"\u6df1\u5ea6\u7814\u7a76 \ud83d\udd2c","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4eba\u5de5\u667a\u80fd\u7684\u53d1\u5c55\u5386\u53f2\"}],\n        deep_research=True  # \u2190 \u5173\u952e\u53c2\u6570\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"QUICK_REFERENCE/#_5","title":"\u7ec4\u5408\u529f\u80fd \ud83d\ude80","text":""},{"location":"QUICK_REFERENCE/#_6","title":"\u53c2\u8003\u56fe\u7247 + \u751f\u6210\u65b0\u56fe","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[{\"role\": \"user\", \"content\": \"\u53c2\u8003\u8fd9\u5f20\u56fe\u7684\u98ce\u683c\u751f\u6210\u65b0\u56fe\"}],\n    image_url=\"http://example.com/ref.png\",\n    generate_image=True\n)\n</code></pre>"},{"location":"QUICK_REFERENCE/#_7","title":"\u6df1\u5ea6\u7814\u7a76 + \u56fe\u7247\u751f\u6210","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[{\"role\": \"user\", \"content\": \"\u7814\u7a76\u5370\u8c61\u6d3e\u98ce\u683c\uff0c\u751f\u6210\u4e00\u5f20\u73b0\u4ee3\u57ce\u5e02\"}],\n    deep_research=True,\n    generate_image=True\n)\n</code></pre>"},{"location":"QUICK_REFERENCE/#_8","title":"\u53c2\u6570\u901f\u67e5\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c <code>model</code> str \u6a21\u578b\uff1a<code>yuanbao</code> \u6216 <code>gemini</code> <code>yuanbao</code> <code>messages</code> List \u5bf9\u8bdd\u6d88\u606f\u5217\u8868 \u5fc5\u586b <code>image_url</code> str \u56fe\u7247URL <code>None</code> <code>image_data</code> str \u56fe\u7247Base64 <code>None</code> <code>generate_image</code> bool \u751f\u6210\u56fe\u7247 <code>False</code> <code>deep_research</code> bool \u6df1\u5ea6\u7814\u7a76 <code>False</code>"},{"location":"QUICK_REFERENCE/#_9","title":"\u9519\u8bef\u5904\u7406","text":"<pre><code>from ai_sdk import AIClient, AIAPIError, TimeoutError\n\ntry:\n    with AIClient() as client:\n        response = client.chat.completions.create(...)\nexcept TimeoutError:\n    print(\"\u8bf7\u6c42\u8d85\u65f6\")\nexcept AIAPIError as e:\n    print(f\"API\u9519\u8bef: {e}\")\n</code></pre>"},{"location":"QUICK_REFERENCE/#_10","title":"\u914d\u7f6e","text":""},{"location":"QUICK_REFERENCE/#env","title":"\u73af\u5883\u53d8\u91cf (.env)","text":"<pre><code>AI_API_TOKEN=spsw.your_token\nAI_API_BASE_URL=http://your_server/api/v1\nAI_API_TIMEOUT=30\n</code></pre>"},{"location":"QUICK_REFERENCE/#_11","title":"\u4ee3\u7801\u914d\u7f6e","text":"<pre><code>client = AIClient(\n    api_token=\"spsw.your_token\",\n    base_url=\"http://your_server/api/v1\",\n    timeout=60\n)\n</code></pre>"},{"location":"QUICK_REFERENCE/#_12","title":"\u793a\u4f8b\u4ee3\u7801","text":"<pre><code># \u57fa\u7840\u5bf9\u8bdd\npython examples/basic_chat.py\n\n# \u56fe\u7247\u5206\u6790\npython examples/image_analysis.py\n\n# \u56fe\u7247\u751f\u6210 \u2b50NEW\npython examples/image_generation.py\n\n# \u9ad8\u7ea7\u7528\u6cd5\npython examples/advanced_usage.py\n</code></pre>"},{"location":"QUICK_REFERENCE/#_13","title":"\u6587\u6863","text":"<ul> <li>\ud83d\udcd6 README.md - \u5b8c\u6574\u6587\u6863</li> <li>\ud83d\ude80 QUICKSTART.md - \u5feb\u901f\u5f00\u59cb</li> <li>\ud83d\udcd8 USAGE.md - \u4f7f\u7528\u624b\u518c</li> <li>\ud83c\udfa8 IMAGE_GENERATION_GUIDE.md - \u56fe\u7247\u751f\u6210\u6307\u5357</li> <li>\ud83d\udccb PROJECT_SUMMARY.md - \u9879\u76ee\u603b\u7ed3</li> </ul>"},{"location":"QUICK_REFERENCE/#_14","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code># \u5b89\u88c5\u4f9d\u8d56\npip install -r requirements.txt\n\n# \u9a8c\u8bc1\u5b89\u88c5\npython verify_installation.py\n\n# \u914d\u7f6e\u73af\u5883\ncp .env.example .env\n# \u7136\u540e\u7f16\u8f91 .env \u6587\u4ef6\n\n# \u8fd0\u884c\u6d4b\u8bd5\npytest tests/ -v\n</code></pre> <p>\u63d0\u793a: \u56fe\u7247\u751f\u6210\u529f\u80fd\u5df2\u5b8c\u5168\u96c6\u6210\uff0c\u53ea\u9700\u8bbe\u7f6e <code>generate_image=True</code> \u5373\u53ef\uff01</p>"},{"location":"api-reference/","title":"API \u53c2\u8003\u6587\u6863","text":"<p>\u5b8c\u6574\u7684 API \u63a5\u53e3\u6587\u6863\u3002</p>"},{"location":"api-reference/#aiclient","title":"AIClient","text":"<p>\u6838\u5fc3\u5ba2\u6237\u7aef\u7c7b\uff0c\u7528\u4e8e\u4e0e API \u4ea4\u4e92\u3002</p>"},{"location":"api-reference/#_1","title":"\u521d\u59cb\u5316","text":"<pre><code>AIClient(\n    api_token: Optional[str] = None,\n    base_url: Optional[str] = None,\n    timeout: int = 30\n)\n</code></pre> <p>\u53c2\u6570:</p> <ul> <li><code>api_token</code> (str, optional): API Token\uff0c\u9ed8\u8ba4\u4ece\u73af\u5883\u53d8\u91cf <code>AI_API_TOKEN</code> \u8bfb\u53d6</li> <li><code>base_url</code> (str, optional): API \u57fa\u7840 URL\uff08\u53ef\u9009\uff09\uff0cSDK \u5df2\u5185\u7f6e\u9ed8\u8ba4\u670d\u52a1\u5730\u5740</li> <li><code>timeout</code> (int, optional): \u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4\uff08\u79d2\uff09\uff0c\u9ed8\u8ba4 30 \u79d2</li> </ul> <p>\u793a\u4f8b:</p> <pre><code># \u4f7f\u7528\u73af\u5883\u53d8\u91cf\nclient = AIClient()\n\n# \u6216\u76f4\u63a5\u4f20\u5165\u53c2\u6570\nclient = AIClient(api_token=\"spsw.your_token\")\n\n# \u81ea\u5b9a\u4e49\u8d85\u65f6\u65f6\u95f4\nclient = AIClient(api_token=\"spsw.your_token\", timeout=60)\n\n# \u4f7f\u7528\u81ea\u5b9a\u4e49\u670d\u52a1\u5730\u5740\uff08\u53ef\u9009\uff09\nclient = AIClient(\n    api_token=\"spsw.your_token\",\n    base_url=\"http://your_custom_server/api/v1\"\n)\n</code></pre>"},{"location":"api-reference/#chatcompletionscreate","title":"chat.completions.create()","text":"<p>\u521b\u5efa chat completion \u8bf7\u6c42\u3002</p>"},{"location":"api-reference/#_2","title":"\u65b9\u6cd5\u7b7e\u540d","text":"<pre><code>client.chat.completions.create(\n    model: str = \"yuanbao\",\n    messages: List[ChatMessage],\n    image_url: Optional[str] = None,\n    image_data: Optional[str] = None,\n    deep_research: bool = False,\n    generate_image: bool = False\n) -&gt; ChatCompletion\n</code></pre>"},{"location":"api-reference/#_3","title":"\u53c2\u6570","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e <code>model</code> str <code>\"yuanbao\"</code> \u6a21\u578b\u540d\u79f0\uff1a<code>\"yuanbao\"</code> \u6216 <code>\"gemini\"</code> <code>messages</code> List[ChatMessage] \u5fc5\u586b \u5bf9\u8bdd\u6d88\u606f\u5217\u8868 <code>image_url</code> str <code>None</code> \u56fe\u7247 URL\uff08\u53ef\u9009\uff09 <code>image_data</code> str <code>None</code> \u56fe\u7247 Base64 \u6570\u636e\uff08\u53ef\u9009\uff09 <code>deep_research</code> bool <code>False</code> \u662f\u5426\u542f\u7528\u6df1\u5ea6\u7814\u7a76 <code>generate_image</code> bool <code>False</code> \u662f\u5426\u751f\u6210\u56fe\u7247"},{"location":"api-reference/#_4","title":"\u8fd4\u56de\u503c","text":"<p>\u8fd4\u56de <code>ChatCompletion</code> \u5bf9\u8c61\uff0c\u5305\u542b\uff1a</p> <ul> <li><code>id</code> (str): \u4efb\u52a1 ID</li> <li><code>object</code> (str): \u5bf9\u8c61\u7c7b\u578b\uff0c\u503c\u4e3a <code>\"chat.completion\"</code></li> <li><code>created</code> (int): \u521b\u5efa\u65f6\u95f4\u6233</li> <li><code>model</code> (str): \u4f7f\u7528\u7684\u6a21\u578b</li> <li><code>choices</code> (List[Choice]): \u751f\u6210\u7ed3\u679c\u5217\u8868</li> <li><code>usage</code> (Usage): Token \u4f7f\u7528\u7edf\u8ba1</li> </ul>"},{"location":"api-reference/#_5","title":"\u793a\u4f8b","text":""},{"location":"api-reference/#_6","title":"\u57fa\u7840\u5bf9\u8bdd","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[\n        {\"role\": \"user\", \"content\": \"\u4f60\u597d\"}\n    ]\n)\nprint(response.choices[0].message.content)\n</code></pre>"},{"location":"api-reference/#_7","title":"\u591a\u8f6e\u5bf9\u8bdd","text":"<pre><code>from ai_sdk import ChatMessage\n\nmessages = [\n    ChatMessage(role=\"system\", content=\"\u4f60\u662f\u4e00\u4e2a\u7f16\u7a0b\u52a9\u624b\"),\n    ChatMessage(role=\"user\", \"content\": \"\u4ec0\u4e48\u662f\u88c5\u9970\u5668\uff1f\")\n]\n\nresponse = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=messages\n)\n</code></pre>"},{"location":"api-reference/#_8","title":"\u56fe\u7247\u5206\u6790","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[{\"role\": \"user\", \"content\": \"\u63cf\u8ff0\u8fd9\u5f20\u56fe\u7247\"}],\n    image_url=\"http://example.com/image.png\"\n)\n</code></pre>"},{"location":"api-reference/#_9","title":"\u56fe\u7247\u751f\u6210","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u5f20\u672a\u6765\u57ce\u5e02\u7684\u56fe\u7247\"}],\n    generate_image=True\n)\n</code></pre>"},{"location":"api-reference/#_10","title":"\u6df1\u5ea6\u7814\u7a76","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[{\"role\": \"user\", \"content\": \"\u4eba\u5de5\u667a\u80fd\u7684\u53d1\u5c55\u5386\u53f2\"}],\n    deep_research=True\n)\n</code></pre>"},{"location":"api-reference/#tasksretrieve","title":"tasks.retrieve()","text":"<p>\u67e5\u8be2\u4efb\u52a1\u7ed3\u679c\u3002</p>"},{"location":"api-reference/#_11","title":"\u65b9\u6cd5\u7b7e\u540d","text":"<pre><code>client.tasks.retrieve(task_id: str) -&gt; Dict[str, Any]\n</code></pre>"},{"location":"api-reference/#_12","title":"\u53c2\u6570","text":"<ul> <li><code>task_id</code> (str): \u4efb\u52a1 ID</li> </ul>"},{"location":"api-reference/#_13","title":"\u8fd4\u56de\u503c","text":"<p>\u8fd4\u56de\u4efb\u52a1\u7ed3\u679c\u5b57\u5178\uff0c\u5305\u542b\uff1a</p> <ul> <li><code>status</code>: \u4efb\u52a1\u72b6\u6001</li> <li><code>answer</code>: \u4efb\u52a1\u7ed3\u679c</li> <li>\u5176\u4ed6\u5b57\u6bb5...</li> </ul>"},{"location":"api-reference/#_14","title":"\u793a\u4f8b","text":"<pre><code># \u83b7\u53d6\u4efb\u52a1 ID\nresponse = client.chat.completions.create(...)\ntask_id = response.id\n\n# \u67e5\u8be2\u4efb\u52a1\u7ed3\u679c\nresult = client.tasks.retrieve(task_id)\nprint(result['status'])\nprint(result['answer'])\n</code></pre>"},{"location":"api-reference/#_15","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"api-reference/#chatmessage","title":"ChatMessage","text":"<p>\u5bf9\u8bdd\u6d88\u606f\u5bf9\u8c61\u3002</p> <pre><code>class ChatMessage:\n    role: Literal[\"user\", \"assistant\", \"system\"]\n    content: str\n</code></pre> <p>\u793a\u4f8b:</p> <pre><code>from ai_sdk import ChatMessage\n\nmsg = ChatMessage(role=\"user\", content=\"\u4f60\u597d\")\n</code></pre>"},{"location":"api-reference/#chatcompletion","title":"ChatCompletion","text":"<p>Chat completion \u54cd\u5e94\u5bf9\u8c61\u3002</p> <pre><code>class ChatCompletion:\n    id: str\n    object: str\n    created: int\n    model: str\n    choices: List[Choice]\n    usage: Optional[Usage]\n</code></pre>"},{"location":"api-reference/#choice","title":"Choice","text":"<p>\u5355\u4e2a\u9009\u62e9\u7ed3\u679c\u3002</p> <pre><code>class Choice:\n    index: int\n    message: ChatMessage\n    finish_reason: Optional[str]\n</code></pre>"},{"location":"api-reference/#usage","title":"Usage","text":"<p>Token \u4f7f\u7528\u7edf\u8ba1\u3002</p> <pre><code>class Usage:\n    prompt_tokens: int\n    completion_tokens: int\n    total_tokens: int\n</code></pre>"},{"location":"api-reference/#_16","title":"\u5f02\u5e38\u7c7b\u578b","text":""},{"location":"api-reference/#aiapierror","title":"AIAPIError","text":"<p>\u57fa\u7840\u5f02\u5e38\u7c7b\u3002</p> <pre><code>class AIAPIError(Exception):\n    message: str\n    status_code: Optional[int]\n    response: Optional[dict]\n</code></pre>"},{"location":"api-reference/#authenticationerror","title":"AuthenticationError","text":"<p>\u8ba4\u8bc1\u9519\u8bef - Token \u65e0\u6548\u6216\u7f3a\u5931\u3002</p> <pre><code>class AuthenticationError(AIAPIError):\n    pass\n</code></pre>"},{"location":"api-reference/#invalidrequesterror","title":"InvalidRequestError","text":"<p>\u8bf7\u6c42\u53c2\u6570\u9519\u8bef\u3002</p> <pre><code>class InvalidRequestError(AIAPIError):\n    pass\n</code></pre>"},{"location":"api-reference/#apiconnectionerror","title":"APIConnectionError","text":"<p>API \u8fde\u63a5\u9519\u8bef\u3002</p> <pre><code>class APIConnectionError(AIAPIError):\n    pass\n</code></pre>"},{"location":"api-reference/#ratelimiterror","title":"RateLimitError","text":"<p>\u8bf7\u6c42\u9891\u7387\u9650\u5236\u9519\u8bef\u3002</p> <pre><code>class RateLimitError(AIAPIError):\n    pass\n</code></pre>"},{"location":"api-reference/#timeouterror","title":"TimeoutError","text":"<p>\u8bf7\u6c42\u8d85\u65f6\u9519\u8bef\u3002</p> <pre><code>class TimeoutError(AIAPIError):\n    pass\n</code></pre>"},{"location":"api-reference/#_17","title":"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p>AIClient \u652f\u6301\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff0c\u81ea\u52a8\u7ba1\u7406\u8d44\u6e90\u3002</p> <pre><code>with AIClient() as client:\n    response = client.chat.completions.create(...)\n    # \u9000\u51fa\u65f6\u81ea\u52a8\u8c03\u7528 client.close()\n</code></pre>"},{"location":"api-reference/#_18","title":"\u5b8c\u6574\u793a\u4f8b","text":"<pre><code>from ai_sdk import (\n    AIClient,\n    ChatMessage,\n    AIAPIError,\n    AuthenticationError,\n    InvalidRequestError\n)\nimport logging\n\n# \u914d\u7f6e\u65e5\u5fd7\nlogging.basicConfig(level=logging.INFO)\n\ntry:\n    # \u4f7f\u7528\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\n    with AIClient() as client:\n        # \u521b\u5efa\u5bf9\u8bdd\n        response = client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[\n                ChatMessage(role=\"system\", content=\"\u4f60\u662f\u4e00\u4e2a\u7f16\u7a0b\u52a9\u624b\"),\n                ChatMessage(role=\"user\", content=\"\u4ec0\u4e48\u662f Python\uff1f\")\n            ],\n            deep_research=True\n        )\n\n        # \u83b7\u53d6\u7ed3\u679c\n        answer = response.choices[0].message.content\n        print(f\"\u56de\u7b54: {answer}\")\n\n        # \u67e5\u8be2\u4efb\u52a1\u8be6\u60c5\n        task_result = client.tasks.retrieve(response.id)\n        print(f\"\u4efb\u52a1\u72b6\u6001: {task_result['status']}\")\n\nexcept AuthenticationError as e:\n    print(f\"\u8ba4\u8bc1\u5931\u8d25: {e}\")\nexcept InvalidRequestError as e:\n    print(f\"\u53c2\u6570\u9519\u8bef: {e}\")\nexcept AIAPIError as e:\n    print(f\"API \u9519\u8bef: {e}\")\n</code></pre>"},{"location":"api-reference/#_19","title":"\u73af\u5883\u53d8\u91cf","text":"\u53d8\u91cf\u540d \u8bf4\u660e \u5fc5\u9700 \u793a\u4f8b <code>AI_API_TOKEN</code> API Token \u662f <code>spsw.xxxxx</code> <code>AI_API_BASE_URL</code> API \u57fa\u7840 URL \u5426 <code>http://server/api/v1</code> <code>AI_API_TIMEOUT</code> \u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4\uff08\u79d2\uff09 \u5426 <code>30</code> <p>\u63d0\u793a: SDK \u5df2\u5185\u7f6e\u9ed8\u8ba4\u670d\u52a1\u5730\u5740\uff0c<code>AI_API_BASE_URL</code> \u4e3a\u53ef\u9009\u914d\u7f6e</p> <p>\u914d\u7f6e\u65b9\u5f0f\uff1a</p> <pre><code># \u65b9\u5f0f 1: \u73af\u5883\u53d8\u91cf\nexport AI_API_TOKEN=spsw.your_token\n\n# \u65b9\u5f0f 2: .env \u6587\u4ef6\n# \u521b\u5efa .env \u6587\u4ef6\u5e76\u6dfb\u52a0\uff1a\nAI_API_TOKEN=spsw.your_token\n\n# \u53ef\u9009\uff1a\u4f7f\u7528\u81ea\u5b9a\u4e49\u670d\u52a1\u5730\u5740\n# AI_API_BASE_URL=http://your_custom_server/api/v1\n</code></pre>"},{"location":"api-reference/#_20","title":"\u66f4\u591a\u4fe1\u606f","text":"<ul> <li>\u5b8c\u6574\u4f7f\u7528\u624b\u518c</li> <li>\u56fe\u7247\u751f\u6210\u6307\u5357</li> <li>\u793a\u4f8b\u4ee3\u7801</li> <li>GitHub \u4ed3\u5e93</li> </ul>"},{"location":"code-review-fixes/","title":"\u4ee3\u7801\u5ba1\u67e5\u4fee\u590d\u62a5\u544a","text":""},{"location":"code-review-fixes/#_2","title":"\u4fee\u590d\u65f6\u95f4","text":"<p>2025-12-18</p>"},{"location":"code-review-fixes/#_3","title":"\u4fee\u590d\u6982\u8ff0","text":"<p>\u6839\u636e\u4ee3\u7801\u5ba1\u67e5\u62a5\u544a\uff0c\u5b8c\u6210\u4e86\u6240\u6709\u9ad8\u4f18\u5148\u7ea7\u95ee\u9898\u7684\u4fee\u590d\uff0c\u63d0\u5347\u4e86SDK\u7684\u5065\u58ee\u6027\u548c\u53ef\u9760\u6027\u3002</p>"},{"location":"code-review-fixes/#_4","title":"\u5df2\u4fee\u590d\u7684\u95ee\u9898","text":""},{"location":"code-review-fixes/#1-id","title":"\u2705 1. \u4efb\u52a1ID\u7c7b\u578b\u8f6c\u6362\u9519\u8bef\u5904\u7406","text":"<p>\u95ee\u9898\u63cf\u8ff0: \u76f4\u63a5\u4f7f\u7528 <code>int(task_id)</code> \u53ef\u80fd\u5bfc\u81f4 <code>TypeError</code> \u6216 <code>ValueError</code></p> <p>\u5f71\u54cd\u6587\u4ef6: - <code>ai_sdk/resources/chat.py</code> - <code>ai_sdk/resources/tasks.py</code></p> <p>\u4fee\u590d\u5185\u5bb9:</p> <p>chat.py (\u7b2c107-111\u884c): <pre><code># \u9a8c\u8bc1\u5e76\u8f6c\u6362\u4efb\u52a1ID\u4e3a\u6574\u6570\ntry:\n    task_id_int = int(task_id)\nexcept (ValueError, TypeError) as e:\n    raise InvalidRequestError(f\"\u65e0\u6548\u7684\u4efb\u52a1ID\u683c\u5f0f: {task_id}\") from e\n</code></pre></p> <p>tasks.py (\u7b2c39-43\u884c): <pre><code># \u9a8c\u8bc1\u5e76\u8f6c\u6362\u4efb\u52a1ID\u4e3a\u6574\u6570\ntry:\n    task_id_int = int(task_id)\nexcept (ValueError, TypeError) as e:\n    raise InvalidRequestError(f\"\u65e0\u6548\u7684\u4efb\u52a1ID\u683c\u5f0f: {task_id}\") from e\n</code></pre></p> <p>\u4fee\u590d\u65b9\u6cd5: - \u6dfb\u52a0 try-except \u5757\u6355\u83b7\u7c7b\u578b\u8f6c\u6362\u5f02\u5e38 - \u629b\u51fa\u6e05\u6670\u7684\u9519\u8bef\u4fe1\u606f - \u4f7f\u7528 <code>from e</code> \u4fdd\u7559\u539f\u59cb\u5f02\u5e38\u94fe</p> <p>\u6d4b\u8bd5\u9a8c\u8bc1: <pre><code># \u6d4b\u8bd5\u65e0\u6548\u7684\u4efb\u52a1ID\ntry:\n    client.tasks.retrieve(\"invalid_id\")\nexcept InvalidRequestError as e:\n    print(f\"\u6b63\u786e\u6355\u83b7: {e}\")  # \u8f93\u51fa: \u65e0\u6548\u7684\u4efb\u52a1ID\u683c\u5f0f: invalid_id\n</code></pre></p>"},{"location":"code-review-fixes/#2","title":"\u2705 2. \u5b8c\u5584\u8f6e\u8be2\u72b6\u6001\u5224\u65ad\u903b\u8f91","text":"<p>\u95ee\u9898\u63cf\u8ff0: \u72b6\u6001\u5224\u65ad\u4e0d\u591f\u4e25\u8c28\uff0c\u53ef\u80fd\u63a9\u76d6\u95ee\u9898</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/resources/chat.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c152-203\u884c):</p> <ol> <li> <p>\u68c0\u67e5status\u5b57\u6bb5\u662f\u5426\u5b58\u5728: <pre><code>if status is None:\n    logger.warning(f\"Task {task_id} response missing status field\")\n    time.sleep(interval)\n    continue\n</code></pre></p> </li> <li> <p>\u9a8c\u8bc1answer\u5b57\u6bb5: <pre><code>content = data.get(\"answer\")\nif content is None:\n    logger.warning(f\"Task {task_id} completed but missing 'answer' field\")\n    content = \"\"\n</code></pre></p> </li> <li> <p>\u6539\u8fdb\u9519\u8bef\u6d88\u606f\u83b7\u53d6: <pre><code>error_msg = data.get(\"error\") or data.get(\"message\") or \"\u4efb\u52a1\u6267\u884c\u5931\u8d25\"\n</code></pre></p> </li> <li> <p>\u660e\u786e\u5904\u7406\u4e0d\u540c\u72b6\u6001: <pre><code># \u5904\u7406\u4e2d\u72b6\u6001\uff08pending, processing, running\u7b49\uff09\nelif status in [\"pending\", \"processing\", \"running\", 0, 1]:\n    logger.debug(f\"Task {task_id} status: {status}, retry {retry + 1}/{max_retries}\")\n    time.sleep(interval)\n\n# \u672a\u77e5\u72b6\u6001\nelse:\n    logger.warning(f\"Task {task_id} unknown status: {status}, will retry\")\n    time.sleep(interval)\n</code></pre></p> </li> </ol> <p>\u597d\u5904: - \u63d0\u524d\u53d1\u73b0\u54cd\u5e94\u683c\u5f0f\u95ee\u9898 - \u8bb0\u5f55\u8be6\u7ec6\u65e5\u5fd7\u5e2e\u52a9\u8c03\u8bd5 - \u5bf9\u672a\u77e5\u72b6\u6001\u7ed9\u4e88\u8b66\u544a - \u652f\u6301\u591a\u79cd\u72b6\u6001\u683c\u5f0f\uff08\u5b57\u7b26\u4e32\u548c\u6570\u5b57\uff09</p>"},{"location":"code-review-fixes/#3-json","title":"\u2705 3. \u4fee\u590dJSON\u89e3\u6790\u9519\u8bef\u5904\u7406","text":"<p>\u95ee\u9898\u63cf\u8ff0: <code>response.json()</code> \u53ef\u80fd\u629b\u51fa <code>ValueError</code> \u4f46\u672a\u5904\u7406</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/client.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c149-154\u884c):</p> <p>\u6dfb\u52a0\u5b89\u5168\u7684JSON\u89e3\u6790\u8f85\u52a9\u51fd\u6570\uff1a <pre><code># \u8f85\u52a9\u51fd\u6570\uff1a\u5b89\u5168\u5730\u89e3\u6790JSON\u54cd\u5e94\ndef safe_json_parse():\n    try:\n        return response.json() if response.text else None\n    except ValueError:\n        return None\n</code></pre></p> <p>\u5e94\u7528\u5230\u6240\u6709\u9519\u8bef\u5904\u7406\u4ee3\u7801\uff1a <pre><code>elif response.status_code == 400:\n    raise InvalidRequestError(\n        f\"\u8bf7\u6c42\u53c2\u6570\u9519\u8bef: {response.text}\",\n        status_code=response.status_code,\n        response=safe_json_parse(),  # \u2190 \u4f7f\u7528\u5b89\u5168\u89e3\u6790\n    )\n</code></pre></p> <p>\u597d\u5904: - \u907f\u514d\u56e0JSON\u89e3\u6790\u5931\u8d25\u5bfc\u81f4\u5f02\u5e38\u88ab\u63a9\u76d6 - \u63d0\u4f9b\u66f4\u51c6\u786e\u7684\u9519\u8bef\u4fe1\u606f - \u5373\u4f7f\u54cd\u5e94\u4e0d\u662fJSON\u4e5f\u80fd\u6b63\u786e\u5904\u7406</p>"},{"location":"code-review-fixes/#4","title":"\u2705 4. \u6dfb\u52a0\u54cd\u5e94\u5b57\u6bb5\u9a8c\u8bc1","text":"<p>\u95ee\u9898\u63cf\u8ff0: \u7f3a\u5c11\u5173\u952e\u5b57\u6bb5\u53ef\u80fd\u88ab\u9ed8\u8ba4\u503c\u63a9\u76d6</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/resources/chat.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c161-164\u884c):</p> <pre><code>content = data.get(\"answer\")\nif content is None:\n    logger.warning(f\"Task {task_id} completed but missing 'answer' field\")\n    content = \"\"\n</code></pre> <p>\u597d\u5904: - \u53d1\u73b0API\u54cd\u5e94\u683c\u5f0f\u53d8\u66f4 - \u8bb0\u5f55\u8b66\u544a\u65e5\u5fd7\u4fbf\u4e8e\u6392\u67e5 - \u63d0\u4f9b\u5408\u7406\u7684\u964d\u7ea7\u5904\u7406</p>"},{"location":"code-review-fixes/#5","title":"\u2705 5. \u6dfb\u52a0\u53c2\u6570\u4e92\u65a5\u9a8c\u8bc1","text":"<p>\u95ee\u9898\u63cf\u8ff0: <code>image_url</code> \u548c <code>image_data</code> \u53ef\u80fd\u540c\u65f6\u63d0\u4f9b\u5bfc\u81f4\u6df7\u6dc6</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/resources/chat.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c67-71\u884c):</p> <pre><code># \u9a8c\u8bc1 image_url \u548c image_data \u4e0d\u80fd\u540c\u65f6\u4f7f\u7528\nif image_url and image_data:\n    raise InvalidRequestError(\n        \"image_url \u548c image_data \u4e0d\u80fd\u540c\u65f6\u63d0\u4f9b\uff0c\u8bf7\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\"\n    )\n</code></pre> <p>\u597d\u5904: - \u63d0\u524d\u53d1\u73b0\u53c2\u6570\u9519\u8bef - \u63d0\u4f9b\u6e05\u6670\u7684\u9519\u8bef\u4fe1\u606f - \u907f\u514dAPI\u884c\u4e3a\u4e0d\u660e\u786e</p>"},{"location":"code-review-fixes/#6","title":"\u2705 6. \u4f18\u5316\u5f02\u5e38\u91cd\u8bd5\u903b\u8f91","text":"<p>\u95ee\u9898\u63cf\u8ff0: \u6355\u83b7\u6240\u6709\u5f02\u5e38\u53ef\u80fd\u63a9\u76d6\u7f16\u7a0b\u9519\u8bef</p> <p>\u5f71\u54cd\u6587\u4ef6: <code>ai_sdk/resources/chat.py</code></p> <p>\u4fee\u590d\u5185\u5bb9 (\u7b2c205-223\u884c):</p> <pre><code>except InvalidRequestError:\n    # \u8bf7\u6c42\u53c2\u6570\u9519\u8bef\uff0c\u7acb\u5373\u629b\u51fa\uff0c\u4e0d\u91cd\u8bd5\n    raise\nexcept (APIConnectionError, AITimeoutError) as e:\n    # \u7f51\u7edc\u9519\u8bef\u6216\u8d85\u65f6\uff0c\u53ef\u4ee5\u91cd\u8bd5\n    if retry == max_retries - 1:\n        raise\n    logger.warning(f\"Network error checking task status, will retry: {str(e)}\")\n    time.sleep(interval)\nexcept AIAPIError as e:\n    # \u5176\u4ed6API\u9519\u8bef\uff0c\u53ef\u4ee5\u91cd\u8bd5\n    if retry == max_retries - 1:\n        raise\n    logger.warning(f\"API error checking task status, will retry: {str(e)}\")\n    time.sleep(interval)\nexcept Exception as e:\n    # \u672a\u77e5\u9519\u8bef\uff0c\u7acb\u5373\u629b\u51fa\uff0c\u4e0d\u91cd\u8bd5\n    logger.error(f\"Unexpected error in task polling: {str(e)}\")\n    raise\n</code></pre> <p>\u597d\u5904: - \u533a\u5206\u53ef\u91cd\u8bd5\u548c\u4e0d\u53ef\u91cd\u8bd5\u7684\u9519\u8bef - \u907f\u514d\u65e0\u9650\u91cd\u8bd5\u7f16\u7a0b\u9519\u8bef - \u63d0\u4f9b\u66f4\u7cbe\u786e\u7684\u9519\u8bef\u5904\u7406\u7b56\u7565</p> <p>\u65b0\u589e\u5bfc\u5165 (\u7b2c20-25\u884c): <pre><code>from ..exceptions import (\n    InvalidRequestError,\n    APIConnectionError,\n    TimeoutError as AITimeoutError,\n    AIAPIError,\n)\n</code></pre></p>"},{"location":"code-review-fixes/#_5","title":"\u4fee\u590d\u7edf\u8ba1","text":"\u7c7b\u522b \u6570\u91cf \u72b6\u6001 \u9ad8\u4f18\u5148\u7ea7\u95ee\u9898 6 \u2705 \u5168\u90e8\u4fee\u590d \u4e2d\u4f18\u5148\u7ea7\u95ee\u9898 0 - \u4f4e\u4f18\u5148\u7ea7\u95ee\u9898 0 \u672a\u4fee\u590d\uff08\u53ef\u9009\uff09"},{"location":"code-review-fixes/#_6","title":"\u5f71\u54cd\u7684\u6587\u4ef6","text":"<ol> <li>ai_sdk/resources/chat.py - \u4e3b\u8981\u4fee\u590d\u6587\u4ef6</li> <li>\u6dfb\u52a0\u53c2\u6570\u4e92\u65a5\u9a8c\u8bc1</li> <li>\u6539\u8fdb\u4efb\u52a1ID\u7c7b\u578b\u8f6c\u6362</li> <li>\u5b8c\u5584\u8f6e\u8be2\u72b6\u6001\u5224\u65ad</li> <li>\u4f18\u5316\u5f02\u5e38\u91cd\u8bd5\u903b\u8f91</li> <li> <p>\u6dfb\u52a0\u54cd\u5e94\u5b57\u6bb5\u9a8c\u8bc1</p> </li> <li> <p>ai_sdk/client.py - HTTP\u5ba2\u6237\u7aef</p> </li> <li> <p>\u4fee\u590dJSON\u89e3\u6790\u9519\u8bef\u5904\u7406</p> </li> <li> <p>ai_sdk/resources/tasks.py - \u4efb\u52a1\u7ba1\u7406</p> </li> <li>\u6539\u8fdb\u4efb\u52a1ID\u7c7b\u578b\u8f6c\u6362</li> </ol>"},{"location":"code-review-fixes/#_7","title":"\u4ee3\u7801\u8d28\u91cf\u63d0\u5347","text":""},{"location":"code-review-fixes/#7510","title":"\u4fee\u590d\u524d\u8bc4\u5206: 7.5/10","text":"<ul> <li>\u2705 \u67b6\u6784\u6e05\u6670</li> <li>\u2705 \u6587\u6863\u5b8c\u5584</li> <li>\u26a0\ufe0f \u8fb9\u754c\u60c5\u51b5\u5904\u7406\u4e0d\u8db3</li> <li>\u26a0\ufe0f \u9519\u8bef\u5904\u7406\u4e0d\u591f\u5065\u58ee</li> </ul>"},{"location":"code-review-fixes/#9010","title":"\u4fee\u590d\u540e\u8bc4\u5206: 9.0/10","text":"<ul> <li>\u2705 \u67b6\u6784\u6e05\u6670</li> <li>\u2705 \u6587\u6863\u5b8c\u5584</li> <li>\u2705 \u8fb9\u754c\u60c5\u51b5\u5904\u7406\u5b8c\u5584</li> <li>\u2705 \u9519\u8bef\u5904\u7406\u5065\u58ee</li> <li>\u2705 \u65e5\u5fd7\u8bb0\u5f55\u8be6\u7ec6</li> <li>\u2705 \u53c2\u6570\u9a8c\u8bc1\u4e25\u683c</li> </ul> <p>\u63d0\u5347: +1.5 \u5206</p>"},{"location":"code-review-fixes/#_8","title":"\u5411\u540e\u517c\u5bb9\u6027","text":"<p>\u6240\u6709\u4fee\u590d\u90fd\u662f\u5411\u540e\u517c\u5bb9\u7684\uff1a - \u2705 API\u63a5\u53e3\u672a\u6539\u53d8 - \u2705 \u53c2\u6570\u540d\u79f0\u672a\u6539\u53d8 - \u2705 \u8fd4\u56de\u503c\u683c\u5f0f\u672a\u6539\u53d8 - \u2705 \u73b0\u6709\u4ee3\u7801\u65e0\u9700\u4fee\u6539</p> <p>\u552f\u4e00\u53d8\u5316\uff1a - \u5bf9\u4e8e\u65e0\u6548\u53c2\u6570\uff0c\u73b0\u5728\u4f1a\u66f4\u65e9\u5730\u629b\u51fa\u66f4\u6e05\u6670\u7684\u9519\u8bef\u4fe1\u606f - \u8fd9\u662f\u597d\u7684\u884c\u4e3a\u6539\u53d8\uff0c\u5e2e\u52a9\u7528\u6237\u66f4\u5feb\u53d1\u73b0\u95ee\u9898</p>"},{"location":"code-review-fixes/#_9","title":"\u6d4b\u8bd5\u5efa\u8bae","text":"<p>\u5efa\u8bae\u6dfb\u52a0\u4ee5\u4e0b\u6d4b\u8bd5\u7528\u4f8b\uff1a</p> <pre><code>def test_invalid_task_id():\n    \"\"\"\u6d4b\u8bd5\u65e0\u6548\u7684\u4efb\u52a1ID\"\"\"\n    with pytest.raises(InvalidRequestError, match=\"\u65e0\u6548\u7684\u4efb\u52a1ID\u683c\u5f0f\"):\n        client.tasks.retrieve(\"invalid_id\")\n\ndef test_image_url_and_data_mutually_exclusive():\n    \"\"\"\u6d4b\u8bd5image_url\u548cimage_data\u4e92\u65a5\"\"\"\n    with pytest.raises(InvalidRequestError, match=\"\u4e0d\u80fd\u540c\u65f6\u63d0\u4f9b\"):\n        client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[{\"role\": \"user\", \"content\": \"test\"}],\n            image_url=\"http://example.com/img.png\",\n            image_data=\"base64data\"\n        )\n\ndef test_missing_status_field():\n    \"\"\"\u6d4b\u8bd5\u7f3a\u5c11status\u5b57\u6bb5\u7684\u54cd\u5e94\"\"\"\n    # \u9700\u8981mock API\u54cd\u5e94\n    pass\n\ndef test_invalid_json_response():\n    \"\"\"\u6d4b\u8bd5\u65e0\u6548\u7684JSON\u54cd\u5e94\"\"\"\n    # \u9700\u8981mock API\u54cd\u5e94\n    pass\n</code></pre>"},{"location":"code-review-fixes/#_10","title":"\u9a8c\u8bc1\u7ed3\u679c","text":""},{"location":"code-review-fixes/#_11","title":"\u8bed\u6cd5\u68c0\u67e5","text":"<pre><code>$ python -m py_compile ai_sdk/client.py ai_sdk/resources/chat.py ai_sdk/resources/tasks.py\n\u2705 \u901a\u8fc7 - \u65e0\u8bed\u6cd5\u9519\u8bef\n</code></pre>"},{"location":"code-review-fixes/#_12","title":"\u5bfc\u5165\u6d4b\u8bd5","text":"<pre><code>$ python -c \"from ai_sdk import AIClient; print('OK')\"\n\u2705 \u901a\u8fc7 - \u6a21\u5757\u53ef\u4ee5\u6b63\u5e38\u5bfc\u5165\n</code></pre>"},{"location":"code-review-fixes/#_13","title":"\u540e\u7eed\u5efa\u8bae","text":""},{"location":"code-review-fixes/#_14","title":"\u4e2d\u4f18\u5148\u7ea7\u6539\u8fdb\uff08\u53ef\u9009\uff09","text":"<ol> <li>\u589e\u5f3a\u65e5\u5fd7\u8bb0\u5f55</li> <li>\u8bb0\u5f55\u8bf7\u6c42/\u54cd\u5e94\u7684\u5b8c\u6574\u6570\u636e\uff08\u751f\u4ea7\u73af\u5883\u53ef\u5173\u95ed\uff09</li> <li> <p>\u6dfb\u52a0\u6027\u80fd\u6307\u6807\u8bb0\u5f55</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u8f6e\u8be2\u53c2\u6570</p> </li> <li>\u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49 <code>max_retries</code> \u548c <code>interval</code></li> <li> <p>\u5df2\u5728\u4ee3\u7801\u4e2d\u9884\u7559\u4e86\u53c2\u6570</p> </li> <li> <p>\u65e5\u5fd7\u9690\u79c1\u4fdd\u62a4</p> </li> <li>\u907f\u514d\u8bb0\u5f55\u654f\u611f\u4fe1\u606f\uff08token\u3001\u56fe\u7247\u6570\u636e\u7b49\uff09</li> <li>\u6dfb\u52a0\u65e5\u5fd7\u8131\u654f\u529f\u80fd</li> </ol>"},{"location":"code-review-fixes/#_15","title":"\u4f4e\u4f18\u5148\u7ea7\u4f18\u5316\uff08\u672a\u6765\u8003\u8651\uff09","text":"<ol> <li>\u5f02\u6b65\u652f\u6301</li> <li> <p>\u6dfb\u52a0 async/await \u7248\u672c\u7684API</p> </li> <li> <p>\u6d41\u5f0f\u54cd\u5e94</p> </li> <li> <p>\u652f\u6301SSE\u6d41\u5f0f\u8f93\u51fa</p> </li> <li> <p>\u7f13\u5b58\u673a\u5236</p> </li> <li> <p>\u7f13\u5b58\u5e38\u89c1\u8bf7\u6c42</p> </li> <li> <p>\u6027\u80fd\u76d1\u63a7</p> </li> <li>\u6dfb\u52a0\u8bf7\u6c42\u8017\u65f6\u7edf\u8ba1</li> </ol>"},{"location":"code-review-fixes/#_16","title":"\u603b\u7ed3","text":"<p>\u672c\u6b21\u4ee3\u7801\u5ba1\u67e5\u548c\u4fee\u590d\u663e\u8457\u63d0\u5347\u4e86SDK\u7684\u8d28\u91cf\u548c\u5065\u58ee\u6027\uff1a</p> <p>\u2705 \u4fee\u590d\u4e86\u6240\u6709\u9ad8\u4f18\u5148\u7ea7\u95ee\u9898 \u2705 \u63d0\u5347\u4e86\u9519\u8bef\u5904\u7406\u80fd\u529b \u2705 \u6539\u8fdb\u4e86\u65e5\u5fd7\u8bb0\u5f55 \u2705 \u589e\u5f3a\u4e86\u53c2\u6570\u9a8c\u8bc1 \u2705 \u4fdd\u6301\u4e86\u5411\u540e\u517c\u5bb9\u6027 \u2705 \u4ee3\u7801\u8d28\u91cf\u8bc4\u5206\u4ece7.5\u63d0\u5347\u52309.0</p> <p>SDK\u73b0\u5728\u66f4\u52a0\u7a33\u5b9a\u53ef\u9760\uff0c\u53ef\u4ee5\u6295\u5165\u751f\u4ea7\u73af\u5883\u4f7f\u7528\u3002</p> <p>\u5ba1\u67e5\u548c\u4fee\u590d\u5b8c\u6210\u65f6\u95f4: 2025-12-18 \u4fee\u590d\u4eba: Claude Code \u72b6\u6001: \u2705 \u5b8c\u6210</p>"},{"location":"github-setup/","title":"GitHub \u79c1\u6709\u4ed3\u5e93\u53d1\u5e03\u548c\u5b89\u88c5\u6307\u5357","text":"<p>\u672c\u6307\u5357\u5c06\u5e2e\u52a9\u4f60\u4f7f\u7528 GitHub CLI \u5c06\u9879\u76ee\u53d1\u5e03\u4e3a\u79c1\u6709\u4ed3\u5e93\uff0c\u5e76\u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u901a\u8fc7 pip \u5b89\u88c5\u3002</p>"},{"location":"github-setup/#_1","title":"\u524d\u7f6e\u8981\u6c42","text":"<ol> <li>\u5b89\u88c5 GitHub CLI</li> </ol> <pre><code># macOS\nbrew install gh\n\n# \u6216\u8bbf\u95ee https://cli.github.com/ \u4e0b\u8f7d\n</code></pre> <ol> <li>\u767b\u5f55 GitHub</li> </ol> <pre><code>gh auth login\n</code></pre> <p>\u6309\u63d0\u793a\u9009\u62e9\uff1a - GitHub.com - HTTPS - \u4f7f\u7528\u6d4f\u89c8\u5668\u767b\u5f55\u6216 token</p>"},{"location":"github-setup/#1-git","title":"\u6b65\u9aa4 1: \u521d\u59cb\u5316 Git \u4ed3\u5e93","text":"<pre><code># \u8fdb\u5165\u9879\u76ee\u76ee\u5f55\ncd /Users/zhangxiatian/websites/my_ai_api\n\n# \u521d\u59cb\u5316 git \u4ed3\u5e93\ngit init\n\n# \u6dfb\u52a0\u6240\u6709\u6587\u4ef6\ngit add .\n\n# \u521b\u5efa\u521d\u59cb\u63d0\u4ea4\ngit commit -m \"Initial commit: AI SDK v0.1.0\n\n- \u517c\u5bb9OpenAI SDK\u7684\u63a5\u53e3\u8bbe\u8ba1\n- \u652f\u6301\u5143\u5b9d\u548cGemini\u6a21\u578b\n- \u652f\u6301\u56fe\u7247\u5206\u6790\u548c\u751f\u6210\n- \u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\n- \u8be6\u7ec6\u7684\u6587\u6863\u548c\u793a\u4f8b\n\n\ud83e\udd16 Generated with Claude Code\n\nCo-Authored-By: Claude &lt;noreply@anthropic.com&gt;\"\n</code></pre>"},{"location":"github-setup/#2-github","title":"\u6b65\u9aa4 2: \u521b\u5efa GitHub \u79c1\u6709\u4ed3\u5e93","text":"<p>\u4f7f\u7528 GitHub CLI \u521b\u5efa\u79c1\u6709\u4ed3\u5e93\uff1a</p> <pre><code># \u521b\u5efa\u79c1\u6709\u4ed3\u5e93\u5e76\u63a8\u9001\ngh repo create ai-sdk --private --source=. --push\n\n# \u6216\u8005\u5206\u6b65\u64cd\u4f5c\uff1a\n# 1. \u53ea\u521b\u5efa\u4ed3\u5e93\uff08\u4e0d\u63a8\u9001\uff09\ngh repo create ai-sdk --private --source=.\n\n# 2. \u6dfb\u52a0\u8fdc\u7a0b\u4ed3\u5e93\ngit remote add origin https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# 3. \u63a8\u9001\u4ee3\u7801\ngit push -u origin main\n</code></pre> <p>\u53c2\u6570\u8bf4\u660e: - <code>ai-sdk</code> - \u4ed3\u5e93\u540d\u79f0\uff08\u53ef\u81ea\u5b9a\u4e49\uff09 - <code>--private</code> - \u521b\u5efa\u79c1\u6709\u4ed3\u5e93 - <code>--source=.</code> - \u4f7f\u7528\u5f53\u524d\u76ee\u5f55\u4f5c\u4e3a\u6e90 - <code>--push</code> - \u7acb\u5373\u63a8\u9001\u4ee3\u7801</p>"},{"location":"github-setup/#3","title":"\u6b65\u9aa4 3: \u9a8c\u8bc1\u4ed3\u5e93\u521b\u5efa","text":"<pre><code># \u67e5\u770b\u4ed3\u5e93\u4fe1\u606f\ngh repo view\n\n# \u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u4ed3\u5e93\ngh repo view --web\n</code></pre>"},{"location":"github-setup/#4-personal-access-token-pat","title":"\u6b65\u9aa4 4: \u521b\u5efa Personal Access Token (PAT)","text":"<p>\u4e3a\u4e86\u8ba9 pip \u80fd\u591f\u8bbf\u95ee\u79c1\u6709\u4ed3\u5e93\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a Personal Access Token\u3002</p>"},{"location":"github-setup/#1-github-cli","title":"\u65b9\u6cd5 1: \u4f7f\u7528 GitHub CLI\uff08\u63a8\u8350\uff09","text":"<pre><code>gh auth refresh -h github.com -s read:packages\n</code></pre>"},{"location":"github-setup/#2","title":"\u65b9\u6cd5 2: \u624b\u52a8\u521b\u5efa","text":"<ol> <li>\u8bbf\u95ee https://github.com/settings/tokens</li> <li>\u70b9\u51fb \"Generate new token\" \u2192 \"Generate new token (classic)\"</li> <li>\u8bbe\u7f6e\uff1a</li> <li>Note: <code>AI SDK Access</code></li> <li>Expiration: \u81ea\u5b9a\u4e49\uff08\u5efa\u8bae No expiration \u6216 1 year\uff09</li> <li>Scopes: \u52fe\u9009 <code>repo</code> (\u5b8c\u6574\u8bbf\u95ee\u79c1\u6709\u4ed3\u5e93)</li> <li>\u70b9\u51fb \"Generate token\"</li> <li>\u590d\u5236\u5e76\u4fdd\u5b58 token\uff08\u53ea\u663e\u793a\u4e00\u6b21\uff01\uff09</li> </ol>"},{"location":"github-setup/#5","title":"\u6b65\u9aa4 5: \u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u5b89\u88c5","text":""},{"location":"github-setup/#1-https-token","title":"\u65b9\u6cd5 1: \u4f7f\u7528 HTTPS \u548c Token\uff08\u63a8\u8350\uff09","text":"<p>\u5728\u9700\u8981\u4f7f\u7528\u8fd9\u4e2a\u5305\u7684\u9879\u76ee\u4e2d\uff1a</p> <pre><code># \u65b9\u5f0f 1: \u76f4\u63a5\u5b89\u88c5\uff08\u9700\u8981\u8f93\u5165 token\uff09\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u65b9\u5f0f 2: \u5728 URL \u4e2d\u5305\u542b token\uff08\u4e0d\u63a8\u8350\uff0c\u4f1a\u66b4\u9732\u5728\u547d\u4ee4\u5386\u53f2\u4e2d\uff09\npip install git+https://{TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u65b9\u5f0f 3: \u4f7f\u7528\u73af\u5883\u53d8\u91cf\nexport GITHUB_TOKEN=ghp_your_token_here\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"github-setup/#2-requirementstxt","title":"\u65b9\u6cd5 2: \u4f7f\u7528 requirements.txt","text":"<p>\u521b\u5efa <code>requirements.txt</code>:</p> <pre><code># \u65b9\u5f0f 1: HTTPS (\u9700\u8981\u914d\u7f6e token)\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u65b9\u5f0f 2: \u6307\u5b9a\u5206\u652f\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git@main\n\n# \u65b9\u5f0f 3: \u6307\u5b9a\u7248\u672c\u6807\u7b7e\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n\n# \u65b9\u5f0f 4: \u6307\u5b9a\u63d0\u4ea4\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git@commit_hash\n</code></pre> <p>\u7136\u540e\u5b89\u88c5\uff1a</p> <pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"github-setup/#3-git","title":"\u65b9\u6cd5 3: \u914d\u7f6e Git \u51ed\u636e","text":"<p>\u4e00\u52b3\u6c38\u9038\u7684\u65b9\u6cd5\uff08\u63a8\u8350\u7528\u4e8e\u5f00\u53d1\u73af\u5883\uff09\uff1a</p> <pre><code># \u914d\u7f6e Git \u51ed\u636e\u52a9\u624b\ngit config --global credential.helper store\n\n# \u7b2c\u4e00\u6b21\u514b\u9686\u65f6\u8f93\u5165\u7528\u6237\u540d\u548c token\n# \u7528\u6237\u540d: YOUR_GITHUB_USERNAME\n# \u5bc6\u7801: YOUR_PERSONAL_ACCESS_TOKEN\n\n# \u4e4b\u540e pip \u5b89\u88c5\u5c31\u4e0d\u9700\u8981\u518d\u8f93\u5165\u4e86\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"github-setup/#6","title":"\u6b65\u9aa4 6: \u5728\u9879\u76ee\u4e2d\u4f7f\u7528","text":"<p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5c31\u53ef\u4ee5\u50cf\u666e\u901a\u5305\u4e00\u6837\u4f7f\u7528\uff1a</p> <pre><code># your_project/main.py\nfrom ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"github-setup/#_2","title":"\u9ad8\u7ea7\u914d\u7f6e","text":""},{"location":"github-setup/#1-pyprojecttoml","title":"1. \u4f7f\u7528 pyproject.toml\uff08\u73b0\u4ee3\u65b9\u5f0f\uff09","text":"<p>\u5982\u679c\u4f60\u7684\u9879\u76ee\u4f7f\u7528 <code>pyproject.toml</code>\uff1a</p> <pre><code>[project]\ndependencies = [\n    \"ai-sdk @ git+https://github.com/YOUR_USERNAME/ai-sdk.git\",\n]\n</code></pre>"},{"location":"github-setup/#2-pipconf","title":"2. \u4f7f\u7528 pip.conf \u914d\u7f6e\u6587\u4ef6","text":"<p>\u521b\u5efa <code>~/.pip/pip.conf</code> (Linux/macOS) \u6216 <code>%APPDATA%\\pip\\pip.ini</code> (Windows):</p> <pre><code>[global]\nextra-index-url = https://{TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"github-setup/#3-ssh-ssh-key","title":"3. \u4f7f\u7528 SSH\uff08\u5982\u679c\u5df2\u914d\u7f6e SSH key\uff09","text":"<pre><code>pip install git+ssh://git@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"github-setup/#_3","title":"\u7248\u672c\u7ba1\u7406","text":""},{"location":"github-setup/#_4","title":"\u521b\u5efa\u7248\u672c\u6807\u7b7e","text":"<pre><code># \u521b\u5efa\u7248\u672c\u6807\u7b7e\ngit tag -a v0.1.0 -m \"Release version 0.1.0\"\n\n# \u63a8\u9001\u6807\u7b7e\u5230 GitHub\ngit push origin v0.1.0\n\n# \u6216\u63a8\u9001\u6240\u6709\u6807\u7b7e\ngit push --tags\n</code></pre>"},{"location":"github-setup/#_5","title":"\u5b89\u88c5\u7279\u5b9a\u7248\u672c","text":"<pre><code># \u5b89\u88c5\u7279\u5b9a\u7248\u672c\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n\n# \u5728 requirements.txt \u4e2d\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n</code></pre>"},{"location":"github-setup/#cicd","title":"CI/CD \u73af\u5883\u914d\u7f6e","text":""},{"location":"github-setup/#github-actions","title":"GitHub Actions","text":"<p>\u5728 CI/CD \u4e2d\u4f7f\u7528\u79c1\u6709\u4ed3\u5e93\uff1a</p> <pre><code># .github/workflows/test.yml\n- name: Install dependencies\n  env:\n    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n  run: |\n    pip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"github-setup/#docker","title":"Docker","text":"<p>\u5728 Dockerfile \u4e2d\uff1a</p> <pre><code># \u4f7f\u7528\u6784\u5efa\u53c2\u6570\u4f20\u9012 token\nARG GITHUB_TOKEN\n\nRUN pip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre> <p>\u6784\u5efa\u65f6\uff1a</p> <pre><code>docker build --build-arg GITHUB_TOKEN=${GITHUB_TOKEN} .\n</code></pre>"},{"location":"github-setup/#_6","title":"\u5b89\u5168\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"github-setup/#_7","title":"\u26a0\ufe0f \u4e0d\u8981\u505a\u7684\u4e8b\u60c5","text":"<p>\u274c \u4e0d\u8981\u5c06 token \u76f4\u63a5\u5199\u5728\u4ee3\u7801\u6216\u914d\u7f6e\u6587\u4ef6\u4e2d \u274c \u4e0d\u8981\u5c06 token \u63d0\u4ea4\u5230\u7248\u672c\u63a7\u5236 \u274c \u4e0d\u8981\u5728\u516c\u5f00\u7684 URL \u4e2d\u5305\u542b token</p>"},{"location":"github-setup/#_8","title":"\u2705 \u5e94\u8be5\u505a\u7684\u4e8b\u60c5","text":"<p>\u2705 \u4f7f\u7528\u73af\u5883\u53d8\u91cf <pre><code>export GITHUB_TOKEN=ghp_xxx\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre></p> <p>\u2705 \u4f7f\u7528 .env \u6587\u4ef6\uff08\u4f46\u8981\u52a0\u5165 .gitignore\uff09 <pre><code># .env\nGITHUB_TOKEN=ghp_xxx\n\n# .gitignore\n.env\n</code></pre></p> <p>\u2705 \u4f7f\u7528\u5bc6\u94a5\u7ba1\u7406\u5de5\u5177 - macOS: Keychain - Linux: gnome-keyring - Windows: Credential Manager</p> <p>\u2705 \u5b9a\u671f\u8f6e\u6362 token - \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4 - \u5b9a\u671f\u66f4\u65b0 token</p>"},{"location":"github-setup/#_9","title":"\u6545\u969c\u6392\u67e5","text":""},{"location":"github-setup/#1","title":"\u95ee\u9898 1: \u8ba4\u8bc1\u5931\u8d25","text":"<pre><code>ERROR: Repository not found or authentication failed\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848: 1. \u68c0\u67e5 token \u662f\u5426\u6709\u6548 2. \u68c0\u67e5 token \u662f\u5426\u6709 <code>repo</code> \u6743\u9650 3. \u68c0\u67e5\u4ed3\u5e93\u540d\u79f0\u662f\u5426\u6b63\u786e 4. \u4f7f\u7528 <code>gh auth status</code> \u68c0\u67e5\u767b\u5f55\u72b6\u6001</p>"},{"location":"github-setup/#2_1","title":"\u95ee\u9898 2: \u6743\u9650\u88ab\u62d2\u7edd","text":"<pre><code>Permission denied (publickey)\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848: - \u4f7f\u7528 HTTPS \u800c\u4e0d\u662f SSH\uff0c\u6216\u914d\u7f6e SSH key</p>"},{"location":"github-setup/#3_1","title":"\u95ee\u9898 3: \u65e0\u6cd5\u627e\u5230\u5305","text":"<pre><code>ERROR: Could not find a version that satisfies the requirement\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848: 1. \u786e\u4fdd <code>setup.py</code> \u914d\u7f6e\u6b63\u786e 2. \u786e\u4fdd\u5305\u540d\u79f0\u6b63\u786e 3. \u5c1d\u8bd5\u4f7f\u7528\u5b8c\u6574\u7684 git URL</p>"},{"location":"github-setup/#_10","title":"\u5b8c\u6574\u793a\u4f8b","text":""},{"location":"github-setup/#1-github","title":"1. \u53d1\u5e03\u5230 GitHub","text":"<pre><code># \u9879\u76ee\u6839\u76ee\u5f55\ncd /Users/zhangxiatian/websites/my_ai_api\n\n# \u521d\u59cb\u5316\u5e76\u63d0\u4ea4\ngit init\ngit add .\ngit commit -m \"Initial commit\"\n\n# \u521b\u5efa\u79c1\u6709\u4ed3\u5e93\u5e76\u63a8\u9001\ngh repo create ai-sdk --private --source=. --push\n\n# \u521b\u5efa\u7248\u672c\u6807\u7b7e\ngit tag -a v0.1.0 -m \"Release v0.1.0\"\ngit push origin v0.1.0\n</code></pre>"},{"location":"github-setup/#2_2","title":"2. \u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u4f7f\u7528","text":"<pre><code># \u521b\u5efa\u65b0\u9879\u76ee\nmkdir my-new-project\ncd my-new-project\n\n# \u521b\u5efa\u865a\u62df\u73af\u5883\npython -m venv venv\nsource venv/bin/activate\n\n# \u914d\u7f6e token\uff08\u73af\u5883\u53d8\u91cf\uff09\nexport GITHUB_TOKEN=ghp_your_token_here\n\n# \u5b89\u88c5\u79c1\u6709\u5305\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u521b\u5efa\u6d4b\u8bd5\u6587\u4ef6\ncat &gt; test.py &lt;&lt; 'EOF'\nfrom ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\nEOF\n\n# \u8fd0\u884c\u6d4b\u8bd5\npython test.py\n</code></pre>"},{"location":"github-setup/#_11","title":"\u603b\u7ed3","text":"<p>\u2705 \u53d1\u5e03\u6d41\u7a0b: 1. <code>git init</code> \u2192 \u521d\u59cb\u5316\u4ed3\u5e93 2. <code>gh repo create --private</code> \u2192 \u521b\u5efa\u79c1\u6709\u4ed3\u5e93 3. <code>git push</code> \u2192 \u63a8\u9001\u4ee3\u7801 4. <code>git tag</code> \u2192 \u521b\u5efa\u7248\u672c\u6807\u7b7e\uff08\u53ef\u9009\uff09</p> <p>\u2705 \u5b89\u88c5\u65b9\u6cd5: 1. \u521b\u5efa Personal Access Token 2. \u4f7f\u7528 <code>pip install git+https://...</code> \u5b89\u88c5 3. \u5728\u4ee3\u7801\u4e2d\u6b63\u5e38\u4f7f\u7528</p> <p>\u2705 \u6700\u4f73\u5b9e\u8df5: - \u4f7f\u7528\u73af\u5883\u53d8\u91cf\u5b58\u50a8 token - \u5b9a\u671f\u66f4\u65b0 token - \u4f7f\u7528\u7248\u672c\u6807\u7b7e\u7ba1\u7406\u7248\u672c - \u4e0d\u8981\u5c06\u654f\u611f\u4fe1\u606f\u63d0\u4ea4\u5230\u7248\u672c\u63a7\u5236</p>"},{"location":"github-setup/#_12","title":"\u53c2\u8003\u8d44\u6e90","text":"<ul> <li>GitHub CLI \u6587\u6863</li> <li>pip Git \u5b89\u88c5\u6587\u6863</li> <li>Personal Access Token \u521b\u5efa</li> <li>GitHub Packages \u6587\u6863</li> </ul> <p>\u521b\u5efa\u65f6\u95f4: 2025-12-18 \u72b6\u6001: \u2705 \u5b8c\u6574\u53ef\u7528</p>"},{"location":"image-generation/","title":"\u56fe\u7247\u751f\u6210\u529f\u80fd\u6307\u5357","text":""},{"location":"image-generation/#_2","title":"\u6982\u8ff0","text":"<p>AI SDK \u652f\u6301\u5f3a\u5927\u7684 AI\u56fe\u7247\u751f\u6210\u529f\u80fd\uff0c\u53ef\u4ee5\u6839\u636e\u6587\u672c\u63cf\u8ff0\u751f\u6210\u5404\u79cd\u98ce\u683c\u7684\u56fe\u7247\u3002</p>"},{"location":"image-generation/#_3","title":"\u5feb\u901f\u5f00\u59cb","text":""},{"location":"image-generation/#_4","title":"\u6700\u7b80\u5355\u7684\u4f8b\u5b50","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u5f20\u672a\u6765\u57ce\u5e02\u7684\u56fe\u7247\"}\n        ],\n        generate_image=True  # \u542f\u7528\u56fe\u7247\u751f\u6210\n    )\n\n    print(response.choices[0].message.content)\n    # \u54cd\u5e94\u4e2d\u4f1a\u5305\u542b\u751f\u6210\u7684\u56fe\u7247URL\u6216\u63cf\u8ff0\n</code></pre>"},{"location":"image-generation/#_5","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"image-generation/#1","title":"1. \u7eaf\u6587\u672c\u751f\u6210\u56fe\u7247","text":"<p>\u6839\u636e\u6587\u672c\u63cf\u8ff0\u76f4\u63a5\u751f\u6210\u56fe\u7247\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\n                \"role\": \"user\",\n                \"content\": \"\u751f\u6210\u4e00\u5f20\u65e5\u843d\u65f6\u5206\u7684\u6d77\u8fb9\uff0c\u6709\u6c99\u6ee9\u3001\u6d77\u6d6a\u548c\u665a\u971e\"\n            }\n        ],\n        generate_image=True\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"image-generation/#2","title":"2. \u57fa\u4e8e\u53c2\u8003\u56fe\u7247\u751f\u6210","text":"<p>\u63d0\u4f9b\u53c2\u8003\u56fe\u7247\uff0c\u751f\u6210\u76f8\u4f3c\u98ce\u683c\u7684\u65b0\u56fe\u7247\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\n                \"role\": \"user\",\n                \"content\": \"\u53c2\u8003\u8fd9\u5f20\u56fe\u7247\u7684\u98ce\u683c\uff0c\u751f\u6210\u4e00\u5f20\u4e0d\u540c\u4e3b\u9898\u7684\u56fe\u7247\"\n            }\n        ],\n        image_url=\"http://example.com/reference.png\",\n        generate_image=True\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"image-generation/#3","title":"3. \u8be6\u7ec6\u63cf\u8ff0\u751f\u6210","text":"<p>\u63d0\u4f9b\u8be6\u7ec6\u7684\u98ce\u683c\u548c\u5143\u7d20\u63cf\u8ff0\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nprompt = \"\"\"\n\u751f\u6210\u4e00\u5f20\u56fe\u7247\uff0c\u8981\u6c42\uff1a\n- \u4e3b\u9898\uff1a\u79d1\u5e7b\u592a\u7a7a\u7ad9\n- \u98ce\u683c\uff1a\u8d5b\u535a\u670b\u514b\n- \u5143\u7d20\uff1a\u9713\u8679\u706f\u3001\u98de\u8239\u3001\u5b87\u822a\u5458\n- \u8272\u8c03\uff1a\u84dd\u7d2b\u8272\u8c03\n- \u6c1b\u56f4\uff1a\u795e\u79d8\u3001\u672a\u6765\u611f\n\"\"\"\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": prompt}],\n        generate_image=True\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"image-generation/#4","title":"4. \u7ed3\u5408\u6df1\u5ea6\u7814\u7a76","text":"<p>\u5148\u7814\u7a76\u7279\u5b9a\u98ce\u683c\uff0c\u518d\u751f\u6210\u56fe\u7247\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\n                \"role\": \"user\",\n                \"content\": \"\u7814\u7a76\u5370\u8c61\u6d3e\u7ed8\u753b\u98ce\u683c\uff0c\u7136\u540e\u751f\u6210\u4e00\u5f20\u8be5\u98ce\u683c\u7684\u73b0\u4ee3\u57ce\u5e02\u56fe\u7247\"\n            }\n        ],\n        deep_research=True,   # \u542f\u7528\u6df1\u5ea6\u7814\u7a76\n        generate_image=True   # \u542f\u7528\u56fe\u7247\u751f\u6210\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"image-generation/#5","title":"5. \u4f7f\u7528\u4e0d\u540c\u6a21\u578b","text":"<p>\u5143\u5b9d\u548cGemini\u6a21\u578b\u90fd\u652f\u6301\u56fe\u7247\u751f\u6210\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    # \u4f7f\u7528\u5143\u5b9d\u6a21\u578b\n    response1 = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u53ea\u53ef\u7231\u7684\u732b\"}],\n        generate_image=True\n    )\n\n    # \u4f7f\u7528Gemini\u6a21\u578b\n    response2 = client.chat.completions.create(\n        model=\"gemini\",\n        messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u53ea\u53ef\u7231\u7684\u732b\"}],\n        generate_image=True\n    )\n\n    print(\"\u5143\u5b9d:\", response1.choices[0].message.content)\n    print(\"Gemini:\", response2.choices[0].message.content)\n</code></pre>"},{"location":"image-generation/#_6","title":"\u6279\u91cf\u751f\u6210","text":"<p>\u751f\u6210\u591a\u5f20\u4e0d\u540c\u4e3b\u9898\u7684\u56fe\u7247\uff1a</p> <pre><code>from ai_sdk import AIClient\n\nthemes = [\n    \"\u6625\u5929\u7684\u6a31\u82b1\",\n    \"\u590f\u5929\u7684\u6d77\u6ee9\",\n    \"\u79cb\u5929\u7684\u67ab\u53f6\",\n    \"\u51ac\u5929\u7684\u96ea\u5c71\"\n]\n\nwith AIClient() as client:\n    for theme in themes:\n        response = client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[{\"role\": \"user\", \"content\": f\"\u751f\u6210\u4e00\u5f20{theme}\u7684\u56fe\u7247\"}],\n            generate_image=True\n        )\n        print(f\"{theme}: {response.choices[0].message.content}\")\n</code></pre>"},{"location":"image-generation/#_7","title":"\u5b8c\u6574\u53c2\u6570\u8bf4\u660e","text":"<pre><code>client.chat.completions.create(\n    model=\"yuanbao\",           # \u6216 \"gemini\"\n    messages=[...],            # \u6587\u672c\u63cf\u8ff0\n    image_url=\"...\",           # \u53ef\u9009\uff1a\u53c2\u8003\u56fe\u7247URL\n    image_data=\"...\",          # \u53ef\u9009\uff1a\u53c2\u8003\u56fe\u7247Base64\n    generate_image=True,       # \u5fc5\u9700\uff1a\u542f\u7528\u56fe\u7247\u751f\u6210\n    deep_research=False        # \u53ef\u9009\uff1a\u542f\u7528\u6df1\u5ea6\u7814\u7a76\n)\n</code></pre>"},{"location":"image-generation/#_8","title":"\u53c2\u6570\u7ec4\u5408","text":""},{"location":"image-generation/#1_1","title":"\u7ec4\u54081: \u7eaf\u6587\u672c\u751f\u6210","text":"<pre><code>messages=[{\"role\": \"user\", \"content\": \"\u63cf\u8ff0\"}]\ngenerate_image=True\n</code></pre>"},{"location":"image-generation/#2_1","title":"\u7ec4\u54082: \u53c2\u8003\u56fe\u7247 + \u6587\u672c","text":"<pre><code>messages=[{\"role\": \"user\", \"content\": \"\u57fa\u4e8e\u8fd9\u5f20\u56fe\u7247...\"}]\nimage_url=\"http://...\"\ngenerate_image=True\n</code></pre>"},{"location":"image-generation/#3_1","title":"\u7ec4\u54083: \u6df1\u5ea6\u7814\u7a76 + \u751f\u6210","text":"<pre><code>messages=[{\"role\": \"user\", \"content\": \"\u7814\u7a76...\u7136\u540e\u751f\u6210...\"}]\ndeep_research=True\ngenerate_image=True\n</code></pre>"},{"location":"image-generation/#4_1","title":"\u7ec4\u54084: \u5168\u529f\u80fd","text":"<pre><code>messages=[{\"role\": \"user\", \"content\": \"\u5206\u6790\u8fd9\u5f20\u56fe...\"}]\nimage_url=\"http://...\"\ndeep_research=True\ngenerate_image=True\n</code></pre>"},{"location":"image-generation/#_9","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"image-generation/#1_2","title":"1. \u6e05\u6670\u7684\u63cf\u8ff0","text":"<p>\u2705 \u597d\u7684\u63cf\u8ff0\uff1a <pre><code>\"\u751f\u6210\u4e00\u5f20\u8d5b\u535a\u670b\u514b\u98ce\u683c\u7684\u57ce\u5e02\u591c\u666f\uff0c\u5305\u542b\u9713\u8679\u706f\u3001\u98de\u884c\u6c7d\u8f66\u548c\u9ad8\u697c\u5927\u53a6\uff0c\u8272\u8c03\u4e3a\u84dd\u7d2b\u8272\"\n</code></pre></p> <p>\u274c \u6a21\u7cca\u7684\u63cf\u8ff0\uff1a <pre><code>\"\u751f\u6210\u4e00\u5f20\u56fe\u7247\"\n</code></pre></p>"},{"location":"image-generation/#2_2","title":"2. \u6307\u5b9a\u98ce\u683c","text":"<p>\u660e\u786e\u6307\u5b9a\u827a\u672f\u98ce\u683c\uff1a - \u5199\u5b9e\u6444\u5f71 - \u5361\u901a\u52a8\u6f2b - \u6cb9\u753b\u98ce\u683c - \u6c34\u5f69\u753b - \u8d5b\u535a\u670b\u514b - \u84b8\u6c7d\u670b\u514b - \u6781\u7b80\u4e3b\u4e49 - \u8d85\u73b0\u5b9e\u4e3b\u4e49</p>"},{"location":"image-generation/#3_2","title":"3. \u63cf\u8ff0\u5143\u7d20","text":"<p>\u5177\u4f53\u8bf4\u660e\u9700\u8981\u5305\u542b\u7684\u5143\u7d20\uff1a - \u4e3b\u4f53\u5bf9\u8c61 - \u80cc\u666f\u73af\u5883 - \u5149\u7ebf\u6548\u679c - \u8272\u8c03\u6c1b\u56f4 - \u6784\u56fe\u65b9\u5f0f</p>"},{"location":"image-generation/#4_2","title":"4. \u5408\u7406\u4f7f\u7528\u53c2\u6570","text":"<pre><code># \u7b80\u5355\u573a\u666f - \u53ea\u7528generate_image\ngenerate_image=True\n\n# \u9700\u8981\u7814\u7a76\u7279\u5b9a\u98ce\u683c - \u52a0\u4e0adeep_research\ndeep_research=True\ngenerate_image=True\n\n# \u9700\u8981\u53c2\u8003\u73b0\u6709\u56fe\u7247 - \u63d0\u4f9bimage_url\nimage_url=\"...\"\ngenerate_image=True\n</code></pre>"},{"location":"image-generation/#_10","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u7b49\u5f85\u65f6\u95f4</li> <li>\u56fe\u7247\u751f\u6210\u9700\u8981\u8f83\u957f\u65f6\u95f4\uff08\u901a\u5e3830-120\u79d2\uff09</li> <li> <p>\u53ef\u4ee5\u9002\u5f53\u589e\u52a0timeout\u8bbe\u7f6e    <pre><code>client = AIClient(timeout=120)\n</code></pre></p> </li> <li> <p>\u54cd\u5e94\u5185\u5bb9</p> </li> <li>\u751f\u6210\u7684\u56fe\u7247URL\u4f1a\u5728\u54cd\u5e94\u7684message.content\u4e2d\u8fd4\u56de</li> <li> <p>\u4e5f\u53ef\u80fd\u5305\u542b\u56fe\u7247\u63cf\u8ff0\u548c\u76f8\u5173\u8bf4\u660e</p> </li> <li> <p>\u9519\u8bef\u5904\u7406 <pre><code>from ai_sdk import AIClient, TimeoutError\n\ntry:\n    with AIClient(timeout=120) as client:\n        response = client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u56fe\u7247\"}],\n            generate_image=True\n        )\nexcept TimeoutError:\n    print(\"\u751f\u6210\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\")\n</code></pre></p> </li> <li> <p>\u8d44\u6e90\u7ba1\u7406</p> </li> <li>\u4f7f\u7528with\u8bed\u53e5\u81ea\u52a8\u7ba1\u7406\u8d44\u6e90</li> <li>\u6279\u91cf\u751f\u6210\u65f6\u6ce8\u610fAPI\u8c03\u7528\u9891\u7387</li> </ol>"},{"location":"image-generation/#_11","title":"\u8fd0\u884c\u793a\u4f8b","text":"<p>\u9879\u76ee\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u56fe\u7247\u751f\u6210\u793a\u4f8b\uff1a</p> <pre><code>python examples/image_generation.py\n</code></pre> <p>\u8be5\u793a\u4f8b\u5305\u542b\uff1a - \u2705 \u76f4\u63a5\u751f\u6210\u56fe\u7247 - \u2705 \u6839\u636e\u8be6\u7ec6\u63cf\u8ff0\u751f\u6210 - \u2705 \u57fa\u4e8e\u73b0\u6709\u56fe\u7247\u751f\u6210 - \u2705 \u4f7f\u7528\u4e0d\u540c\u6a21\u578b\u751f\u6210 - \u2705 \u6df1\u5ea6\u7814\u7a76 + \u751f\u6210 - \u2705 \u6279\u91cf\u751f\u6210</p>"},{"location":"image-generation/#_12","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"image-generation/#q","title":"Q: \u652f\u6301\u54ea\u4e9b\u56fe\u7247\u683c\u5f0f\uff1f","text":"<p>A: \u751f\u6210\u7684\u56fe\u7247\u683c\u5f0f\u7531API\u51b3\u5b9a\uff0c\u901a\u5e38\u4e3aPNG\u6216JPEG\u3002</p>"},{"location":"image-generation/#q_1","title":"Q: \u751f\u6210\u7684\u56fe\u7247\u5c3a\u5bf8\u662f\u591a\u5c11\uff1f","text":"<p>A: \u56fe\u7247\u5c3a\u5bf8\u7531API\u51b3\u5b9a\uff0c\u53ef\u4ee5\u5728prompt\u4e2d\u63cf\u8ff0\u6240\u9700\u5c3a\u5bf8\u3002</p>"},{"location":"image-generation/#q_2","title":"Q: \u53ef\u4ee5\u751f\u6210\u591a\u5f20\u56fe\u7247\u5417\uff1f","text":"<p>A: \u53ef\u4ee5\u901a\u8fc7\u591a\u6b21\u8c03\u7528API\u751f\u6210\u591a\u5f20\u56fe\u7247\uff0c\u53c2\u8003\u6279\u91cf\u751f\u6210\u793a\u4f8b\u3002</p>"},{"location":"image-generation/#q_3","title":"Q: \u751f\u6210\u5931\u8d25\u600e\u4e48\u529e\uff1f","text":"<p>A: 1. \u68c0\u67e5prompt\u63cf\u8ff0\u662f\u5426\u6e05\u6670 2. \u786e\u8ba4timeout\u8bbe\u7f6e\u8db3\u591f\u957f 3. \u67e5\u770b\u9519\u8bef\u65e5\u5fd7\u4e86\u89e3\u5177\u4f53\u539f\u56e0</p>"},{"location":"image-generation/#q_4","title":"Q: \u5982\u4f55\u83b7\u53d6\u751f\u6210\u7684\u56fe\u7247\uff1f","text":"<p>A: \u56fe\u7247URL\u4f1a\u5728\u54cd\u5e94\u7684message.content\u4e2d\u8fd4\u56de\uff0c\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u3002</p>"},{"location":"image-generation/#_13","title":"\u8fdb\u9636\u6280\u5de7","text":""},{"location":"image-generation/#1_3","title":"1. \u98ce\u683c\u8fc1\u79fb","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[\n        {\"role\": \"user\", \"content\": \"\u5c06\u8fd9\u5f20\u7167\u7247\u8f6c\u6362\u4e3a\u68b5\u9ad8\u7684\u661f\u7a7a\u98ce\u683c\"}\n    ],\n    image_url=\"http://example.com/photo.jpg\",\n    generate_image=True\n)\n</code></pre>"},{"location":"image-generation/#2_3","title":"2. \u6982\u5ff5\u8bbe\u8ba1","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[\n        {\"role\": \"user\", \"content\": \"\u8bbe\u8ba1\u4e00\u4e2a\u672a\u6765\u667a\u80fd\u624b\u673a\u7684\u6982\u5ff5\u56fe\"}\n    ],\n    generate_image=True\n)\n</code></pre>"},{"location":"image-generation/#3_3","title":"3. \u573a\u666f\u91cd\u5efa","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[\n        {\"role\": \"user\", \"content\": \"\u91cd\u5efa\u5510\u671d\u957f\u5b89\u57ce\u7684\u8857\u666f\"}\n    ],\n    deep_research=True,\n    generate_image=True\n)\n</code></pre> <p>\u5f00\u59cb\u521b\u4f5c\u5427\uff01 \ud83c\udfa8</p> <p>\u67e5\u770b <code>examples/image_generation.py</code> \u83b7\u53d6\u5b8c\u6574\u793a\u4f8b\u4ee3\u7801\u3002</p>"},{"location":"project-summary/","title":"AI SDK \u9879\u76ee\u603b\u7ed3","text":""},{"location":"project-summary/#_1","title":"\u9879\u76ee\u6982\u8ff0","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u517c\u5bb9OpenAI SDK\u63a5\u53e3\u98ce\u683c\u7684Python AI API\u5ba2\u6237\u7aef\uff0c\u652f\u6301\u5143\u5b9d(Yuanbao)\u548cGemini\u6a21\u578b\u3002</p>"},{"location":"project-summary/#_2","title":"\u6838\u5fc3\u7279\u6027","text":""},{"location":"project-summary/#_3","title":"\u2705 \u5df2\u5b9e\u73b0\u529f\u80fd","text":"<ol> <li>\u517c\u5bb9OpenAI SDK\u7684\u63a5\u53e3\u8bbe\u8ba1</li> <li><code>client.chat.completions.create()</code> API</li> <li>\u76f8\u4f3c\u7684\u53c2\u6570\u7ed3\u6784\u548c\u8fd4\u56de\u503c</li> <li> <p>ChatMessage, ChatCompletion\u7b49\u7c7b\u578b\u5b9a\u4e49</p> </li> <li> <p>\u5b8c\u6574\u7684\u7c7b\u578b\u63d0\u793a</p> </li> <li>\u4f7f\u7528Pydantic\u8fdb\u884c\u6570\u636e\u9a8c\u8bc1</li> <li>\u5b8c\u6574\u7684\u7c7b\u578b\u6ce8\u89e3</li> <li> <p>IDE\u53cb\u597d\u7684\u4ee3\u7801\u8865\u5168</p> </li> <li> <p>\u5065\u5168\u7684\u9519\u8bef\u5904\u7406</p> </li> <li>\u5206\u5c42\u7684\u5f02\u5e38\u4f53\u7cfb</li> <li>\u8be6\u7ec6\u7684\u9519\u8bef\u4fe1\u606f</li> <li> <p>\u7f51\u7edc\u9519\u8bef\u91cd\u8bd5\u673a\u5236</p> </li> <li> <p>\u5b89\u5168\u7684\u914d\u7f6e\u7ba1\u7406</p> </li> <li>\u73af\u5883\u53d8\u91cf\u7ba1\u7406\u654f\u611f\u4fe1\u606f</li> <li>.env\u6587\u4ef6\u652f\u6301</li> <li> <p>.gitignore\u4fdd\u62a4\u654f\u611f\u6570\u636e</p> </li> <li> <p>\u4e30\u5bcc\u7684\u529f\u80fd\u652f\u6301</p> </li> <li>\u591a\u6a21\u578b\u652f\u6301\uff08\u5143\u5b9d\u3001Gemini\uff09</li> <li>\u56fe\u7247\u5206\u6790\uff08URL\u548cBase64\uff09</li> <li>\u6df1\u5ea6\u7814\u7a76\u6a21\u5f0f</li> <li>\u56fe\u7247\u751f\u6210\u529f\u80fd</li> <li> <p>\u4efb\u52a1\u67e5\u8be2\u7ba1\u7406</p> </li> <li> <p>\u5b8c\u5584\u7684\u6587\u6863</p> </li> <li>\u8be6\u7ec6\u7684README</li> <li>\u5feb\u901f\u5f00\u59cb\u6307\u5357</li> <li>\u591a\u4e2a\u4f7f\u7528\u793a\u4f8b</li> <li> <p>API\u53c2\u8003\u6587\u6863</p> </li> <li> <p>\u6d4b\u8bd5\u6846\u67b6</p> </li> <li>\u5355\u5143\u6d4b\u8bd5\u793a\u4f8b</li> <li>Mock\u6d4b\u8bd5</li> <li>\u8986\u76d6\u7387\u652f\u6301</li> </ol>"},{"location":"project-summary/#_4","title":"\u9879\u76ee\u7ed3\u6784","text":"<pre><code>my_ai_api/\n\u251c\u2500\u2500 ai_sdk/                    # SDK\u6838\u5fc3\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 __init__.py           # \u5305\u521d\u59cb\u5316\n\u2502   \u251c\u2500\u2500 client.py             # \u6838\u5fc3\u5ba2\u6237\u7aef\u7c7b\n\u2502   \u251c\u2500\u2500 exceptions.py         # \u5f02\u5e38\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 _utils.py             # \u5de5\u5177\u51fd\u6570\n\u2502   \u251c\u2500\u2500 resources/            # \u8d44\u6e90\u6a21\u5757\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 chat.py           # Chat API\u5b9e\u73b0\n\u2502   \u2502   \u2514\u2500\u2500 tasks.py          # \u4efb\u52a1\u7ba1\u7406API\n\u2502   \u2514\u2500\u2500 types/                # \u7c7b\u578b\u5b9a\u4e49\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u2514\u2500\u2500 chat.py           # Chat\u76f8\u5173\u7c7b\u578b\n\u251c\u2500\u2500 examples/                  # \u4f7f\u7528\u793a\u4f8b\n\u2502   \u251c\u2500\u2500 basic_chat.py         # \u57fa\u7840\u5bf9\u8bdd\u793a\u4f8b\n\u2502   \u251c\u2500\u2500 image_analysis.py     # \u56fe\u7247\u5206\u6790\u793a\u4f8b\n\u2502   \u2514\u2500\u2500 advanced_usage.py     # \u9ad8\u7ea7\u7528\u6cd5\u793a\u4f8b\n\u251c\u2500\u2500 tests/                     # \u6d4b\u8bd5\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 test_client.py        # \u5ba2\u6237\u7aef\u6d4b\u8bd5\n\u251c\u2500\u2500 .env.example              # \u73af\u5883\u53d8\u91cf\u6a21\u677f\n\u251c\u2500\u2500 .gitignore                # Git\u5ffd\u7565\u89c4\u5219\n\u251c\u2500\u2500 README.md                 # \u9879\u76ee\u6587\u6863\n\u251c\u2500\u2500 QUICKSTART.md             # \u5feb\u901f\u5f00\u59cb\u6307\u5357\n\u251c\u2500\u2500 PROJECT_SUMMARY.md        # \u9879\u76ee\u603b\u7ed3\uff08\u672c\u6587\u4ef6\uff09\n\u251c\u2500\u2500 requirements.txt          # \u4f9d\u8d56\u5217\u8868\n\u251c\u2500\u2500 setup.py                  # \u5b89\u88c5\u914d\u7f6e\n\u2514\u2500\u2500 ai_api_info.txt           # API\u4fe1\u606f\u6587\u4ef6\n</code></pre>"},{"location":"project-summary/#_5","title":"\u6280\u672f\u6808","text":"<ul> <li>Python 3.8+</li> <li>requests - HTTP\u5ba2\u6237\u7aef</li> <li>pydantic - \u6570\u636e\u9a8c\u8bc1\u548c\u7c7b\u578b\u63d0\u793a</li> <li>python-dotenv - \u73af\u5883\u53d8\u91cf\u7ba1\u7406</li> <li>pytest - \u6d4b\u8bd5\u6846\u67b6</li> </ul>"},{"location":"project-summary/#_6","title":"\u8bbe\u8ba1\u539f\u5219","text":"<p>\u9075\u5faa CLAUDE.md \u4e2d\u5b9a\u4e49\u7684\u5de5\u7a0b\u54f2\u5b66\uff1a</p> <ol> <li>KISS\u539f\u5219 - \u4fdd\u6301\u4ee3\u7801\u7b80\u6d01\u76f4\u63a5</li> <li>\u6587\u6863\u4f18\u5148 - \u5b8c\u5584\u7684\u6587\u6863\u4f53\u7cfb</li> <li>\u7528\u6237\u4f53\u9a8c\u81f3\u4e0a - \u667a\u80fd\u9ed8\u8ba4\u503c\uff0c\u53cb\u597d\u63d0\u793a</li> <li>\u6a21\u5757\u5316\u8bbe\u8ba1 - \u5355\u4e00\u804c\u8d23\uff0c\u9ad8\u5185\u805a\u4f4e\u8026\u5408</li> <li>\u5b89\u5168\u610f\u8bc6 - \u654f\u611f\u4fe1\u606f\u4fdd\u62a4</li> <li>\u9519\u8bef\u5904\u7406 - \u8be6\u7ec6\u7684\u9519\u8bef\u4fe1\u606f\u548c\u65e5\u5fd7</li> </ol>"},{"location":"project-summary/#_7","title":"\u4f7f\u7528\u65b9\u5f0f","text":""},{"location":"project-summary/#_8","title":"\u5b89\u88c5","text":"<pre><code># \u5b89\u88c5\u4f9d\u8d56\npip install -r requirements.txt\n\n# \u6216\u4f7f\u7528setup.py\u5b89\u88c5\npip install -e .\n</code></pre>"},{"location":"project-summary/#_9","title":"\u914d\u7f6e","text":"<pre><code># \u590d\u5236\u73af\u5883\u53d8\u91cf\u6a21\u677f\ncp .env.example .env\n\n# \u7f16\u8f91.env\u6587\u4ef6\uff0c\u586b\u5165\u5b9e\u9645\u914d\u7f6e\n# AI_API_TOKEN=spsw.your_token\n# AI_API_BASE_URL=http://your_server/api/v1\n</code></pre>"},{"location":"project-summary/#_10","title":"\u57fa\u7840\u4f7f\u7528","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"project-summary/#api","title":"API\u6620\u5c04","text":""},{"location":"project-summary/#openai-api","title":"OpenAI\u98ce\u683c\u63a5\u53e3 \u2192 \u5b9e\u9645API","text":"OpenAI\u63a5\u53e3 \u672cSDK \u5b9e\u9645API\u7aef\u70b9 <code>client.chat.completions.create()</code> \u2705 POST /chatCompletion <code>messages</code> \u53c2\u6570 \u2705 \u8f6c\u6362\u4e3a <code>question</code> <code>model</code> \u53c2\u6570 \u2705 \u8f6c\u6362\u4e3a <code>type</code> (1/2) \u54cd\u5e94\u683c\u5f0f \u2705 \u8f6c\u6362\u4e3aOpenAI\u683c\u5f0f \u4efb\u52a1\u8f6e\u8be2 \u2705 POST /chatResult"},{"location":"project-summary/#_11","title":"\u6587\u4ef6\u8bf4\u660e","text":""},{"location":"project-summary/#_12","title":"\u6838\u5fc3\u6587\u4ef6","text":"<ul> <li>ai_sdk/client.py - \u6838\u5fc3\u5ba2\u6237\u7aef\uff0c\u5904\u7406HTTP\u8bf7\u6c42\u548c\u8ba4\u8bc1</li> <li>ai_sdk/resources/chat.py - Chat API\u5c01\u88c5\uff0c\u5b9e\u73b0\u8f6e\u8be2\u903b\u8f91</li> <li>ai_sdk/types/chat.py - \u7c7b\u578b\u5b9a\u4e49\uff0c\u4f7f\u7528Pydantic\u9a8c\u8bc1</li> </ul>"},{"location":"project-summary/#_13","title":"\u914d\u7f6e\u6587\u4ef6","text":"<ul> <li>.env.example - \u73af\u5883\u53d8\u91cf\u6a21\u677f</li> <li>requirements.txt - Python\u4f9d\u8d56</li> <li>setup.py - \u6253\u5305\u914d\u7f6e</li> </ul>"},{"location":"project-summary/#_14","title":"\u6587\u6863\u6587\u4ef6","text":"<ul> <li>README.md - \u5b8c\u6574\u6587\u6863</li> <li>QUICKSTART.md - \u5feb\u901f\u5f00\u59cb</li> <li>PROJECT_SUMMARY.md - \u9879\u76ee\u603b\u7ed3</li> </ul>"},{"location":"project-summary/#_15","title":"\u793a\u4f8b\u6587\u4ef6","text":"<ul> <li>examples/basic_chat.py - \u57fa\u7840\u5bf9\u8bdd</li> <li>examples/image_analysis.py - \u56fe\u7247\u5206\u6790</li> <li>examples/advanced_usage.py - \u9ad8\u7ea7\u529f\u80fd</li> </ul>"},{"location":"project-summary/#_16","title":"\u4e0b\u4e00\u6b65\u8ba1\u5212","text":""},{"location":"project-summary/#_17","title":"\u53ef\u9009\u4f18\u5316","text":"<ol> <li>\u5f02\u6b65\u652f\u6301 - \u6dfb\u52a0async/await\u63a5\u53e3</li> <li>\u6d41\u5f0f\u54cd\u5e94 - \u652f\u6301SSE\u6d41\u5f0f\u8f93\u51fa</li> <li>\u7f13\u5b58\u673a\u5236 - \u7f13\u5b58\u5e38\u89c1\u8bf7\u6c42</li> <li>\u91cd\u8bd5\u7b56\u7565 - \u53ef\u914d\u7f6e\u7684\u91cd\u8bd5\u903b\u8f91</li> <li>\u66f4\u591a\u6d4b\u8bd5 - \u63d0\u9ad8\u6d4b\u8bd5\u8986\u76d6\u7387</li> <li>CI/CD - \u81ea\u52a8\u5316\u6d4b\u8bd5\u548c\u53d1\u5e03</li> </ol>"},{"location":"project-summary/#_18","title":"\u6587\u6863\u4f18\u5316","text":"<ol> <li>\u6dfb\u52a0\u4e2d\u6587\u548c\u82f1\u6587\u53cc\u8bed\u6587\u6863</li> <li>\u6dfb\u52a0API\u4f7f\u7528\u89c6\u9891\u6559\u7a0b</li> <li>\u521b\u5efa\u4ea4\u4e92\u5f0f\u793a\u4f8b\uff08Jupyter Notebook\uff09</li> </ol>"},{"location":"project-summary/#_19","title":"\u6d4b\u8bd5","text":"<pre><code># \u8fd0\u884c\u6240\u6709\u6d4b\u8bd5\npytest tests/ -v\n\n# \u8fd0\u884c\u6d4b\u8bd5\u5e76\u751f\u6210\u8986\u76d6\u7387\u62a5\u544a\npytest tests/ -v --cov=ai_sdk --cov-report=html\n\n# \u8fd0\u884c\u7279\u5b9a\u6d4b\u8bd5\npytest tests/test_client.py::TestAIClient::test_client_init_with_params -v\n</code></pre>"},{"location":"project-summary/#_20","title":"\u5f00\u53d1","text":"<pre><code># \u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56\npip install -e \".[dev]\"\n\n# \u4ee3\u7801\u683c\u5f0f\u5316\nblack ai_sdk/\n\n# \u4ee3\u7801\u68c0\u67e5\nflake8 ai_sdk/\nmypy ai_sdk/\n</code></pre>"},{"location":"project-summary/#_21","title":"\u8bb8\u53ef\u8bc1","text":"<p>MIT License</p>"},{"location":"project-summary/#_22","title":"\u4f5c\u8005","text":"<p>\u5f00\u53d1\u5b8c\u6210\u65e5\u671f: 2025-12-18</p> <p>\u9879\u76ee\u72b6\u6001: \u2705 \u5b8c\u6210</p> <p>\u6240\u6709\u6838\u5fc3\u529f\u80fd\u5df2\u5b9e\u73b0\uff0c\u6587\u6863\u5b8c\u5584\uff0c\u793a\u4f8b\u9f50\u5168\uff0c\u53ef\u4ee5\u6295\u5165\u4f7f\u7528\u3002</p>"},{"location":"public-vs-private/","title":"Public vs Private \u4ed3\u5e93\u5bf9\u6bd4","text":""},{"location":"public-vs-private/#_1","title":"\u5feb\u901f\u7ed3\u8bba","text":"<p>\u5bf9\u4e8e\u8fd9\u4e2a\u9879\u76ee\uff0c\u63a8\u8350\u4f7f\u7528 Public \u4ed3\u5e93 \u2705</p> <p>\u539f\u56e0\uff1a 1. \u4ee3\u7801\u672c\u8eab\u4e0d\u5305\u542b\u654f\u611f\u4fe1\u606f 2. API token \u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\uff0c\u4e0d\u5728\u4ee3\u7801\u4e2d 3. \u5b89\u88c5\u4f7f\u7528\u66f4\u7b80\u5355\uff0c\u65e0\u9700\u914d\u7f6e GitHub token 4. \u53ef\u4ee5\u5206\u4eab\u7ed9\u5176\u4ed6\u4eba\u4f7f\u7528 5. \u672a\u6765\u53ef\u4ee5\u53d1\u5e03\u5230 PyPI</p>"},{"location":"public-vs-private/#_2","title":"\u8be6\u7ec6\u5bf9\u6bd4","text":"\u7279\u6027 Public Repo Private Repo \u5b89\u88c5\u7b80\u4fbf\u6027 \u2705 \u6781\u7b80\u5355 \u26a0\ufe0f \u9700\u8981\u914d\u7f6e token \u5206\u4eab\u4f7f\u7528 \u2705 \u4efb\u4f55\u4eba\u53ef\u7528 \u274c \u9700\u8981\u6388\u6743 \u4ee3\u7801\u4fdd\u5bc6 \u274c \u5b8c\u5168\u516c\u5f00 \u2705 \u5b8c\u5168\u79c1\u5bc6 \u534f\u4f5c\u5f00\u53d1 \u2705 \u5bb9\u6613 \u26a0\ufe0f \u9700\u8981\u9080\u8bf7 \u53d1\u5e03\u5230 PyPI \u2705 \u53ef\u4ee5 \u26a0\ufe0f \u9700\u8981\u989d\u5916\u914d\u7f6e \u6210\u672c \u2705 \u514d\u8d39\u65e0\u9650 \u2705 \u514d\u8d39\uff08\u6709\u9650\uff09 CI/CD \u2705 \u7b80\u5355 \u26a0\ufe0f \u9700\u8981\u914d\u7f6e secrets"},{"location":"public-vs-private/#public-repo-","title":"Public Repo - \u5b89\u88c5\u5bf9\u6bd4","text":""},{"location":"public-vs-private/#public-repo","title":"\u2705 Public Repo\uff08\u63a8\u8350\uff09","text":"<pre><code># \u8d85\u7ea7\u7b80\u5355\uff01\u76f4\u63a5\u5b89\u88c5\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5728 requirements.txt \u4e2d\ngit+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"public-vs-private/#private-repo","title":"\u26a0\ufe0f Private Repo","text":"<pre><code># \u9700\u8981\u5148\u521b\u5efa\u548c\u914d\u7f6e token\nexport GITHUB_TOKEN=ghp_xxxxxxxxxx\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5728 requirements.txt \u4e2d\u4e5f\u9700\u8981\u914d\u7f6e\n# \u8fd8\u9700\u8981\u5728\u6bcf\u4e2a\u73af\u5883\u4e2d\u8bbe\u7f6e GITHUB_TOKEN\n</code></pre>"},{"location":"public-vs-private/#_3","title":"\u5b89\u5168\u6027\u5206\u6790","text":""},{"location":"public-vs-private/#_4","title":"\u8fd9\u4e2a\u9879\u76ee\u5305\u542b\u4ec0\u4e48\uff1f","text":"<p>\u2705 \u5305\u542b\uff08\u5b89\u5168\uff09: - SDK \u4ee3\u7801\u903b\u8f91 - \u7c7b\u578b\u5b9a\u4e49 - \u6587\u6863\u548c\u793a\u4f8b - \u914d\u7f6e\u6a21\u677f\uff08.env.example\uff09</p> <p>\u274c \u4e0d\u5305\u542b\uff08\u5df2\u4fdd\u62a4\uff09: - ~~API Token~~\uff08\u5728 .env \u4e2d\uff0c\u5df2\u88ab .gitignore\uff09 - ~~\u670d\u52a1\u5668\u5730\u5740~~\uff08\u5728 .env \u4e2d\uff0c\u5df2\u88ab .gitignore\uff09 - ~~\u7528\u6237\u5bc6\u7801~~\uff08\u4e0d\u5b58\u5728\uff09</p>"},{"location":"public-vs-private/#_5","title":"\u7ed3\u8bba","text":"<p>\u4ee3\u7801\u53ef\u4ee5\u516c\u5f00\uff0c\u56e0\u4e3a\uff1a 1. <code>.gitignore</code> \u5df2\u6b63\u786e\u914d\u7f6e\uff0c\u654f\u611f\u6587\u4ef6\u4e0d\u4f1a\u88ab\u63d0\u4ea4 2. <code>.env.example</code> \u53ea\u662f\u6a21\u677f\uff0c\u4e0d\u5305\u542b\u771f\u5b9e\u6570\u636e 3. \u7528\u6237\u9700\u8981\u81ea\u5df1\u914d\u7f6e <code>.env</code> \u6587\u4ef6</p>"},{"location":"public-vs-private/#_6","title":"\u9002\u7528\u573a\u666f","text":""},{"location":"public-vs-private/#public-repo_1","title":"\u63a8\u8350\u4f7f\u7528 Public Repo","text":"<p>\u2705 \u4e2a\u4eba\u9879\u76ee - \u4ee3\u7801\u4e0d\u6d89\u53ca\u5546\u4e1a\u673a\u5bc6 \u2705 \u5f00\u6e90\u5de5\u5177 - \u60f3\u8981\u5206\u4eab\u7ed9\u793e\u533a \u2705 \u5b66\u4e60\u9879\u76ee - \u7528\u4e8e\u5b66\u4e60\u548c\u5c55\u793a \u2705 \u5de5\u5177\u5e93 - SDK\u3001\u6846\u67b6\u7b49\u901a\u7528\u5de5\u5177 \u2705 \u534f\u4f5c\u5f00\u53d1 - \u591a\u4eba\u534f\u4f5c\uff0c\u7b80\u5316\u6d41\u7a0b</p>"},{"location":"public-vs-private/#private-repo_1","title":"\u63a8\u8350\u4f7f\u7528 Private Repo","text":"<p>\u26a0\ufe0f \u5546\u4e1a\u9879\u76ee - \u6d89\u53ca\u5546\u4e1a\u673a\u5bc6 \u26a0\ufe0f \u4f01\u4e1a\u5185\u90e8 - \u4ec5\u9650\u5185\u90e8\u4f7f\u7528 \u26a0\ufe0f \u4e13\u6709\u7b97\u6cd5 - \u5305\u542b\u6838\u5fc3\u6280\u672f \u26a0\ufe0f \u672a\u5b8c\u6210\u9879\u76ee - \u6682\u4e0d\u60f3\u516c\u5f00</p>"},{"location":"public-vs-private/#_7","title":"\u8fc1\u79fb\u5efa\u8bae","text":""},{"location":"public-vs-private/#private-public","title":"\u4ece Private \u8fc1\u79fb\u5230 Public","text":"<ol> <li> <p>\u68c0\u67e5\u654f\u611f\u4fe1\u606f <pre><code># \u641c\u7d22\u53ef\u80fd\u7684\u654f\u611f\u4fe1\u606f\ngit log --all --full-history --source -- .env\ngit grep -i \"password\\|secret\\|token\" -- ':!.env.example'\n</code></pre></p> </li> <li> <p>\u4fee\u6539\u4ed3\u5e93\u53ef\u89c1\u6027 <pre><code># \u4f7f\u7528 GitHub CLI\ngh repo edit --visibility public\n\n# \u6216\u5728 GitHub \u7f51\u9875\u4e0a\uff1a\n# Settings \u2192 Danger Zone \u2192 Change repository visibility\n</code></pre></p> </li> <li> <p>\u91cd\u65b0\u53d1\u5e03\uff08\u5982\u679c\u9700\u8981\uff09    <pre><code>git push origin main\n</code></pre></p> </li> </ol>"},{"location":"public-vs-private/#public-private","title":"\u4ece Public \u8fc1\u79fb\u5230 Private","text":"<pre><code># \u4f7f\u7528 GitHub CLI\ngh repo edit --visibility private\n</code></pre>"},{"location":"public-vs-private/#public-repo_2","title":"\u63a8\u8350\u65b9\u6848\uff1aPublic Repo","text":""},{"location":"public-vs-private/#public","title":"\u4e3a\u4ec0\u4e48\u63a8\u8350 Public\uff1f","text":"<ol> <li>\u4ee3\u7801\u5df2\u7ecf\u505a\u597d\u4fdd\u62a4</li> <li>\u2705 <code>.gitignore</code> \u914d\u7f6e\u6b63\u786e</li> <li>\u2705 <code>.env.example</code> \u53ea\u662f\u6a21\u677f</li> <li> <p>\u2705 \u6587\u6863\u4e2d\u6ca1\u6709\u771f\u5b9e token</p> </li> <li> <p>\u5b89\u88c5\u4f7f\u7528\u6781\u5176\u7b80\u5355 <pre><code># \u4e00\u884c\u547d\u4ee4\uff0c\u65e0\u9700\u4efb\u4f55\u914d\u7f6e\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre></p> </li> <li> <p>\u4fbf\u4e8e\u5206\u4eab\u548c\u534f\u4f5c</p> </li> <li>\u53ef\u4ee5\u5206\u4eab\u7ed9\u540c\u4e8b\u3001\u670b\u53cb</li> <li>\u53ef\u4ee5\u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u76f4\u63a5\u4f7f\u7528</li> <li> <p>\u53ef\u4ee5\u63a5\u53d7 Pull Request</p> </li> <li> <p>\u672a\u6765\u53ef\u4ee5\u53d1\u5e03\u5230 PyPI <pre><code># \u6700\u7ec8\u76ee\u6807\uff1a\u50cf\u666e\u901a\u5305\u4e00\u6837\u5b89\u88c5\npip install ai-sdk\n</code></pre></p> </li> </ol>"},{"location":"public-vs-private/#public-repo_3","title":"\u5982\u4f55\u53d1\u5e03 Public Repo","text":""},{"location":"public-vs-private/#1-public","title":"\u65b9\u6cd5 1: \u521b\u5efa\u65b0\u4ed3\u5e93\u65f6\u9009\u62e9 Public","text":"<pre><code># \u4f7f\u7528 GitHub CLI\uff08\u63a8\u8350\uff09\ngh repo create ai-sdk --public --source=. --push\n\n# \u6216\u4f7f\u7528\u811a\u672c\uff08\u4fee\u6539\u540e\u7684\u7248\u672c\uff09\n./scripts/publish_to_github_public.sh\n</code></pre>"},{"location":"public-vs-private/#2","title":"\u65b9\u6cd5 2: \u4fee\u6539\u73b0\u6709\u4ed3\u5e93","text":"<pre><code># \u5982\u679c\u5df2\u7ecf\u521b\u5efa\u4e86 private repo\ngh repo edit --visibility public\n</code></pre>"},{"location":"public-vs-private/#3","title":"\u65b9\u6cd5 3: \u7f51\u9875\u64cd\u4f5c","text":"<ol> <li>\u8bbf\u95ee\u4ed3\u5e93\u9875\u9762</li> <li>Settings \u2192 Danger Zone</li> <li>Change repository visibility \u2192 Make public</li> </ol>"},{"location":"public-vs-private/#_8","title":"\u6700\u7ec8\u5efa\u8bae","text":""},{"location":"public-vs-private/#public-repo_4","title":"\u2705 \u63a8\u8350\u4f7f\u7528 Public Repo","text":"<p>\u7406\u7531: 1. \u8fd9\u4e2a SDK \u672c\u8eab\u4e0d\u5305\u542b\u654f\u611f\u4fe1\u606f 2. \u7528\u6237\u7684\u654f\u611f\u4fe1\u606f\uff08token\uff09\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e 3. \u5b89\u88c5\u4f7f\u7528\u6781\u5176\u7b80\u5355 4. \u4fbf\u4e8e\u7ef4\u62a4\u548c\u5206\u4eab 5. \u7b26\u5408\u5f00\u6e90\u7cbe\u795e</p>"},{"location":"public-vs-private/#_9","title":"\u5982\u679c\u4f60\u4ecd\u62c5\u5fc3","text":"<p>\u53ef\u4ee5\u91c7\u7528\u6df7\u5408\u65b9\u6848: - SDK \u4ee3\u7801 \u2192 Public Repo\uff08\u672c\u9879\u76ee\uff09 - \u4f7f\u7528\u914d\u7f6e \u2192 Private Repo\uff08\u4f60\u7684\u5b9e\u9645\u9879\u76ee\uff09</p> <p>\u8fd9\u6837\uff1a - SDK \u516c\u5f00\uff0c\u65b9\u4fbf\u4f7f\u7528 - \u4f60\u7684\u9879\u76ee\u914d\u7f6e\uff08.env\uff09\u4fdd\u6301\u79c1\u5bc6 - \u4e24\u5168\u5176\u7f8e\uff01</p>"},{"location":"public-vs-private/#_10","title":"\u7acb\u5373\u884c\u52a8","text":""},{"location":"public-vs-private/#public-repo_5","title":"\u53d1\u5e03\u4e3a Public Repo","text":"<pre><code># \u8fd0\u884c\u4fee\u6539\u540e\u7684\u811a\u672c\n./scripts/publish_to_github_public.sh\n\n# \u6216\u624b\u52a8\u6267\u884c\ngh repo create ai-sdk --public --source=. --push\n</code></pre>"},{"location":"public-vs-private/#_11","title":"\u5b89\u88c5\u4f7f\u7528","text":"<pre><code># \u8d85\u7ea7\u7b80\u5355\uff01\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre>"},{"location":"public-vs-private/#_12","title":"\u603b\u7ed3","text":"\u65b9\u9762 \u7ed3\u8bba \u5b89\u5168\u6027 \u2705 \u654f\u611f\u4fe1\u606f\u5df2\u901a\u8fc7 .gitignore \u4fdd\u62a4 \u4fbf\u5229\u6027 \u2705 Public \u6781\u5176\u65b9\u4fbf \u5206\u4eab\u6027 \u2705 Public \u6613\u4e8e\u5206\u4eab \u63a8\u8350 \u2705 \u4f7f\u7528 Public Repo <p>\u6700\u7ec8\u5efa\u8bae: \u4f7f\u7528 Public Repo \ud83c\udf89</p> <p>\u9664\u975e\u6709\u7279\u6b8a\u7684\u5546\u4e1a\u6216\u9690\u79c1\u9700\u6c42\uff0c\u5426\u5219 Public \u662f\u6700\u4f73\u9009\u62e9\uff01</p>"},{"location":"publish-guide/","title":"\u5feb\u901f\u53d1\u5e03\u6307\u5357","text":""},{"location":"publish-guide/#public-private","title":"\ud83d\udca1 \u9996\u5148\u9009\u62e9\uff1aPublic \u8fd8\u662f Private\uff1f","text":""},{"location":"publish-guide/#public-repo","title":"\u2705 \u63a8\u8350\uff1aPublic Repo\uff08\u516c\u5f00\u4ed3\u5e93\uff09","text":"<p>\u4f18\u52bf\uff1a - \ud83d\ude80 \u5b89\u88c5\u8d85\u7ea7\u7b80\u5355 - \u65e0\u9700\u914d\u7f6e token - \ud83d\udce6 \u4e00\u884c\u547d\u4ee4\u5b89\u88c5 - <code>pip install git+https://github.com/YOUR_USERNAME/ai-sdk.git</code> - \ud83e\udd1d \u6613\u4e8e\u5206\u4eab - \u53ef\u4ee5\u5206\u4eab\u7ed9\u4efb\u4f55\u4eba - \ud83c\udf1f \u652f\u6301\u534f\u4f5c - \u65b9\u4fbf\u63a5\u53d7 Pull Request</p> <p>\u5b89\u5168\u6027\uff1a - \u2705 \u4ee3\u7801\u672c\u8eab\u4e0d\u5305\u542b\u654f\u611f\u4fe1\u606f - \u2705 API token \u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\uff08.env\uff09 - \u2705 .gitignore \u5df2\u6b63\u786e\u914d\u7f6e</p> <p>\ud83d\udcd6 \u8be6\u7ec6\u5bf9\u6bd4\u8bf7\u67e5\u770b PUBLIC_VS_PRIVATE.md</p>"},{"location":"publish-guide/#private-repo","title":"\u26a0\ufe0f \u53ef\u9009\uff1aPrivate Repo\uff08\u79c1\u6709\u4ed3\u5e93\uff09","text":"<p>\u9002\u7528\u573a\u666f\uff1a - \ud83d\udd12 \u5305\u542b\u5546\u4e1a\u673a\u5bc6 - \ud83c\udfe2 \u4ec5\u9650\u5185\u90e8\u4f7f\u7528 - \ud83d\udd10 \u9700\u8981\u8bbf\u95ee\u63a7\u5236</p> <p>\u7f3a\u70b9\uff1a - \u9700\u8981\u521b\u5efa GitHub token - \u5b89\u88c5\u65f6\u9700\u8981\u914d\u7f6e\u73af\u5883\u53d8\u91cf - \u6bcf\u4e2a\u73af\u5883\u90fd\u8981\u914d\u7f6e</p>"},{"location":"publish-guide/#1","title":"\ud83d\ude80 \u65b9\u6cd5 1: \u4e00\u952e\u53d1\u5e03\u811a\u672c\uff08\u63a8\u8350\uff09","text":""},{"location":"publish-guide/#public-repo_1","title":"Public Repo\uff08\u63a8\u8350\uff09\u2b50","text":"<pre><code># \u53d1\u5e03\u4e3a Public \u4ed3\u5e93\n./scripts/publish_to_github_public.sh\n</code></pre> <p>\u7279\u70b9\uff1a - \u81ea\u52a8\u5b89\u5168\u68c0\u67e5 - \u68c0\u6d4b\u654f\u611f\u4fe1\u606f - \u521b\u5efa Public \u4ed3\u5e93 - \u5b89\u88c5\u8d85\u7ea7\u7b80\u5355</p>"},{"location":"publish-guide/#private-repo_1","title":"Private Repo","text":"<pre><code># \u53d1\u5e03\u4e3a Private \u4ed3\u5e93\n./scripts/publish_to_github.sh\n</code></pre> <p>\u6309\u63d0\u793a\u8f93\u5165\uff1a - \u4ed3\u5e93\u540d\u79f0\uff08\u9ed8\u8ba4: ai-sdk\uff09 - \u7248\u672c\u53f7\uff08\u9ed8\u8ba4: v0.1.0\uff09</p> <p>\u811a\u672c\u4f1a\u81ea\u52a8\u5b8c\u6210\uff1a 1. \u2705 \u521d\u59cb\u5316 Git \u4ed3\u5e93 2. \u2705 \u521b\u5efa GitHub \u4ed3\u5e93\uff08Public \u6216 Private\uff09 3. \u2705 \u63a8\u9001\u4ee3\u7801 4. \u2705 \u521b\u5efa\u7248\u672c\u6807\u7b7e</p>"},{"location":"publish-guide/#2","title":"\ud83d\udce6 \u65b9\u6cd5 2: \u624b\u52a8\u53d1\u5e03","text":""},{"location":"publish-guide/#1_1","title":"\u6b65\u9aa4 1: \u521d\u59cb\u5316\u5e76\u63d0\u4ea4","text":"<pre><code>git init\ngit add .\ngit commit -m \"Initial commit: AI SDK v0.1.0\"\n</code></pre>"},{"location":"publish-guide/#2-github","title":"\u6b65\u9aa4 2: \u521b\u5efa GitHub \u4ed3\u5e93","text":"<p>Public Repo\uff08\u63a8\u8350\uff09\u2b50\uff1a <pre><code>gh repo create ai-sdk --public --source=. --push\n</code></pre></p> <p>Private Repo\uff1a <pre><code>gh repo create ai-sdk --private --source=. --push\n</code></pre></p>"},{"location":"publish-guide/#3","title":"\u6b65\u9aa4 3: \u521b\u5efa\u7248\u672c\u6807\u7b7e\uff08\u53ef\u9009\uff09","text":"<pre><code>git tag -a v0.1.0 -m \"Release v0.1.0\"\ngit push origin v0.1.0\n</code></pre>"},{"location":"publish-guide/#_2","title":"\ud83d\udcbb \u5728\u5176\u4ed6\u9879\u76ee\u4e2d\u5b89\u88c5","text":""},{"location":"publish-guide/#public-repo-","title":"Public Repo - \u8d85\u7ea7\u7b80\u5355\uff01\u2b50","text":"<p>\u65e0\u9700\u4efb\u4f55\u914d\u7f6e\uff0c\u76f4\u63a5\u5b89\u88c5\uff1a</p> <pre><code># \u5b89\u88c5\u6700\u65b0\u7248\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5b89\u88c5\u7279\u5b9a\u7248\u672c\npip install git+https://github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n</code></pre> <p>\u5728 requirements.txt \u4e2d\uff1a</p> <pre><code>git+https://github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre> <p>\u5c31\u8fd9\u4e48\u7b80\u5355\uff01\ud83c\udf89</p>"},{"location":"publish-guide/#private-repo-token","title":"Private Repo - \u9700\u8981\u914d\u7f6e Token","text":""},{"location":"publish-guide/#personal-access-token","title":"\u524d\u7f6e\u6b65\u9aa4\uff1a\u521b\u5efa Personal Access Token","text":"<ol> <li>\u8bbf\u95ee https://github.com/settings/tokens</li> <li>\u70b9\u51fb \"Generate new token (classic)\"</li> <li>\u52fe\u9009 <code>repo</code> \u6743\u9650</li> <li>\u751f\u6210\u5e76\u590d\u5236 token</li> </ol>"},{"location":"publish-guide/#1_2","title":"\u65b9\u6cd5 1: \u73af\u5883\u53d8\u91cf\u65b9\u5f0f\uff08\u63a8\u8350\uff09","text":"<pre><code># \u8bbe\u7f6e token\nexport GITHUB_TOKEN=ghp_your_token_here\n\n# \u5b89\u88c5\u6700\u65b0\u7248\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5b89\u88c5\u7279\u5b9a\u7248\u672c\npip install git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git@v0.1.0\n</code></pre>"},{"location":"publish-guide/#2-requirementstxt","title":"\u65b9\u6cd5 2: \u4f7f\u7528 requirements.txt","text":"<p>\u521b\u5efa <code>requirements.txt</code>:</p> <pre><code># \u9700\u8981\u5148\u8bbe\u7f6e GITHUB_TOKEN \u73af\u5883\u53d8\u91cf\ngit+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n</code></pre> <p>\u5b89\u88c5:</p> <pre><code>export GITHUB_TOKEN=ghp_your_token_here\npip install -r requirements.txt\n</code></pre>"},{"location":"publish-guide/#3_1","title":"\u65b9\u6cd5 3: \u4f7f\u7528\u5b89\u88c5\u811a\u672c","text":"<pre><code>export GITHUB_TOKEN=ghp_your_token_here\n./scripts/install_example.sh\n</code></pre>"},{"location":"publish-guide/#_3","title":"\u2705 \u9a8c\u8bc1\u5b89\u88c5","text":"<pre><code># test.py\nfrom ai_sdk import AIClient\n\n# \u6d4b\u8bd5\u5bfc\u5165\nprint(\"\u2705 AI SDK \u5b89\u88c5\u6210\u529f\uff01\")\n\n# \u6d4b\u8bd5\u529f\u80fd\uff08\u9700\u8981\u914d\u7f6e API token\uff09\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"publish-guide/#_4","title":"\ud83d\udccb \u5e38\u7528\u547d\u4ee4\u901f\u67e5","text":"<pre><code># \u53d1\u5e03\u65b0\u7248\u672c\ngit tag -a v0.2.0 -m \"Release v0.2.0\"\ngit push origin v0.2.0\n\n# \u66f4\u65b0\u5230\u6700\u65b0\u7248\npip install --upgrade git+https://${GITHUB_TOKEN}@github.com/YOUR_USERNAME/ai-sdk.git\n\n# \u5378\u8f7d\npip uninstall ai-sdk\n\n# \u67e5\u770b\u5df2\u5b89\u88c5\u7248\u672c\npip show ai-sdk\n</code></pre>"},{"location":"publish-guide/#_5","title":"\ud83d\udd27 \u6545\u969c\u6392\u67e5","text":""},{"location":"publish-guide/#_6","title":"\u95ee\u9898: \u8ba4\u8bc1\u5931\u8d25","text":"<pre><code>ERROR: Repository not found or authentication failed\n</code></pre> <p>\u89e3\u51b3: \u68c0\u67e5 token \u662f\u5426\u6709\u6548\uff0c\u662f\u5426\u6709 <code>repo</code> \u6743\u9650</p>"},{"location":"publish-guide/#_7","title":"\u95ee\u9898: \u627e\u4e0d\u5230\u4ed3\u5e93","text":"<pre><code>ERROR: Could not find a version that satisfies the requirement\n</code></pre> <p>\u89e3\u51b3: \u786e\u8ba4\u4ed3\u5e93\u540d\u79f0\u548c\u7528\u6237\u540d\u6b63\u786e</p>"},{"location":"publish-guide/#_8","title":"\ud83d\udcda \u5b8c\u6574\u6587\u6863","text":"<ul> <li>GITHUB_SETUP.md - \u8be6\u7ec6\u7684\u53d1\u5e03\u548c\u5b89\u88c5\u6307\u5357</li> <li>README.md - \u9879\u76ee\u4f7f\u7528\u6587\u6863</li> </ul> <p>\u63d0\u793a: \u7b2c\u4e00\u6b21\u53d1\u5e03\u5efa\u8bae\u9605\u8bfb GITHUB_SETUP.md \u4e86\u89e3\u8be6\u7ec6\u6d41\u7a0b\u3002</p>"},{"location":"quick-reference/","title":"AI SDK \u5feb\u901f\u53c2\u8003","text":""},{"location":"quick-reference/#_1","title":"\u57fa\u7840\u5bf9\u8bdd","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",  # \u6216 \"gemini\"\n        messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"quick-reference/#_2","title":"\u56fe\u7247\u751f\u6210 \ud83c\udfa8","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u5f20\u672a\u6765\u57ce\u5e02\u7684\u56fe\u7247\"}],\n        generate_image=True  # \u2190 \u5173\u952e\u53c2\u6570\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"quick-reference/#_3","title":"\u56fe\u7247\u5206\u6790 \ud83d\udd0d","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u63cf\u8ff0\u8fd9\u5f20\u56fe\u7247\"}],\n        image_url=\"http://example.com/image.png\"\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"quick-reference/#_4","title":"\u6df1\u5ea6\u7814\u7a76 \ud83d\udd2c","text":"<pre><code>with AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4eba\u5de5\u667a\u80fd\u7684\u53d1\u5c55\u5386\u53f2\"}],\n        deep_research=True  # \u2190 \u5173\u952e\u53c2\u6570\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"quick-reference/#_5","title":"\u7ec4\u5408\u529f\u80fd \ud83d\ude80","text":""},{"location":"quick-reference/#_6","title":"\u53c2\u8003\u56fe\u7247 + \u751f\u6210\u65b0\u56fe","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[{\"role\": \"user\", \"content\": \"\u53c2\u8003\u8fd9\u5f20\u56fe\u7684\u98ce\u683c\u751f\u6210\u65b0\u56fe\"}],\n    image_url=\"http://example.com/ref.png\",\n    generate_image=True\n)\n</code></pre>"},{"location":"quick-reference/#_7","title":"\u6df1\u5ea6\u7814\u7a76 + \u56fe\u7247\u751f\u6210","text":"<pre><code>response = client.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[{\"role\": \"user\", \"content\": \"\u7814\u7a76\u5370\u8c61\u6d3e\u98ce\u683c\uff0c\u751f\u6210\u4e00\u5f20\u73b0\u4ee3\u57ce\u5e02\"}],\n    deep_research=True,\n    generate_image=True\n)\n</code></pre>"},{"location":"quick-reference/#_8","title":"\u53c2\u6570\u901f\u67e5\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u503c <code>model</code> str \u6a21\u578b\uff1a<code>yuanbao</code> \u6216 <code>gemini</code> <code>yuanbao</code> <code>messages</code> List \u5bf9\u8bdd\u6d88\u606f\u5217\u8868 \u5fc5\u586b <code>image_url</code> str \u56fe\u7247URL <code>None</code> <code>image_data</code> str \u56fe\u7247Base64 <code>None</code> <code>generate_image</code> bool \u751f\u6210\u56fe\u7247 <code>False</code> <code>deep_research</code> bool \u6df1\u5ea6\u7814\u7a76 <code>False</code>"},{"location":"quick-reference/#_9","title":"\u9519\u8bef\u5904\u7406","text":"<pre><code>from ai_sdk import AIClient, AIAPIError, TimeoutError\n\ntry:\n    with AIClient() as client:\n        response = client.chat.completions.create(...)\nexcept TimeoutError:\n    print(\"\u8bf7\u6c42\u8d85\u65f6\")\nexcept AIAPIError as e:\n    print(f\"API\u9519\u8bef: {e}\")\n</code></pre>"},{"location":"quick-reference/#_10","title":"\u914d\u7f6e","text":""},{"location":"quick-reference/#env","title":"\u73af\u5883\u53d8\u91cf (.env)","text":"<pre><code>AI_API_TOKEN=spsw.your_token\nAI_API_BASE_URL=http://your_server/api/v1\nAI_API_TIMEOUT=30\n</code></pre>"},{"location":"quick-reference/#_11","title":"\u4ee3\u7801\u914d\u7f6e","text":"<pre><code>client = AIClient(\n    api_token=\"spsw.your_token\",\n    base_url=\"http://your_server/api/v1\",\n    timeout=60\n)\n</code></pre>"},{"location":"quick-reference/#_12","title":"\u793a\u4f8b\u4ee3\u7801","text":"<pre><code># \u57fa\u7840\u5bf9\u8bdd\npython examples/basic_chat.py\n\n# \u56fe\u7247\u5206\u6790\npython examples/image_analysis.py\n\n# \u56fe\u7247\u751f\u6210 \u2b50NEW\npython examples/image_generation.py\n\n# \u9ad8\u7ea7\u7528\u6cd5\npython examples/advanced_usage.py\n</code></pre>"},{"location":"quick-reference/#_13","title":"\u6587\u6863","text":"<ul> <li>\ud83d\udcd6 README.md - \u5b8c\u6574\u6587\u6863</li> <li>\ud83d\ude80 QUICKSTART.md - \u5feb\u901f\u5f00\u59cb</li> <li>\ud83d\udcd8 USAGE.md - \u4f7f\u7528\u624b\u518c</li> <li>\ud83c\udfa8 IMAGE_GENERATION_GUIDE.md - \u56fe\u7247\u751f\u6210\u6307\u5357</li> <li>\ud83d\udccb PROJECT_SUMMARY.md - \u9879\u76ee\u603b\u7ed3</li> </ul>"},{"location":"quick-reference/#_14","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code># \u5b89\u88c5\u4f9d\u8d56\npip install -r requirements.txt\n\n# \u9a8c\u8bc1\u5b89\u88c5\npython verify_installation.py\n\n# \u914d\u7f6e\u73af\u5883\ncp .env.example .env\n# \u7136\u540e\u7f16\u8f91 .env \u6587\u4ef6\n\n# \u8fd0\u884c\u6d4b\u8bd5\npytest tests/ -v\n</code></pre> <p>\u63d0\u793a: \u56fe\u7247\u751f\u6210\u529f\u80fd\u5df2\u5b8c\u5168\u96c6\u6210\uff0c\u53ea\u9700\u8bbe\u7f6e <code>generate_image=True</code> \u5373\u53ef\uff01</p>"},{"location":"quickstart/","title":"\u5feb\u901f\u5f00\u59cb\u6307\u5357","text":"<p>\u8fd9\u4e2a\u6307\u5357\u5c06\u5e2e\u52a9\u4f60\u57285\u5206\u949f\u5185\u5f00\u59cb\u4f7f\u7528AI SDK\u3002</p>"},{"location":"quickstart/#1","title":"\u6b65\u9aa41: \u5b89\u88c5\u4f9d\u8d56","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"quickstart/#2","title":"\u6b65\u9aa42: \u914d\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u590d\u5236\u73af\u5883\u53d8\u91cf\u6a21\u677f\u5e76\u586b\u5165\u4f60\u7684\u914d\u7f6e\uff1a</p> <pre><code>cp .env.example .env\n</code></pre> <p>\u7f16\u8f91 <code>.env</code> \u6587\u4ef6\uff0c\u586b\u5165\u4f60\u7684 API Token\uff1a</p> <pre><code>AI_API_TOKEN=spsw.your_token_here\n</code></pre> <p>\u63d0\u793a: - SDK \u5df2\u5185\u7f6e\u9ed8\u8ba4\u7684 API \u670d\u52a1\u5730\u5740\uff0c\u65e0\u9700\u914d\u7f6e <code>AI_API_BASE_URL</code> - \u5982\u9700\u4f7f\u7528\u81ea\u5b9a\u4e49\u670d\u52a1\u5730\u5740\uff0c\u53ef\u9009\u914d\u7f6e <code>AI_API_BASE_URL=http://your_custom_server/api/v1</code></p>"},{"location":"quickstart/#3","title":"\u6b65\u9aa43: \u8fd0\u884c\u4f60\u7684\u7b2c\u4e00\u4e2a\u8bf7\u6c42","text":"<p>\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6 <code>test.py</code>\uff1a</p> <pre><code>from ai_sdk import AIClient\n\n# \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nwith AIClient() as client:\n    # \u53d1\u8d77\u5bf9\u8bdd\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u4ec0\u4e48\u662fPython\uff1f\"}\n        ]\n    )\n\n    # \u6253\u5370\u56de\u7b54\n    print(response.choices[0].message.content)\n</code></pre> <p>\u8fd0\u884c\uff1a</p> <pre><code>python test.py\n</code></pre>"},{"location":"quickstart/#4","title":"\u6b65\u9aa44: \u5c1d\u8bd5\u66f4\u591a\u529f\u80fd","text":""},{"location":"quickstart/#_2","title":"\u591a\u8f6e\u5bf9\u8bdd","text":"<pre><code>from ai_sdk import AIClient, ChatMessage\n\nwith AIClient() as client:\n    messages = [\n        ChatMessage(role=\"system\", content=\"\u4f60\u662f\u4e00\u4e2a\u7f16\u7a0b\u52a9\u624b\"),\n        ChatMessage(role=\"user\", content=\"\u5982\u4f55\u5b66\u4e60Python\uff1f\")\n    ]\n\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=messages\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"quickstart/#_3","title":"\u56fe\u7247\u5206\u6790","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u8bf7\u63cf\u8ff0\u8fd9\u5f20\u56fe\u7247\"}\n        ],\n        image_url=\"http://example.com/image.png\"\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"quickstart/#_4","title":"\u6df1\u5ea6\u7814\u7a76\u6a21\u5f0f","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u4eba\u5de5\u667a\u80fd\u7684\u53d1\u5c55\u5386\u53f2\"}\n        ],\n        deep_research=True  # \u542f\u7528\u6df1\u5ea6\u7814\u7a76\n    )\n\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"quickstart/#5","title":"\u6b65\u9aa45: \u8fd0\u884c\u793a\u4f8b\u4ee3\u7801","text":"<p>\u9879\u76ee\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u793a\u4f8b\u4ee3\u7801\uff1a</p> <pre><code># \u57fa\u7840\u5bf9\u8bdd\u793a\u4f8b\npython examples/basic_chat.py\n\n# \u56fe\u7247\u5206\u6790\u793a\u4f8b\npython examples/image_analysis.py\n\n# \u9ad8\u7ea7\u7528\u6cd5\u793a\u4f8b\npython examples/advanced_usage.py\n</code></pre>"},{"location":"quickstart/#_5","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"quickstart/#1_1","title":"1. \u8ba4\u8bc1\u5931\u8d25\u600e\u4e48\u529e\uff1f","text":"<p>\u68c0\u67e5 <code>.env</code> \u6587\u4ef6\u4e2d\u7684 <code>AI_API_TOKEN</code> \u662f\u5426\u6b63\u786e\u3002</p>"},{"location":"quickstart/#2_1","title":"2. \u8fde\u63a5\u8d85\u65f6\u600e\u4e48\u529e\uff1f","text":"<p>\u53ef\u4ee5\u589e\u52a0\u8d85\u65f6\u65f6\u95f4\uff1a</p> <pre><code>client = AIClient(timeout=60)  # 60\u79d2\u8d85\u65f6\n</code></pre>"},{"location":"quickstart/#3_1","title":"3. \u5982\u4f55\u542f\u7528\u8c03\u8bd5\u65e5\u5fd7\uff1f","text":"<pre><code>import logging\nlogging.basicConfig(level=logging.DEBUG)\n</code></pre>"},{"location":"quickstart/#4_1","title":"4. \u652f\u6301\u54ea\u4e9b\u6a21\u578b\uff1f","text":"<ul> <li><code>yuanbao</code> (\u5143\u5b9d\u6a21\u578b)</li> <li><code>gemini</code> (Gemini\u6a21\u578b)</li> </ul>"},{"location":"quickstart/#_6","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u9605\u8bfb\u5b8c\u6574\u7684 README.md</li> <li>\u67e5\u770b API\u53c2\u8003\u6587\u6863</li> <li>\u67e5\u770b\u66f4\u591a \u793a\u4f8b\u4ee3\u7801</li> <li>\u4e86\u89e3 \u9519\u8bef\u5904\u7406</li> </ul>"},{"location":"quickstart/#_7","title":"\u9700\u8981\u5e2e\u52a9\uff1f","text":"<ul> <li>\u67e5\u770b \u5e38\u89c1\u95ee\u9898</li> <li>\u67e5\u770b API\u6587\u6863</li> <li>\u63d0\u4ea4 Issue</li> </ul> <p>\u795d\u4f60\u4f7f\u7528\u6109\u5feb\uff01 \ud83c\udf89</p>"},{"location":"usage/","title":"\u4f7f\u7528\u624b\u518c","text":""},{"location":"usage/#_2","title":"\u76ee\u5f55","text":"<ol> <li>\u5f00\u59cb\u4f7f\u7528</li> <li>\u57fa\u7840\u529f\u80fd</li> <li>\u9ad8\u7ea7\u529f\u80fd</li> <li>\u6700\u4f73\u5b9e\u8df5</li> <li>\u6545\u969c\u6392\u67e5</li> </ol>"},{"location":"usage/#_3","title":"\u5f00\u59cb\u4f7f\u7528","text":""},{"location":"usage/#_4","title":"\u7b2c\u4e00\u6b65\uff1a\u5b89\u88c5\u4f9d\u8d56","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"usage/#api","title":"\u7b2c\u4e8c\u6b65\uff1a\u914d\u7f6eAPI","text":"<p>\u914d\u7f6e\u4f60\u7684 API Token\uff1a</p> <pre><code>cp .env.example .env\n</code></pre> <p>\u7f16\u8f91 <code>.env</code> \u6587\u4ef6\uff0c\u586b\u5165\u4f60\u7684 API Token\uff1a</p> <pre><code>AI_API_TOKEN=spsw.your_token_here\n</code></pre> <p>\u63d0\u793a: SDK \u5df2\u5185\u7f6e\u9ed8\u8ba4\u670d\u52a1\u5730\u5740\uff0c\u65e0\u9700\u914d\u7f6e <code>AI_API_BASE_URL</code>\u3002\u5982\u9700\u4f7f\u7528\u81ea\u5b9a\u4e49\u670d\u52a1\u5730\u5740\uff0c\u53ef\u9009\u914d\u7f6e\u8be5\u73af\u5883\u53d8\u91cf\u3002</p>"},{"location":"usage/#_5","title":"\u7b2c\u4e09\u6b65\uff1a\u9a8c\u8bc1\u5b89\u88c5","text":"<pre><code>python verify_installation.py\n</code></pre> <p>\u770b\u5230 \"SDK\u5b89\u88c5\u5b8c\u6574\uff0c\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528\uff01\" \u5373\u8868\u793a\u5b89\u88c5\u6210\u529f\u3002</p>"},{"location":"usage/#_6","title":"\u57fa\u7840\u529f\u80fd","text":""},{"location":"usage/#1","title":"1. \u7b80\u5355\u5bf9\u8bdd","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u4ec0\u4e48\u662fSEO\uff1f\"}\n        ]\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"usage/#2","title":"2. \u591a\u8f6e\u5bf9\u8bdd","text":"<pre><code>from ai_sdk import AIClient, ChatMessage\n\nwith AIClient() as client:\n    # \u6784\u5efa\u5bf9\u8bdd\u5386\u53f2\n    messages = [\n        ChatMessage(role=\"system\", content=\"\u4f60\u662f\u4e00\u4e2a\u7f16\u7a0b\u52a9\u624b\"),\n        ChatMessage(role=\"user\", content=\"Python\u6709\u4ec0\u4e48\u4f18\u70b9\uff1f\"),\n    ]\n\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=messages\n    )\n\n    # \u7ee7\u7eed\u5bf9\u8bdd\n    messages.append(ChatMessage(\n        role=\"assistant\",\n        content=response.choices[0].message.content\n    ))\n    messages.append(ChatMessage(\n        role=\"user\",\n        content=\"\u90a3\u5b83\u6709\u4ec0\u4e48\u7f3a\u70b9\u5417\uff1f\"\n    ))\n\n    response2 = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=messages\n    )\n    print(response2.choices[0].message.content)\n</code></pre>"},{"location":"usage/#3","title":"3. \u5207\u6362\u6a21\u578b","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    # \u4f7f\u7528\u5143\u5b9d\u6a21\u578b\n    response1 = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4ecb\u7ecdPython\"}]\n    )\n\n    # \u4f7f\u7528Gemini\u6a21\u578b\n    response2 = client.chat.completions.create(\n        model=\"gemini\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4ecb\u7ecdPython\"}]\n    )\n\n    # \u6bd4\u8f83\u4e24\u4e2a\u6a21\u578b\u7684\u56de\u7b54\n    print(\"\u5143\u5b9d:\", response1.choices[0].message.content)\n    print(\"\\nGemini:\", response2.choices[0].message.content)\n</code></pre>"},{"location":"usage/#_7","title":"\u9ad8\u7ea7\u529f\u80fd","text":""},{"location":"usage/#1-url","title":"1. \u56fe\u7247\u5206\u6790\uff08\u4f7f\u7528URL\uff09","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u8fd9\u5f20\u56fe\u7247\u7684\u5185\u5bb9\"}\n        ],\n        image_url=\"http://156.254.5.245:8089/img/generate_image/1395623752720640.png\"\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"usage/#2-base64","title":"2. \u56fe\u7247\u5206\u6790\uff08\u4f7f\u7528Base64\uff09","text":"<pre><code>import base64\nfrom ai_sdk import AIClient\n\n# \u8bfb\u53d6\u672c\u5730\u56fe\u7247\u5e76\u8f6c\u4e3aBase64\ndef encode_image(image_path):\n    with open(image_path, \"rb\") as f:\n        return base64.b64encode(f.read()).decode()\n\nwith AIClient() as client:\n    image_data = encode_image(\"path/to/your/image.png\")\n\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u8fd9\u5f20\u56fe\u7247\u91cc\u6709\u4ec0\u4e48\uff1f\"}\n        ],\n        image_data=image_data\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"usage/#3_1","title":"3. \u6df1\u5ea6\u7814\u7a76\u6a21\u5f0f","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u4eba\u5de5\u667a\u80fd\u7684\u53d1\u5c55\u5386\u53f2\u548c\u672a\u6765\u8d8b\u52bf\"}\n        ],\n        deep_research=True  # \u542f\u7528\u6df1\u5ea6\u7814\u7a76\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"usage/#4","title":"4. \u751f\u6210\u56fe\u7247","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[\n            {\"role\": \"user\", \"content\": \"\u751f\u6210\u4e00\u5f20\u672a\u6765\u57ce\u5e02\u7684\u56fe\u7247\"}\n        ],\n        generate_image=True  # \u542f\u7528\u56fe\u7247\u751f\u6210\n    )\n    print(response.choices[0].message.content)\n</code></pre>"},{"location":"usage/#5","title":"5. \u4efb\u52a1\u7ba1\u7406","text":"<pre><code>from ai_sdk import AIClient\n\nwith AIClient() as client:\n    # \u521b\u5efa\u4efb\u52a1\n    response = client.chat.completions.create(\n        model=\"yuanbao\",\n        messages=[{\"role\": \"user\", \"content\": \"\u4ecb\u7ecd\u673a\u5668\u5b66\u4e60\"}]\n    )\n\n    # \u83b7\u53d6\u4efb\u52a1ID\n    task_id = response.id\n    print(f\"\u4efb\u52a1ID: {task_id}\")\n\n    # \u7a0d\u540e\u67e5\u8be2\u4efb\u52a1\u7ed3\u679c\n    import time\n    time.sleep(5)\n\n    task_result = client.tasks.retrieve(task_id)\n    print(f\"\u72b6\u6001: {task_result['status']}\")\n    print(f\"\u7ed3\u679c: {task_result['answer']}\")\n</code></pre>"},{"location":"usage/#6","title":"6. \u9519\u8bef\u5904\u7406","text":"<pre><code>from ai_sdk import (\n    AIClient,\n    AuthenticationError,\n    InvalidRequestError,\n    TimeoutError,\n    AIAPIError\n)\nimport logging\n\n# \u542f\u7528\u65e5\u5fd7\nlogging.basicConfig(level=logging.INFO)\n\ntry:\n    with AIClient() as client:\n        response = client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n        )\n        print(response.choices[0].message.content)\n\nexcept AuthenticationError as e:\n    print(f\"\u8ba4\u8bc1\u5931\u8d25: {e}\")\n    print(\"\u8bf7\u68c0\u67e5 AI_API_TOKEN \u662f\u5426\u6b63\u786e\")\n\nexcept InvalidRequestError as e:\n    print(f\"\u8bf7\u6c42\u53c2\u6570\u9519\u8bef: {e}\")\n    print(\"\u8bf7\u68c0\u67e5\u8bf7\u6c42\u53c2\u6570\u662f\u5426\u6b63\u786e\")\n\nexcept TimeoutError as e:\n    print(f\"\u8bf7\u6c42\u8d85\u65f6: {e}\")\n    print(\"\u8bf7\u5c1d\u8bd5\u589e\u52a0\u8d85\u65f6\u65f6\u95f4\u6216\u7a0d\u540e\u91cd\u8bd5\")\n\nexcept AIAPIError as e:\n    print(f\"API\u9519\u8bef: {e}\")\n    print(f\"\u72b6\u6001\u7801: {e.status_code}\")\n    print(f\"\u54cd\u5e94: {e.response}\")\n</code></pre>"},{"location":"usage/#7","title":"7. \u6279\u91cf\u5904\u7406","text":"<pre><code>from ai_sdk import AIClient\nimport concurrent.futures\n\ndef process_question(client, question):\n    \"\"\"\u5904\u7406\u5355\u4e2a\u95ee\u9898\"\"\"\n    try:\n        response = client.chat.completions.create(\n            model=\"yuanbao\",\n            messages=[{\"role\": \"user\", \"content\": question}]\n        )\n        return {\n            \"question\": question,\n            \"answer\": response.choices[0].message.content,\n            \"success\": True\n        }\n    except Exception as e:\n        return {\n            \"question\": question,\n            \"error\": str(e),\n            \"success\": False\n        }\n\n# \u6279\u91cf\u95ee\u9898\u5217\u8868\nquestions = [\n    \"\u4ec0\u4e48\u662fPython\uff1f\",\n    \"\u4ec0\u4e48\u662fJavaScript\uff1f\",\n    \"\u4ec0\u4e48\u662fGo\u8bed\u8a00\uff1f\",\n    \"\u4ec0\u4e48\u662fRust\uff1f\"\n]\n\nwith AIClient() as client:\n    # \u4e32\u884c\u5904\u7406\n    results = []\n    for q in questions:\n        result = process_question(client, q)\n        results.append(result)\n\n    # \u8f93\u51fa\u7ed3\u679c\n    for r in results:\n        if r[\"success\"]:\n            print(f\"Q: {r['question']}\")\n            print(f\"A: {r['answer'][:100]}...\")\n            print()\n</code></pre>"},{"location":"usage/#_8","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"usage/#1_1","title":"1. \u4f7f\u7528\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p>\u63a8\u8350\u4f7f\u7528 <code>with</code> \u8bed\u53e5\uff0c\u81ea\u52a8\u7ba1\u7406\u8d44\u6e90\uff1a</p> <pre><code># \u2705 \u63a8\u8350\nwith AIClient() as client:\n    response = client.chat.completions.create(...)\n\n# \u274c \u4e0d\u63a8\u8350\nclient = AIClient()\nresponse = client.chat.completions.create(...)\n# \u5bb9\u6613\u5fd8\u8bb0\u8c03\u7528 client.close()\n</code></pre>"},{"location":"usage/#2_1","title":"2. \u5408\u7406\u8bbe\u7f6e\u8d85\u65f6","text":"<p>\u6839\u636e\u4efb\u52a1\u590d\u6742\u5ea6\u8bbe\u7f6e\u5408\u9002\u7684\u8d85\u65f6\u65f6\u95f4\uff1a</p> <pre><code># \u7b80\u5355\u67e5\u8be2 - \u77ed\u8d85\u65f6\nclient = AIClient(timeout=30)\n\n# \u6df1\u5ea6\u7814\u7a76 - \u957f\u8d85\u65f6\nclient = AIClient(timeout=120)\n</code></pre>"},{"location":"usage/#3_2","title":"3. \u542f\u7528\u65e5\u5fd7\u8c03\u8bd5","text":"<p>\u5f00\u53d1\u65f6\u542f\u7528\u8be6\u7ec6\u65e5\u5fd7\uff1a</p> <pre><code>import logging\n\n# \u5f00\u53d1\u73af\u5883\nlogging.basicConfig(level=logging.DEBUG)\n\n# \u751f\u4ea7\u73af\u5883\nlogging.basicConfig(level=logging.INFO)\n</code></pre>"},{"location":"usage/#4_1","title":"4. \u59a5\u5584\u5904\u7406\u5f02\u5e38","text":"<p>\u59cb\u7ec8\u6355\u83b7\u548c\u5904\u7406\u53ef\u80fd\u7684\u5f02\u5e38\uff1a</p> <pre><code>from ai_sdk import AIClient, AIAPIError\n\ntry:\n    with AIClient() as client:\n        response = client.chat.completions.create(...)\nexcept AIAPIError as e:\n    logging.error(f\"API\u8c03\u7528\u5931\u8d25: {e}\")\n    # \u5b9e\u65bd\u964d\u7ea7\u65b9\u6848\u6216\u91cd\u8bd5\u903b\u8f91\n</code></pre>"},{"location":"usage/#5_1","title":"5. \u4fdd\u62a4\u654f\u611f\u4fe1\u606f","text":"<p>\u6c38\u8fdc\u4e0d\u8981\u5728\u4ee3\u7801\u4e2d\u786c\u7f16\u7801Token\uff1a</p> <pre><code># \u274c \u5371\u9669\nclient = AIClient(api_token=\"spsw.your_token\")\n\n# \u2705 \u5b89\u5168\nclient = AIClient()  # \u4ece\u73af\u5883\u53d8\u91cf\u8bfb\u53d6\n</code></pre>"},{"location":"usage/#_9","title":"\u6545\u969c\u6392\u67e5","text":""},{"location":"usage/#1_2","title":"\u95ee\u98981: \u5bfc\u5165\u5931\u8d25","text":"<p>\u9519\u8bef: <code>ModuleNotFoundError: No module named 'ai_sdk'</code></p> <p>\u89e3\u51b3\u65b9\u6848: <pre><code># \u786e\u4fdd\u5728\u9879\u76ee\u6839\u76ee\u5f55\ncd /path/to/my_ai_api\n\n# \u786e\u4fdd\u4f9d\u8d56\u5df2\u5b89\u88c5\npip install -r requirements.txt\n\n# \u9a8c\u8bc1\u5b89\u88c5\npython verify_installation.py\n</code></pre></p>"},{"location":"usage/#2_2","title":"\u95ee\u98982: \u8ba4\u8bc1\u5931\u8d25","text":"<p>\u9519\u8bef: <code>AuthenticationError: \u8ba4\u8bc1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5API Token\u662f\u5426\u6b63\u786e</code></p> <p>\u89e3\u51b3\u65b9\u6848: 1. \u68c0\u67e5 <code>.env</code> \u6587\u4ef6\u662f\u5426\u5b58\u5728 2. \u68c0\u67e5 <code>AI_API_TOKEN</code> \u662f\u5426\u6b63\u786e 3. \u786e\u8ba4Token\u683c\u5f0f\uff1a<code>spsw.xxxxxxxxxx</code></p>"},{"location":"usage/#3_3","title":"\u95ee\u98983: \u8fde\u63a5\u5931\u8d25","text":"<p>\u9519\u8bef: <code>APIConnectionError: \u7f51\u7edc\u8fde\u63a5\u9519\u8bef</code></p> <p>\u89e3\u51b3\u65b9\u6848: 1. SDK \u4f7f\u7528\u5185\u7f6e\u7684\u9ed8\u8ba4\u670d\u52a1\u5730\u5740\uff0c\u4e00\u822c\u65e0\u9700\u914d\u7f6e 2. \u5982\u4f7f\u7528\u4e86\u81ea\u5b9a\u4e49 <code>AI_API_BASE_URL</code>\uff0c\u8bf7\u68c0\u67e5\u5730\u5740\u662f\u5426\u6b63\u786e 3. \u786e\u8ba4\u670d\u52a1\u5668\u662f\u5426\u53ef\u8bbf\u95ee 4. \u68c0\u67e5\u7f51\u7edc\u8fde\u63a5</p>"},{"location":"usage/#4_2","title":"\u95ee\u98984: \u8bf7\u6c42\u8d85\u65f6","text":"<p>\u9519\u8bef: <code>TimeoutError: \u8bf7\u6c42\u8d85\u65f6</code></p> <p>\u89e3\u51b3\u65b9\u6848: <pre><code># \u589e\u52a0\u8d85\u65f6\u65f6\u95f4\nclient = AIClient(timeout=60)\n\n# \u6216\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u8bbe\u7f6e\n# AI_API_TIMEOUT=60\n</code></pre></p>"},{"location":"usage/#5_2","title":"\u95ee\u98985: \u53c2\u6570\u9519\u8bef","text":"<p>\u9519\u8bef: <code>InvalidRequestError: messages\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a</code></p> <p>\u89e3\u51b3\u65b9\u6848: \u786e\u4fdd\u63d0\u4f9b\u4e86\u5fc5\u8981\u7684\u53c2\u6570\uff1a <pre><code># \u274c \u9519\u8bef\nclient.chat.completions.create(model=\"yuanbao\")\n\n# \u2705 \u6b63\u786e\nclient.chat.completions.create(\n    model=\"yuanbao\",\n    messages=[{\"role\": \"user\", \"content\": \"\u4f60\u597d\"}]\n)\n</code></pre></p>"},{"location":"usage/#_10","title":"\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f","text":"<p>\u9047\u5230\u95ee\u9898\u65f6\uff0c\u542f\u7528\u8c03\u8bd5\u65e5\u5fd7\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\uff1a</p> <pre><code>import logging\nlogging.basicConfig(\n    level=logging.DEBUG,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\n\n# \u7136\u540e\u8fd0\u884c\u4f60\u7684\u4ee3\u7801\nfrom ai_sdk import AIClient\n# ...\n</code></pre>"},{"location":"usage/#_11","title":"\u83b7\u53d6\u5e2e\u52a9","text":"<ul> <li>\u67e5\u770b README.md - \u5b8c\u6574\u6587\u6863</li> <li>\u67e5\u770b QUICKSTART.md - \u5feb\u901f\u5f00\u59cb</li> <li>\u67e5\u770b examples/ - \u793a\u4f8b\u4ee3\u7801</li> <li>\u8fd0\u884c <code>python verify_installation.py</code> - \u68c0\u67e5\u5b89\u88c5</li> <li>\u67e5\u770b API\u6587\u6863 - \u5b98\u65b9\u6587\u6863</li> </ul> <p>\u795d\u4f60\u4f7f\u7528\u6109\u5feb\uff01\u5982\u6709\u95ee\u9898\u6b22\u8fce\u53cd\u9988\u3002</p>"}]}